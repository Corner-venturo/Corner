{
  "extends": [
    "next/core-web-vitals",
    "prettier"
  ],
  "plugins": ["@typescript-eslint"],
  "env": {
    "browser": true,
    "es2021": true,
    "node": true,
    "jest": true
  },
  "globals": {
    "vi": "readonly",
    "global": "readonly"
  },
  "rules": {
    // Console 規則
    "no-console": ["warn", { "allow": ["warn", "error", "log", "info"] }],

    // 變數規則
    "prefer-const": "warn",
    "no-var": "error",
    "@typescript-eslint/no-unused-vars": ["warn", {
      "argsIgnorePattern": "^_",
      "varsIgnorePattern": "^_"
    }],

    // TypeScript 規則
    "@typescript-eslint/no-explicit-any": "warn",  // Phase 1: 警告即可，Phase 3 改 error
    "@typescript-eslint/no-non-null-assertion": "warn",

    // 引號規則
    "quotes": ["error", "single", {
      "avoidEscape": true,
      "allowTemplateLiterals": true
    }],

    // Import 規則 (Phase 1: 警告即可，避免阻擋開發)
    "import/order": ["warn", {
      "groups": [
        "builtin",
        "external",
        "internal",
        ["parent", "sibling"],
        "index",
        "object",
        "type"
      ],
      "pathGroups": [
        {
          "pattern": "react",
          "group": "external",
          "position": "before"
        },
        {
          "pattern": "next/**",
          "group": "external",
          "position": "before"
        },
        {
          "pattern": "@/features/**",
          "group": "internal",
          "position": "before"
        },
        {
          "pattern": "@/components/**",
          "group": "internal"
        },
        {
          "pattern": "@/lib/**",
          "group": "internal",
          "position": "after"
        },
        {
          "pattern": "@/types/**",
          "group": "internal",
          "position": "after"
        }
      ],
      "pathGroupsExcludedImportTypes": ["react"],
      "newlines-between": "always",
      "alphabetize": {
        "order": "asc",
        "caseInsensitive": true
      }
    }]
  }
}
