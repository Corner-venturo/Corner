const { createClient } = require('@supabase/supabase-js');

const supabaseUrl = 'https://pfqvdacxowpgfamuvnsn.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBmcXZkYWN4b3dwZ2ZhbXV2bnNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxMDgzMjAsImV4cCI6MjA3NDY4NDMyMH0.LIMG0qmHixTPcbdzJrh4h0yTp8mh3FlggeZ6Bi_NwtI';
const supabase = createClient(supabaseUrl, supabaseKey);

// 紐西蘭景點
const newZealandAttractions = [
  { name: '霍比屯電影場景', notes: '《魔戒》和《哈比人》電影拍攝地，完整保留的夏爾村莊場景。綠色山丘上散布著44個哈比人洞穴，每個細節都還原電影場景。導覽行程約2小時，包含綠龍酒館的免費飲料。', duration: 150, tags: ['電影場景', '魔戒', '哈比人', '必去', '夏爾'] },
  { name: '懷托摩螢火蟲洞', notes: '世界著名的地下奇觀，數以千計的螢火蟲點亮洞穴天花板如繁星。乘坐小船靜靜穿越洞穴，仰望藍綠色的螢火蟲星空。有多種行程可選，包含黑水漂流冒險。', duration: 90, tags: ['螢火蟲', '洞穴', '自然奇觀', '必去', '神秘'] },
  { name: '米佛峽灣', notes: '紐西蘭最著名的峽灣，被譽為「世界第八大奇蹟」。兩側聳立的山峰高達1200公尺，瀑布從懸崖傾瀉而下。遊船行程可觀賞海豹、海豚和企鵝。', duration: 240, tags: ['峽灣', '世界遺產', '遊船', '必去', '壯觀'] },
  { name: '蒂卡波湖', notes: '以其獨特的乳藍色湖水聞名，是冰川融水中的岩石粉末造成的顏色。湖畔的好牧羊人教堂是紐西蘭最受歡迎的拍攝景點之一。夜晚是世界最佳觀星地點。', duration: 120, tags: ['湖泊', '觀星', '教堂', '攝影', 'IG打卡'] },
  { name: '好牧羊人教堂', notes: '建於1935年的石砌小教堂，位於蒂卡波湖畔。透過祭壇後的玻璃窗可望見湖景與山景，是紐西蘭最多人拍照的教堂。清晨和黃昏遊客較少。', duration: 30, tags: ['教堂', '攝影', '地標', '蒂卡波', '石砌'] },
  { name: '庫克山國家公園', notes: '紐西蘭最高峰奧拉基/庫克山所在地，海拔3724公尺。塔斯曼冰川是南半球最大的冰川之一。多條健行步道適合不同體能等級。', duration: 300, tags: ['國家公園', '雪山', '健行', '冰川', '壯觀'] },
  { name: '胡克谷步道', notes: '紐西蘭最熱門的健行步道之一，全程約3小時來回。途經三座吊橋，終點可近距離欣賞庫克山和冰川湖。步道平緩適合一般遊客。', duration: 180, tags: ['健行', '步道', '吊橋', '冰川', '庫克山'] },
  { name: '塔斯曼冰河', notes: '紐西蘭最大的冰川，長達23公里。可參加冰川船遊覽，在冰川湖中近距離接觸浮冰。直升機冰川健行是更刺激的體驗選擇。', duration: 150, tags: ['冰川', '遊船', '直升機', '冰河', '探險'] },
  { name: '瓦納卡孤樹', notes: '生長在瓦納卡湖中的一棵柳樹，是紐西蘭最著名的攝影景點之一。日出和日落時分光線最美，倒影映在湖面上格外動人。', duration: 30, tags: ['攝影', 'IG打卡', '孤樹', '湖泊', '日出'] },
  { name: '瓦卡蒂普湖', notes: '皇后鎮所在的冰川湖，形狀像一道閃電。湖水極其清澈，可以看到湖底。搭乘TSS恩斯勞號蒸汽船遊湖是經典體驗。', duration: 120, tags: ['湖泊', '皇后鎮', '蒸汽船', '遊湖', '清澈'] },
  { name: '天空塔', notes: '奧克蘭的地標建築，高328公尺，是南半球最高的建築物。觀景台可360度俯瞰整個奧克蘭。勇敢者可嘗試天空漫步或高空彈跳。', duration: 90, tags: ['地標', '觀景台', '高空彈跳', '奧克蘭', '城市'] },
  { name: 'Skyline 纜車', notes: '皇后鎮必玩項目，纜車上山後可俯瞰整個皇后鎮和瓦卡蒂普湖。山頂有滑板車(Luge)體驗，從山頂滑下非常刺激好玩。', duration: 120, tags: ['纜車', '滑板車', '景觀', '皇后鎮', '親子'] },
  { name: 'Te Puia 毛利文化村', notes: '羅托魯瓦最著名的毛利文化體驗地，可欣賞傳統毛利歌舞表演和地熱奇觀。園區內有間歇噴泉波胡圖，噴發高度可達30公尺。', duration: 180, tags: ['毛利文化', '地熱', '表演', '間歇泉', '文化'] },
  { name: '地熱公園', notes: '羅托魯瓦地區的地熱奇觀區，有彩色溫泉、泥漿池和蒸氣噴口。Wai-O-Tapu是最著名的地熱公園，香檳池呈現獨特的橙黃色。', duration: 120, tags: ['地熱', '溫泉', '泥漿', '自然奇觀', '火山'] },
  { name: '斯特林瀑布', notes: '米佛峽灣中最著名的瀑布，落差155公尺。遊船會盡量靠近瀑布，讓遊客感受水霧撲面。雨後水量更大更壯觀。', duration: 30, tags: ['瀑布', '峽灣', '遊船', '壯觀', '水霧'] },
  { name: '暗夜星空保護區', notes: '蒂卡波湖周邊是全球最大的暗夜星空保護區，光害極低。夜晚可以肉眼看到銀河，參加觀星團可透過專業望遠鏡觀測。', duration: 120, tags: ['觀星', '銀河', '暗夜保護區', '天文', '夜間'] },
  { name: '基督城植物園', notes: '建於1863年的歷史植物園，佔地21公頃。園內有超過一萬種植物，玫瑰園尤其著名。雅芳河穿園而過，可以撐篙泛舟。', duration: 90, tags: ['植物園', '花園', '歷史', '雅芳河', '悠閒'] },
  { name: '紙教堂', notes: '基督城地震後的臨時大教堂，由日本建築師坂茂設計，主結構使用紙管建造。是災後重建的象徵，充滿設計感。', duration: 30, tags: ['教堂', '建築', '紙管', '地震重建', '設計'] },
  { name: '追憶橋', notes: '基督城的歷史地標，建於1923年，紀念一戰陣亡將士。石橋橫跨雅芳河，周圍綠樹成蔭，是城市散步的經典路線。', duration: 20, tags: ['橋樑', '歷史', '雅芳河', '紀念碑', '散步'] },
  { name: '中奧塔哥酒莊', notes: '世界最南端的葡萄酒產區之一，以黑皮諾(Pinot Noir)聞名。多家精品酒莊提供品酒體驗，可安排酒莊巡禮一日遊。', duration: 180, tags: ['酒莊', '品酒', '黑皮諾', '葡萄酒', '美食'] },
  { name: '威達乏港灣', notes: '但尼丁附近的自然港灣，是觀賞野生動物的絕佳地點。可看到世界上最稀有的黃眼企鵝、海豹和信天翁群聚地。', duration: 180, tags: ['野生動物', '企鵝', '海豹', '生態', '但尼丁'] }
];

// 台灣景點（資料庫可能沒有，需要新增）
const taiwanAttractions = [
  { name: '台北101', notes: '曾經的世界最高建築，高508公尺，是台北最著名的地標。觀景台可俯瞰整個台北盆地。內部有世界最大的風阻尼器，是工程奇蹟。跨年煙火秀舉世聞名。', duration: 120, tags: ['地標', '觀景台', '跨年', '購物', '必去'] },
  { name: '故宮博物院', notes: '收藏近70萬件中華文物，是世界四大博物館之一。翠玉白菜、肉形石、毛公鼎是鎮館三寶。建議至少安排半天參觀。', duration: 240, tags: ['博物館', '文物', '歷史', '必去', '藝術'] },
  { name: '九份老街', notes: '依山而建的老街，因電影《悲情城市》和神隱少女場景而聞名。紅燈籠、石階、茶樓構成獨特氛圍。芋圓和草仔粿是必嚐小吃。', duration: 180, tags: ['老街', '夜景', '小吃', '懷舊', 'IG打卡'] },
  { name: '日月潭', notes: '台灣最大的天然湖泊，因湖形似日月而得名。可搭遊艇、騎自行車環湖。向山遊客中心是著名的建築景點。', duration: 300, tags: ['湖泊', '自行車', '遊船', '自然', '中部'] },
  { name: '太魯閣國家公園', notes: '以壯麗的大理石峽谷聞名，是台灣八景之一。燕子口、九曲洞、長春祠是必訪景點。立霧溪切割出的峽谷令人讚嘆。', duration: 360, tags: ['國家公園', '峽谷', '健行', '壯觀', '必去'] },
  { name: '阿里山', notes: '台灣最知名的高山風景區，以日出、雲海、晚霞、森林、鐵路合稱「阿里山五奇」。搭乘森林小火車是經典體驗。櫻花季更是美不勝收。', duration: 480, tags: ['日出', '森林', '小火車', '櫻花', '高山'] },
  { name: '墾丁國家公園', notes: '台灣最南端的國家公園，擁有美麗的海灘和珊瑚礁生態。南灣、白沙灣是熱門戲水點。鵝鑾鼻燈塔是台灣最南點地標。', duration: 360, tags: ['海灘', '國家公園', '墾丁', '潛水', '南部'] },
  { name: '淡水老街', notes: '台北近郊最受歡迎的老街，可欣賞淡水河夕陽美景。阿給、魚丸、鐵蛋是在地名物。紅毛城和真理大學是附近景點。', duration: 180, tags: ['老街', '夕陽', '小吃', '淡水', '河岸'] },
  { name: '西門町', notes: '台北最熱鬧的商圈，是年輕人流行文化的指標地。電影街、紅樓、塗鴉巷各有特色。24小時都有活動，夜生活精彩。', duration: 180, tags: ['商圈', '購物', '年輕', '夜生活', '電影'] },
  { name: '士林夜市', notes: '台北最大、最知名的夜市，美食攤位超過500家。大餅包小餅、生煎包、蚵仔煎是必吃。地下美食區更是應有盡有。', duration: 150, tags: ['夜市', '小吃', '必去', '熱鬧', '美食'] },
  { name: '中正紀念堂', notes: '為紀念蔣中正而建的宏偉建築，是台北重要地標。整點的儀隊交接儀式值得觀賞。廣場上的自由廣場牌樓也是打卡熱點。', duration: 90, tags: ['紀念堂', '地標', '儀隊', '歷史', '廣場'] },
  { name: '龍山寺', notes: '建於1738年的古剎，是台北最古老的寺廟之一。香火鼎盛，求籤問事靈驗聞名。廟宇雕刻精美，是台灣寺廟建築代表。', duration: 60, tags: ['寺廟', '歷史', '祈福', '古蹟', '信仰'] }
];

// 香港景點
const hongKongAttractions = [
  { name: '維多利亞港', notes: '香港最著名的景觀，兩岸高樓大廈構成壯觀的天際線。夜晚的「幻彩詠香江」燈光秀是必看表演。可搭乘天星小輪欣賞港景。', duration: 90, tags: ['海港', '夜景', '天際線', '必去', '燈光秀'] },
  { name: '太平山頂', notes: '香港最高點，俯瞰維多利亞港全景的最佳地點。搭乘山頂纜車上山是經典體驗，凌霄閣觀景台可360度欣賞香港景色。夜景尤其壯觀。', duration: 150, tags: ['山頂', '夜景', '纜車', '必去', '觀景台'] }
];

// 馬來西亞待補充景點
const malaysiaAttractions = [
  { name: '雙子塔', notes: '吉隆坡地標，曾是世界最高雙塔，高452公尺。空橋觀景台可俯瞰城市全景。夜晚燈光璀璨，是馬來西亞最著名的建築。', duration: 120, tags: ['地標', '觀景台', '夜景', '必去', '建築'] },
  { name: '雲頂高原', notes: '海拔1800公尺的高原度假勝地，氣候涼爽。有主題樂園、賭場、購物中心。搭乘纜車上山沿途風景優美。', duration: 360, tags: ['高原', '主題樂園', '賭場', '避暑', '纜車'] },
  { name: '荷蘭紅屋', notes: '馬六甲地標，建於1650年，是東南亞最古老的荷蘭建築。紅色外牆十分醒目，現為歷史博物館。', duration: 60, tags: ['古蹟', '荷蘭', '博物館', '馬六甲', '殖民'] },
  { name: '聖保羅教堂', notes: '建於1521年的古老教堂遺址，是葡萄牙殖民時期的建築。聖方濟各曾在此傳教，現僅存殘牆和墓碑。', duration: 45, tags: ['教堂', '古蹟', '葡萄牙', '歷史', '遺址'] },
  { name: '聖地牙哥城門', notes: '馬六甲古堡唯一存存的城門，建於1511年。是葡萄牙殖民時期的軍事要塞遺跡，見證馬六甲的殖民歷史。', duration: 30, tags: ['古蹟', '城門', '要塞', '歷史', '葡萄牙'] },
  { name: '雞場街', notes: '馬六甲最熱鬧的老街，週末有夜市。沿街是百年老店，可品嚐雞飯粒、娘惹糕點等道地美食。', duration: 120, tags: ['老街', '美食', '夜市', '購物', '馬六甲'] },
  { name: '基督堂', notes: '馬六甲紅屋廣場上的粉紅色教堂，建於1753年，是馬來西亞最古老的新教教堂。內有手工製作的長椅。', duration: 30, tags: ['教堂', '古蹟', '粉紅色', '荷蘭', '馬六甲'] },
  { name: '馬六甲河遊船', notes: '穿梭於馬六甲河兩岸的遊船體驗，沿途可欣賞彩繪壁畫和古老建築。夜間遊船燈光倒映水面更美。', duration: 45, tags: ['遊船', '河岸', '夜景', '壁畫', '悠閒'] },
  { name: '馬六甲海峽清真寺', notes: '建在填海地上的水上清真寺，漲潮時彷彿漂浮在海上。日落時分光線最美，是馬六甲最佳攝影點之一。', duration: 60, tags: ['清真寺', '水上', '日落', '攝影', '建築'] },
  { name: '峇峇娘惹博物館', notes: '展示峇峇娘惹（海峽華人）文化的博物館，收藏精緻的娘惹瓷器、服飾和家具。深入了解這獨特的混血文化。', duration: 90, tags: ['博物館', '娘惹', '文化', '瓷器', '歷史'] },
  { name: '娘惹博物館', notes: '檳城的娘惹文化博物館，展示峇峇娘惹的生活方式。精美的建築本身就是一大看點，內部裝潢極盡奢華。', duration: 90, tags: ['博物館', '娘惹', '檳城', '建築', '文化'] },
  { name: '喬治城壁畫', notes: '檳城喬治城的街頭藝術，由立陶宛藝術家Ernest Zacharevic創作。「姐弟共騎」是最著名的作品，已成為檳城象徵。', duration: 120, tags: ['壁畫', '街頭藝術', 'IG打卡', '喬治城', '文青'] },
  { name: '喬治市壁畫', notes: '分佈在喬治城各處的壁畫藝術，結合互動元素讓遊客拍照。除了知名壁畫，還有許多鐵線畫值得尋找。', duration: 120, tags: ['壁畫', '尋寶', '攝影', '步行', '藝術'] },
  { name: '愛情巷', notes: '檳城喬治城的一條小巷，因名字浪漫而成為打卡熱點。巷內有咖啡店和文創小店，氛圍悠閒文青。', duration: 45, tags: ['巷弄', 'IG打卡', '咖啡', '文青', '浪漫'] },
  { name: '汕頭街', notes: '檳城最著名的美食街，聚集各種在地小吃。炒粿條、蝦麵、煎蕊是必嚐美食。白天和夜晚各有不同攤販。', duration: 90, tags: ['美食街', '小吃', '在地', '必吃', '檳城'] },
  { name: '龍山堂邱公司', notes: '檳城最精美的宗祠建築，供奉邱氏宗族。建築融合中國傳統與南洋風格，雕刻彩繪極為精緻。', duration: 60, tags: ['宗祠', '建築', '雕刻', '歷史', '文化'] },
  { name: '藍屋', notes: '檳城著名的藍色殖民建築，是昔日華人富商的豪宅。現為精品酒店，外觀的靛藍色在陽光下格外亮眼。', duration: 30, tags: ['建築', '藍色', '殖民', '拍照', '歷史'] },
  { name: '極樂洞', notes: '位於怡保的石灰岩洞穴寺廟，內有巨大的佛像。洞穴開口處光線灑入，形成神聖莊嚴的氛圍。', duration: 60, tags: ['洞穴', '寺廟', '佛像', '怡保', '自然'] },
  { name: '三寶洞', notes: '怡保著名的洞穴寺廟，據說鄭和曾在此停留。洞內供奉觀音菩薩，香火鼎盛。洞穴鐘乳石景觀也很壯觀。', duration: 60, tags: ['洞穴', '寺廟', '鄭和', '怡保', '觀音'] },
  { name: '二奶巷', notes: '怡保舊城區的特色巷弄，名字來源有趣。現已發展成文創區，有壁畫、咖啡店和文創小店。', duration: 60, tags: ['巷弄', '壁畫', '文創', '怡保', '咖啡'] },
  { name: '凱利古堡', notes: '怡保郊區的神秘未完工城堡，蘇格蘭商人建造但從未完成。地下通道和印度教寺廟增添神秘氣息。', duration: 90, tags: ['古堡', '神秘', '未完工', '歷史', '探險'] },
  { name: '巨鷹廣場', notes: '蘭卡威地標，18公尺高的紅棕色巨鷹雕像。Langkawi名字來源就是「紅棕色老鷹」，是蘭卡威的象徵。', duration: 30, tags: ['地標', '雕像', '廣場', '蘭卡威', '打卡'] },
  { name: '孕婦湖', notes: '蘭卡威的傳說湖泊，據說湖水有助受孕。四周群山環繞，湖水清澈。可乘船遊覽周邊的紅樹林。', duration: 90, tags: ['湖泊', '傳說', '自然', '蘭卡威', '遊船'] },
  { name: '丹絨魯海灘', notes: '蘭卡威最美的海灘，細白沙灘和清澈海水。日落時分景色絕美，是蘭卡威最佳觀賞夕陽的地點。', duration: 120, tags: ['海灘', '日落', '沙灘', '蘭卡威', '浪漫'] },
  { name: '蘭卡威夜市', notes: '蘭卡威每晚在不同地點舉辦的流動夜市，可品嚐在地馬來料理和小吃。價格親民，氣氛熱鬧。', duration: 90, tags: ['夜市', '小吃', '在地', '蘭卡威', '便宜'] },
  { name: '神山公園', notes: '沙巴的世界遺產，擁有東南亞最高峰神山（4095公尺）。生態多樣性極高，有特有的豬籠草和蘭花。', duration: 300, tags: ['國家公園', '世界遺產', '生態', '沙巴', '登山'] },
  { name: '神山登頂', notes: '挑戰東南亞最高峰，需要兩天一夜的行程。沿途可見不同海拔的植被變化，山頂可欣賞壯麗日出。需要提前預約。', duration: 1440, tags: ['登山', '挑戰', '日出', '神山', '探險'] },
  { name: '馬努干島', notes: '亞庇外海的小島，是東姑阿都拉曼海洋公園的一部分。潔白沙灘和清澈海水，適合浮潛和玩水。', duration: 240, tags: ['小島', '沙灘', '浮潛', '海洋公園', '沙巴'] },
  { name: '紅樹林生態遊', notes: '沙巴的特色行程，乘船穿梭紅樹林。黃昏時可觀賞長鼻猴和螢火蟲，運氣好還能看到鱷魚。', duration: 240, tags: ['生態', '紅樹林', '長鼻猴', '螢火蟲', '沙巴'] },
  { name: '螢火蟲生態遊', notes: '沙巴和雪蘭莪都有的生態行程，夜晚乘船欣賞滿樹的螢火蟲閃爍如聖誕樹，夢幻浪漫。', duration: 180, tags: ['螢火蟲', '生態', '夜間', '遊船', '浪漫'] },
  { name: '阿羅街', notes: '吉隆坡最著名的美食街，入夜後攤販林立。燒雞翅、沙嗲、福建麵是必吃。整條街香氣四溢，熱鬧非凡。', duration: 90, tags: ['美食街', '夜市', '小吃', '吉隆坡', '必去'] },
  { name: '十號胡同', notes: '吉隆坡的美食天堂，集合馬來西亞各地名店。在冷氣舒適的環境中品嚐各種在地美食，是雨天或怕熱遊客的好選擇。', duration: 90, tags: ['美食廣場', '冷氣', '名店', '吉隆坡', '方便'] },
  { name: '新關仔角', notes: '檳城海濱的美食中心，聚集上百攤販。炒粿條、福建蝦麵、啦啦都是招牌。海風吹來，邊吃邊看海很愜意。', duration: 90, tags: ['美食中心', '海濱', '小吃', '檳城', '傍晚'] },
  { name: '肉骨茶', notes: '馬來西亞華人傳統美食，藥材燉煮的排骨湯。巴生是肉骨茶發源地，吉隆坡各處都有名店。乾式和濕式各有風味。', duration: 60, tags: ['美食', '必吃', '藥材', '排骨', '傳統'] },
  { name: '椰漿飯', notes: '馬來西亞國民美食，椰奶煮的香飯配上參巴醬、花生、雞蛋、小魚乾。早餐吃最道地，是大馬人的早餐首選。', duration: 45, tags: ['美食', '必吃', '國民美食', '早餐', '馬來'] },
  { name: '福建蝦麵', notes: '檳城名菜，濃郁蝦湯底的湯麵。湯頭用蝦殼熬製數小時，配上大蝦、肉片、蛋。油蔥酥是靈魂配料。', duration: 45, tags: ['美食', '蝦麵', '檳城', '必吃', '湯麵'] },
  { name: '煎蕊', notes: '馬來西亞傳統甜品，綠色粉條配上紅豆、椰奶和椰糖。清涼消暑，甜而不膩。檳城和馬六甲的最有名。', duration: 30, tags: ['甜品', '消暑', '傳統', '必吃', '椰糖'] },
  { name: '雞飯粒', notes: '馬六甲特色美食，把海南雞飯捏成小球狀。配上滑嫩白斬雞和特調醬汁，是來馬六甲必吃。和記是老字號。', duration: 60, tags: ['美食', '馬六甲', '必吃', '雞飯', '特色'] },
  { name: '娘惹糕點', notes: '峇峇娘惹傳統糕點，色彩繽紛，口味獨特。用班蘭葉、椰奶、糯米製作。安詳餅、九層糕是代表。', duration: 30, tags: ['糕點', '娘惹', '甜點', '傳統', '手工'] },
  { name: '怡保芽菜雞', notes: '怡保名菜，鮮嫩滑雞配上粗壯爽脆的芽菜。芽菜用山泉水種植特別脆甜，醬油雞和白斬雞都受歡迎。', duration: 60, tags: ['美食', '怡保', '必吃', '雞肉', '芽菜'] },
  { name: '鹽焗雞', notes: '怡保另一名菜，整雞用粗鹽包裹烘烤，皮脆肉嫩帶有鹽香。老黃是最著名的老字號，常常大排長龍。', duration: 60, tags: ['美食', '怡保', '必吃', '雞肉', '特色'] },
  { name: '舊街場白咖啡', notes: '怡保是白咖啡的發源地，用低溫烘焙的咖啡豆加奶精。口感香滑不苦，已成為馬來西亞代表飲品。', duration: 30, tags: ['咖啡', '怡保', '必喝', '白咖啡', '特產'] },
  { name: '沙巴叻沙', notes: '沙巴版本的叻沙，湯頭較清爽，配料有蛤蜊、蝦、魚丸。和檳城叻沙風味不同，各有特色。', duration: 45, tags: ['美食', '叻沙', '沙巴', '湯麵', '海鮮'] },
  { name: '沙巴海鮮', notes: '沙巴以新鮮海鮮聞名，龍蝦、老虎蝦、奶油蟹是招牌。亞庇的大茄來和雙天是著名海鮮餐廳。', duration: 90, tags: ['海鮮', '沙巴', '必吃', '龍蝦', '螃蟹'] },
  { name: 'The Datai蘭卡威', notes: '蘭卡威頂級度假村，隱身在原始雨林中。私人沙灘和無邊際泳池，是世界最佳度假村之一。', duration: 480, tags: ['度假村', '奢華', '雨林', '私人沙灘', '蘭卡威'] },
  { name: '四季蘭卡威', notes: '蘭卡威奢華度假村，獨特的馬來建築風格。擁有自己的海灘和遊艇，服務頂級。', duration: 480, tags: ['度假村', '奢華', '四季', '海灘', '蘭卡威'] },
  { name: '六善沙巴', notes: '沙巴奢華度假村，位於原始海灘旁。強調永續旅遊和身心療癒，spa和瑜伽課程出色。', duration: 480, tags: ['度假村', '奢華', '六善', 'spa', '沙巴'] },
  { name: '嘉佩樂沙巴', notes: '沙巴精品度假村，結合傳統沙巴建築與現代設計。有私人沙灘和珊瑚礁，浮潛條件極佳。', duration: 480, tags: ['度假村', '精品', '嘉佩樂', '浮潛', '沙巴'] },
  { name: '文華東方吉隆坡', notes: '吉隆坡頂級酒店，緊鄰雙子塔。東方文華招牌的奢華服務和精緻餐飲，城市景觀房可欣賞雙子塔。', duration: 120, tags: ['酒店', '奢華', '文華東方', '雙子塔', '吉隆坡'] }
];

// 新加坡待補充景點
const singaporeAttractions = [
  { name: '聖淘沙島', notes: '新加坡最大的娛樂島嶼，有環球影城、S.E.A海洋館、海灘。可搭乘纜車或輕軌前往，適合安排一整天。', duration: 480, tags: ['娛樂', '主題樂園', '海灘', '必去', '親子'] },
  { name: '夜間野生動物園', notes: '全球第一座夜間動物園，可觀賞夜行性動物的自然行為。搭乘遊園車穿越不同區域，有精彩的動物表演。', duration: 180, tags: ['動物園', '夜間', '親子', '獨特', '必去'] },
  { name: '河川生態園', notes: '亞洲首座以河川為主題的野生動物園。可觀賞大熊貓、儒艮、巨型水獺等動物，還有亞馬遜河探索之旅。', duration: 240, tags: ['動物園', '熊貓', '生態', '親子', '河川'] },
  { name: '裕廊飛禽公園', notes: '亞洲最大的飛禽公園，有超過5000隻鳥類。彩鴿餵食和猛禽表演是亮點，企鵝館也很受歡迎。', duration: 180, tags: ['鳥類', '動物園', '親子', '表演', '生態'] },
  { name: '新加坡摩天觀景輪', notes: '亞洲最大的觀景摩天輪，高165公尺。一圈約30分鐘，可360度欣賞新加坡、馬來西亞和印尼的景色。', duration: 45, tags: ['摩天輪', '景觀', '夜景', '地標', '浪漫'] },
  { name: '濱海藝術中心', notes: '外形像榴槤的藝術表演場館，是新加坡文化地標。免費觀賞大廳的音樂表演，屋頂花園可欣賞濱海灣景色。', duration: 90, tags: ['藝術', '建築', '表演', '地標', '榴槤'] },
  { name: '萊佛士酒店', notes: '1887年開業的殖民時期豪華酒店，是新加坡加坡酒的發源地。大堂和長廊免費參觀，到Long Bar喝杯新加坡司令是經典體驗。', duration: 90, tags: ['酒店', '歷史', '殖民', '雞尾酒', '經典'] },
  { name: '老巴剎美食廣場', notes: '建於1894年的維多利亞式建築，現為熱門美食中心。傍晚沙嗲街更是必訪，現烤沙嗲香氣四溢。', duration: 90, tags: ['美食', '沙嗲', '建築', '歷史', '夜間'] },
  { name: '麥士威熟食中心', notes: '新加坡最著名的熟食中心之一，天天海南雞飯和老伴豆花都在這裡。價格親民，是品嚐在地美食的好地方。', duration: 60, tags: ['美食', '熟食中心', '平價', '在地', '必吃'] },
  { name: '天天海南雞飯', notes: '麥士威熟食中心的名攤，被米其林推薦。滑嫩的白斬雞配上油亮的雞飯，簡單卻令人回味。常常大排長龍。', duration: 30, tags: ['美食', '雞飯', '米其林', '排隊', '必吃'] },
  { name: '松發肉骨茶', notes: '新加坡肉骨茶代表，胡椒湯底風味獨特。克拉碼頭店最著名，配上油條和茶更對味。', duration: 60, tags: ['美食', '肉骨茶', '必吃', '胡椒', '傳統'] },
  { name: '珍寶海鮮', notes: '新加坡最著名的辣椒螃蟹餐廳，醬汁濃郁微辣。配上炸饅頭蘸醬汁是經典吃法。克拉碼頭和東海岸都有分店。', duration: 90, tags: ['海鮮', '辣椒螃蟹', '必吃', '名店', '螃蟹'] },
  { name: '亞坤咖椰吐司', notes: '新加坡傳統早餐代表，烤脆的吐司塗上咖椰醬和牛油，配半熟蛋和咖啡。1944年創立，是國民早餐。', duration: 30, tags: ['早餐', '咖椰', '傳統', '必吃', '平價'] },
  { name: '328加東叻沙', notes: '加東區的叻沙名店，米其林推薦。濃郁椰奶湯頭配上米粉和海鮮，麵條切短可用湯匙吃。辣度可調。', duration: 45, tags: ['美食', '叻沙', '米其林', '加東', '必吃'] },
  { name: '了凡香港油雞飯麵', notes: '全球最便宜的米其林一星餐廳。招牌油雞皮脆肉嫩，醬汁香甜。在牛車水的小攤位創造奇蹟。', duration: 45, tags: ['美食', '米其林', '油雞', '平價', '必吃'] },
  { name: 'Waku Ghin', notes: '主廚和久田哲也的米其林二星日本料理。在濱海灣金沙內，提供頂級Omakase體驗。需提前預約。', duration: 180, tags: ['米其林', '日料', '奢華', 'Omakase', '頂級'] },
  { name: 'Sushi Sakuta', notes: '新加坡頂級壽司店，來自日本的師傅呈現正統江戶前壽司。只有吧台座位，體驗親密。', duration: 120, tags: ['壽司', '日料', '奢華', '江戶前', '預約'] },
  { name: 'Omakase@Stevens', notes: '隱藏在住宅區的日式Omakase餐廳，食材空運日本。主廚精心設計的料理讓人驚艷，氛圍私密。', duration: 150, tags: ['日料', 'Omakase', '隱藏', '預約', '精緻'] },
  { name: 'Seroja', notes: '創意馬來料理餐廳，現代手法演繹傳統風味。環境優美，提供精緻的Tasting Menu。', duration: 120, tags: ['馬來料理', '創意', '精緻', '現代', '餐廳'] },
  { name: '嘉佩樂聖淘沙', notes: '聖淘沙島上的頂級度假村，殖民時期建築改建。私人沙灘和熱帶花園，是隱居的完美選擇。', duration: 480, tags: ['度假村', '奢華', '嘉佩樂', '私人沙灘', '聖淘沙'] },
  { name: '麗思卡爾頓新加坡', notes: '濱海灣的頂級酒店，可欣賞城市天際線和濱海灣花園景色。下午茶和餐飲都是新加坡最佳之一。', duration: 120, tags: ['酒店', '奢華', '麗思卡爾頓', '景觀', '濱海灣'] }
];

async function updateAttractions(countryId, attractions, countryName) {
  console.log(`\n🔄 正在更新 ${countryName} 景點深度資料...`);
  let successCount = 0;

  for (const attraction of attractions) {
    const { error } = await supabase
      .from('attractions')
      .update({
        notes: attraction.notes,
        duration_minutes: attraction.duration,
        opening_hours: attraction.opening_hours || null,
        tags: attraction.tags
      })
      .eq('country_id', countryId)
      .ilike('name', attraction.name);

    if (!error) {
      console.log(`  ✅ ${attraction.name}`);
      successCount++;
    } else {
      console.log(`  ❌ ${attraction.name}: ${error.message}`);
    }
  }

  return successCount;
}

async function main() {
  console.log('========================================');
  console.log('剩餘國家景點優化工具');
  console.log('紐西蘭 + 台灣 + 香港 + 馬來西亞 + 新加坡');
  console.log('========================================');

  const results = {};

  // 紐西蘭
  results['紐西蘭'] = await updateAttractions('new_zealand', newZealandAttractions, '紐西蘭');

  // 台灣
  results['台灣'] = await updateAttractions('taiwan-country-001', taiwanAttractions, '台灣');

  // 香港
  results['香港'] = await updateAttractions('hong-kong', hongKongAttractions, '香港');

  // 馬來西亞
  results['馬來西亞'] = await updateAttractions('malaysia', malaysiaAttractions, '馬來西亞');

  // 新加坡
  results['新加坡'] = await updateAttractions('singapore', singaporeAttractions, '新加坡');

  // 統計
  console.log('\n📊 更新統計:');
  let total = 0;
  for (const [country, count] of Object.entries(results)) {
    console.log(`  ${country}: ${count} 筆`);
    total += count;
  }
  console.log(`  總計: ${total} 筆`);

  console.log('\n✅ 優化完成！');
}

main();
