# Venturo 上線前檢查清單

**最後更新**: 2025-10-31
**版本**: v1.0 準備上線

---

## ✅ 第一階段：基礎功能檢查（必須全部通過）

### 1. 登入與認證
- [ ] 可以正常登入（使用正確的帳號密碼）
- [ ] 登入失敗時顯示錯誤訊息
- [ ] 登入後正確導向到首頁
- [ ] 可以正常登出
- [ ] 未登入時訪問內部頁面會導向登入頁

**測試帳號**:
- 管理員: william@venturo.com
- 一般員工: （請使用現有員工帳號）

---

### 2. 核心頁面載入（10 秒內完成）

#### 主要功能頁面
- [ ] `/` - 首頁（Dashboard）
- [ ] `/todos` - 待辦事項
- [ ] `/calendar` - 行事曆
- [ ] `/workspace` - 工作空間聊天室

#### 業務管理
- [ ] `/tours` - 旅遊團管理
- [ ] `/customers` - 客戶管理
- [ ] `/quotes` - 報價單管理
- [ ] `/contracts` - 合約管理
- [ ] `/orders` - 訂單管理

#### 財務管理
- [ ] `/finance` - 財務總覽
- [ ] `/finance/payments` - 收款管理
- [ ] `/finance/requests` - 請款管理
- [ ] `/accounting` - 會計作業

#### 資料庫管理
- [ ] `/database` - 資料庫總覽
- [ ] `/database/regions` - 國家地區
- [ ] `/database/attractions` - 景點管理
- [ ] `/database/suppliers` - 供應商管理

#### 其他
- [ ] `/hr` - 人事管理
- [ ] `/settings` - 系統設定

---

### 3. 資料載入與顯示

#### 待辦事項 (Todos)
- [ ] 頁面載入後可以看到待辦事項列表
- [ ] 可以新增待辦事項
- [ ] 可以點擊待辦事項查看詳細資訊
- [ ] 可以編輯待辦事項
- [ ] 可以標記為完成
- [ ] 可以刪除待辦事項

#### 行事曆 (Calendar)
- [ ] 頁面載入後可以看到行事曆
- [ ] 可以新增行程
- [ ] 可以編輯行程
- [ ] 可以刪除行程
- [ ] 切換月份正常運作

#### 工作空間 (Workspace)
- [ ] 頁面載入後可以看到頻道列表
- [ ] 可以點擊頻道進入聊天室
- [ ] 可以發送訊息
- [ ] 訊息正確顯示
- [ ] 可以新增頻道

#### 旅遊團 (Tours)
- [ ] 頁面載入後可以看到旅遊團列表
- [ ] 可以新增旅遊團
- [ ] 表單中的下拉選單正常運作（國家、城市、業務、助理）
- [ ] 日期選擇器正常運作
- [ ] 可以儲存旅遊團
- [ ] 可以編輯旅遊團
- [ ] 可以刪除旅遊團

---

## ✅ 第二階段：資料同步檢查

### 4. Realtime 即時同步（多裝置測試）

需要**兩個瀏覽器**或**兩台裝置**同時登入測試：

#### 待辦事項同步
- [ ] 裝置 A 新增待辦 → 裝置 B 立即看到
- [ ] 裝置 A 編輯待辦 → 裝置 B 立即更新
- [ ] 裝置 A 刪除待辦 → 裝置 B 立即消失
- [ ] 裝置 A 標記完成 → 裝置 B 立即顯示已完成

#### 工作空間訊息同步
- [ ] 裝置 A 發送訊息 → 裝置 B 立即收到
- [ ] 裝置 A 新增頻道 → 裝置 B 立即顯示
- [ ] 裝置 A 刪除頻道 → 裝置 B 立即移除

#### 行事曆同步
- [ ] 裝置 A 新增行程 → 裝置 B 立即顯示
- [ ] 裝置 A 編輯行程 → 裝置 B 立即更新

---

## ✅ 第三階段：錯誤處理檢查

### 5. 網路異常處理

#### 離線模式
- [ ] 關閉網路後，頁面仍可正常瀏覽（顯示快取資料）
- [ ] 關閉網路後，可以新增/編輯資料（存在 IndexedDB）
- [ ] 重新連線後，離線時的變更自動上傳
- [ ] 顯示網路狀態提示（離線/上線）

#### 載入失敗
- [ ] Supabase 連線失敗時，顯示降級到本地模式的提示
- [ ] IndexedDB 失敗時，仍可從 Supabase 載入資料（記憶體模式）
- [ ] 顯示友善的錯誤訊息，不會白屏

---

## ✅ 第四階段：效能檢查

### 6. 載入速度

#### 首次載入（冷啟動）
- [ ] 登入頁面 < 2 秒
- [ ] 首頁載入 < 5 秒
- [ ] 待辦事項頁面 < 5 秒
- [ ] 行事曆頁面 < 5 秒

#### 後續載入（熱啟動）
- [ ] 切換頁面 < 1 秒
- [ ] 資料刷新 < 2 秒

#### IndexedDB 快取
- [ ] 第二次訪問頁面速度明顯更快（< 1 秒）
- [ ] 離線時可以立即載入快取資料

---

## ✅ 第五階段：UI/UX 檢查

### 7. 視覺與互動

#### 表單與輸入
- [ ] 所有輸入框邊框顏色一致
- [ ] Focus 時邊框顏色正確（morandi-gold）
- [ ] Placeholder 文字顏色正確（不會與圖示重疊）
- [ ] 日期選擇器樣式統一
- [ ] 下拉選單（Combobox）搜尋功能正常

#### 按鈕與互動
- [ ] 按鈕 hover 效果正常
- [ ] 按鈕點擊後顯示 loading 狀態
- [ ] 操作成功顯示成功訊息（toast）
- [ ] 操作失敗顯示錯誤訊息（toast）

#### 響應式設計
- [ ] 手機版（< 768px）顯示正常
- [ ] 平板版（768px - 1024px）顯示正常
- [ ] 桌面版（> 1024px）顯示正常

---

## ✅ 第六階段：資料完整性檢查

### 8. 資料一致性

#### 診斷工具
訪問 `/check-todos-data` 檢查資料同步狀態：
- [ ] IndexedDB 資料數量 = Supabase 資料數量
- [ ] 顯示「✅ 一致」狀態
- [ ] 儲存空間使用率 < 90%

#### 資料驗證
- [ ] 新增資料後，重新整理頁面仍可看到
- [ ] 編輯資料後，變更正確儲存
- [ ] 刪除資料後，重新整理確認已刪除
- [ ] 多裝置間資料一致（無 zombie data）

---

## ⚠️ 已知限制與注意事項

### 功能限制
1. **Realtime 連線上限**: 200 個連線（免費方案）
   - 估算: 20 員工 × 2 裝置 × 2.5 頁面 = 100 連線（50% 安全範圍）

2. **IndexedDB 配額**: 瀏覽器依裝置而異
   - 通常: 50% 可用磁碟空間，最少 50MB
   - 建議: 定期清理舊資料

3. **離線模式**: 僅支援已訪問過的頁面
   - 首次訪問需要網路連線
   - 後續訪問可離線使用

### 瀏覽器支援
- ✅ Chrome 90+
- ✅ Edge 90+
- ✅ Safari 14+
- ✅ Firefox 88+
- ❌ IE 11（不支援）

---

## 🔍 問題排查指南

### 如果頁面載入很慢
1. 開啟瀏覽器開發者工具（F12）
2. 查看 Console 是否有錯誤訊息
3. 查看 Network 標籤，找出慢速請求
4. 截圖或複製錯誤訊息回報

### 如果資料沒有顯示
1. 訪問 `/check-todos-data` 檢查同步狀態
2. 開啟 Console 查看是否有 Supabase 錯誤
3. 確認是否有網路連線
4. 嘗試重新整理頁面（Ctrl/Cmd + R）
5. 清除瀏覽器快取後重試

### 如果出現白屏
1. 開啟 Console 查看錯誤訊息
2. 確認登入狀態是否正常
3. 嘗試登出後重新登入
4. 清除瀏覽器快取和 IndexedDB

### 清除 IndexedDB 方法
1. 開啟開發者工具（F12）
2. Application → Storage → IndexedDB
3. 右鍵點擊 `venturo_db` → Delete database
4. 重新整理頁面

---

## 📝 測試記錄表

### 測試人員資訊
- **測試日期**: _______________
- **測試人員**: _______________
- **瀏覽器**: Chrome / Safari / Edge / Firefox (圈選)
- **版本**: _______________
- **裝置**: 桌機 / 筆電 / 平板 / 手機 (圈選)

### 問題回報格式
```
問題編號: #001
頁面路徑: /todos
問題描述: 點擊待辦事項詳細資訊時出現錯誤
重現步驟:
  1. 進入待辦事項頁面
  2. 點擊任一待辦事項
  3. 畫面白屏，Console 顯示 TypeError
錯誤訊息: [貼上 Console 錯誤訊息]
截圖: [附上截圖]
```

---

## ✅ 最終確認

### 上線前必須確認
- [ ] 所有第一階段檢查項目通過
- [ ] 核心功能（待辦、行事曆、工作空間）正常運作
- [ ] Realtime 同步正常運作
- [ ] 錯誤處理機制運作正常
- [ ] 已完成至少 2 人的完整測試
- [ ] 所有已知問題已記錄並評估影響

### 上線後監控
- [ ] 監控 Vercel 部署狀態
- [ ] 監控 Supabase 連線數和錯誤率
- [ ] 收集使用者回饋
- [ ] 追蹤並修復高優先級問題

---

**核對完成簽名**:
- 開發者: _____________ 日期: _______
- 測試者: _____________ 日期: _______
- 負責人: _____________ 日期: _______
