# è»Šåº«ç®¡ç†ç³»çµ±è¨­è¨ˆ

## ç›®æ¨™
ç‚ºè»Šè¡Œå…¬å¸å»ºç«‹å®Œæ•´çš„è»Šè¼›ç®¡ç†ç³»çµ±ï¼ŒåŒ…å«ï¼š
1. è»Šè¼›åŸºæœ¬è³‡æ–™ç®¡ç†
2. å®šæœŸæª¢æŸ¥è¿½è¹¤ï¼ˆé©—è»Šã€ä¿é¤Šï¼‰
3. é§•ç…§åˆ°æœŸæé†’
4. æ–‡ä»¶ä¸Šå‚³ç®¡ç†
5. æ©Ÿå™¨äººè‡ªå‹•æé†’

## ä½¿ç”¨è€…æ•…äº‹

```
è»Šè¡Œè€é—†ç™»å…¥ç³»çµ±ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸšŒ è»Šåº«ç®¡ç†                                    [+ æ–°å¢è»Šè¼›] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ å¾…è™•ç†æé†’                                               â”‚
â”‚ âš ï¸ ABC-1234 é©—è»Šå°‡æ–¼ 3 å¤©å¾Œåˆ°æœŸï¼ˆ1/15ï¼‰                     â”‚
â”‚ âš ï¸ ç‹å¤§æ˜ é§•ç…§å°‡æ–¼ 7 å¤©å…§åˆ°æœŸï¼ˆ1/20ï¼‰                       â”‚
â”‚ âœ… DEF-5678 ä¿é¤Šå·²å®Œæˆï¼ˆ1/10ï¼‰                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è»Šç‰Œ      â”‚ è»Šå‹  â”‚ å¸æ©Ÿ   â”‚ é©—è»Šåˆ°æœŸ  â”‚ ä¿é¤Šåˆ°æœŸ  â”‚ ç‹€æ…‹  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ABC-1234 â”‚ 45äººå¤§å·´â”‚ ç‹å¤§æ˜ â”‚ âš ï¸ 1/15  â”‚ âœ… 3/20  â”‚ ğŸŸ¢    â”‚
â”‚  DEF-5678 â”‚ 28äººä¸­å·´â”‚ æå°è¯ â”‚ âœ… 6/30  â”‚ âœ… 4/15  â”‚ ğŸŸ¢    â”‚
â”‚  GHI-9999 â”‚ 45äººå¤§å·´â”‚ å¼µä¸‰   â”‚ âœ… 8/20  â”‚ âš ï¸ 1/25  â”‚ ğŸ”§    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é»æ“Šè»Šè¼› â†’ æŸ¥çœ‹è©³ç´°è³‡æ–™ã€ä¸Šå‚³æ–‡ä»¶ã€æ›´æ–°è¨˜éŒ„
```

## è³‡æ–™åº«è¨­è¨ˆ

### 1. è»Šè¼›è¡¨ `fleet_vehicles`

```sql
CREATE TABLE public.fleet_vehicles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  workspace_id UUID NOT NULL REFERENCES workspaces(id),

  -- è»Šè¼›åŸºæœ¬è³‡è¨Š
  license_plate VARCHAR(20) NOT NULL,      -- è»Šç‰Œè™Ÿç¢¼
  vehicle_name VARCHAR(50),                 -- è»Šè¼›åç¨±ï¼ˆ1è™Ÿè»Šã€Aè»Šï¼‰
  vehicle_type VARCHAR(20) NOT NULL,        -- è»Šå‹ï¼šlarge_bus, medium_bus, mini_bus, van
  brand VARCHAR(50),                        -- å» ç‰Œï¼ˆHINOã€FUSOï¼‰
  model VARCHAR(50),                        -- å‹è™Ÿ
  year INTEGER,                             -- å‡ºå» å¹´ä»½
  capacity INTEGER NOT NULL DEFAULT 45,     -- åº§ä½æ•¸
  vin VARCHAR(50),                          -- è»Šèº«è™Ÿç¢¼

  -- é è¨­å¸æ©Ÿ
  default_driver_id UUID REFERENCES employees(id),

  -- é‡è¦æ—¥æœŸ
  registration_date DATE,                   -- é ˜ç‰Œæ—¥æœŸ
  inspection_due_date DATE,                 -- é©—è»Šåˆ°æœŸæ—¥
  insurance_due_date DATE,                  -- ä¿éšªåˆ°æœŸæ—¥
  last_maintenance_date DATE,               -- ä¸Šæ¬¡ä¿é¤Šæ—¥æœŸ
  next_maintenance_date DATE,               -- ä¸‹æ¬¡ä¿é¤Šæ—¥æœŸ
  next_maintenance_km INTEGER,              -- ä¸‹æ¬¡ä¿é¤Šé‡Œç¨‹
  current_mileage INTEGER DEFAULT 0,        -- ç›®å‰é‡Œç¨‹æ•¸

  -- æ–‡ä»¶ï¼ˆJSON å­˜æ”¾å¤šå€‹æ–‡ä»¶ï¼‰
  documents JSONB DEFAULT '[]',
  -- æ ¼å¼ï¼š[{ type: 'registration', name: 'è¡Œç…§', url: '...', uploaded_at: '...' }]

  -- ç‹€æ…‹
  status VARCHAR(20) DEFAULT 'available',   -- available, in_use, maintenance, retired
  notes TEXT,
  display_order INTEGER DEFAULT 0,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  created_by UUID REFERENCES employees(id),
  updated_by UUID REFERENCES employees(id)
);

-- ç´¢å¼•
CREATE INDEX idx_fleet_vehicles_workspace ON fleet_vehicles(workspace_id);
CREATE INDEX idx_fleet_vehicles_plate ON fleet_vehicles(license_plate);
CREATE INDEX idx_fleet_vehicles_inspection ON fleet_vehicles(inspection_due_date);
```

### 2. å¸æ©Ÿè¡¨ `fleet_drivers`

```sql
CREATE TABLE public.fleet_drivers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  workspace_id UUID NOT NULL REFERENCES workspaces(id),

  -- é—œè¯åˆ°å“¡å·¥ï¼ˆå¦‚æœæ˜¯å…¬å¸å“¡å·¥ï¼‰
  employee_id UUID REFERENCES employees(id),

  -- å¸æ©ŸåŸºæœ¬è³‡è¨Šï¼ˆå¤–åŒ…å¸æ©Ÿç”¨ï¼‰
  name VARCHAR(50) NOT NULL,
  phone VARCHAR(20),
  id_number VARCHAR(20),                    -- èº«åˆ†è­‰è™Ÿ

  -- é§•ç…§è³‡è¨Š
  license_number VARCHAR(30),               -- é§•ç…§è™Ÿç¢¼
  license_type VARCHAR(20),                 -- é§•ç…§é¡å‹ï¼šprofessional, regular
  license_expiry_date DATE,                 -- é§•ç…§åˆ°æœŸæ—¥
  license_image_url TEXT,                   -- é§•ç…§ç…§ç‰‡

  -- è·æ¥­é§•ç…§ï¼ˆå¤§å®¢è»Šï¼‰
  professional_license_number VARCHAR(30),
  professional_license_expiry DATE,
  professional_license_image_url TEXT,

  -- å¥åº·æª¢æŸ¥
  health_check_date DATE,                   -- ä¸Šæ¬¡é«”æª¢æ—¥æœŸ
  health_check_expiry DATE,                 -- é«”æª¢åˆ°æœŸæ—¥
  health_check_document_url TEXT,

  -- ç‹€æ…‹
  status VARCHAR(20) DEFAULT 'active',      -- active, inactive, suspended
  notes TEXT,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_fleet_drivers_workspace ON fleet_drivers(workspace_id);
CREATE INDEX idx_fleet_drivers_license_expiry ON fleet_drivers(license_expiry_date);
```

### 3. è»Šè¼›è¨˜éŒ„è¡¨ `fleet_vehicle_logs`

```sql
CREATE TABLE public.fleet_vehicle_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  workspace_id UUID NOT NULL REFERENCES workspaces(id),
  vehicle_id UUID NOT NULL REFERENCES fleet_vehicles(id) ON DELETE CASCADE,

  -- è¨˜éŒ„é¡å‹
  log_type VARCHAR(30) NOT NULL,
  -- inspection: é©—è»Š
  -- maintenance: ä¿é¤Š
  -- repair: ç¶­ä¿®
  -- insurance: ä¿éšª
  -- mileage: é‡Œç¨‹æ›´æ–°
  -- incident: äº‹æ•…
  -- fuel: åŠ æ²¹

  -- è¨˜éŒ„å…§å®¹
  log_date DATE NOT NULL,
  description TEXT,
  cost DECIMAL(10, 2),                      -- è²»ç”¨
  mileage INTEGER,                          -- ç•¶æ™‚é‡Œç¨‹
  next_due_date DATE,                       -- ä¸‹æ¬¡åˆ°æœŸæ—¥ï¼ˆé©—è»Šã€ä¿é¤Šç”¨ï¼‰
  next_due_mileage INTEGER,                 -- ä¸‹æ¬¡é‡Œç¨‹ï¼ˆä¿é¤Šç”¨ï¼‰

  -- æ–‡ä»¶
  documents JSONB DEFAULT '[]',
  -- æ ¼å¼ï¼š[{ name: 'ç¶­ä¿®å–®æ“š', url: '...' }]

  -- è¿½è¹¤
  created_at TIMESTAMPTZ DEFAULT NOW(),
  created_by UUID REFERENCES employees(id),

  notes TEXT
);

CREATE INDEX idx_fleet_logs_vehicle ON fleet_vehicle_logs(vehicle_id);
CREATE INDEX idx_fleet_logs_type ON fleet_vehicle_logs(log_type);
CREATE INDEX idx_fleet_logs_date ON fleet_vehicle_logs(log_date DESC);
```

### 4. è»Šè¼›èª¿åº¦è¡¨ `fleet_schedules`

```sql
CREATE TABLE public.fleet_schedules (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  workspace_id UUID NOT NULL REFERENCES workspaces(id),
  vehicle_id UUID NOT NULL REFERENCES fleet_vehicles(id),
  driver_id UUID REFERENCES fleet_drivers(id),

  -- èª¿åº¦æ—¥æœŸ
  start_date DATE NOT NULL,
  end_date DATE NOT NULL,

  -- å®¢æˆ¶/åœ˜è³‡è¨Š
  client_workspace_id UUID REFERENCES workspaces(id),  -- æ—…è¡Œç¤¾ workspace
  client_name VARCHAR(100),
  tour_id UUID,                              -- é—œè¯æ—…éŠåœ˜
  tour_name VARCHAR(200),
  tour_code VARCHAR(50),
  contact_person VARCHAR(50),
  contact_phone VARCHAR(20),

  -- è·¯ç·šè³‡è¨Š
  pickup_location TEXT,
  destination TEXT,
  route_notes TEXT,

  -- è²»ç”¨
  rental_fee DECIMAL(10, 2),

  -- ç‹€æ…‹
  status VARCHAR(20) DEFAULT 'confirmed',   -- pending, confirmed, in_progress, completed, cancelled
  notes TEXT,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- é˜²æ­¢åŒä¸€è»Šè¼›æ—¥æœŸè¡çª
CREATE INDEX idx_fleet_schedules_vehicle_dates ON fleet_schedules(vehicle_id, start_date, end_date);
```

## UI è¨­è¨ˆ

### é é¢çµæ§‹

```
/garage                          -- è»Šåº«ç®¡ç†é¦–é ï¼ˆå„€è¡¨æ¿ï¼‰
/garage/vehicles                 -- è»Šè¼›åˆ—è¡¨
/garage/vehicles/[id]            -- è»Šè¼›è©³æƒ…ï¼ˆDialogï¼‰
/garage/drivers                  -- å¸æ©Ÿç®¡ç†
/garage/schedules                -- èª¿åº¦æ—¥æ›†
/garage/reports                  -- å ±è¡¨ï¼ˆé‡Œç¨‹ã€è²»ç”¨çµ±è¨ˆï¼‰
```

### è»Šåº«é¦–é å„€è¡¨æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸšŒ è»Šåº«ç®¡ç†                                         ä»¥ç³è»Šè¡Œ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸšŒ 12      â”‚ â”‚  âš ï¸ 3       â”‚ â”‚  ğŸ”§ 1       â”‚ â”‚  ğŸ“… 8     â”‚ â”‚
â”‚  â”‚  ç¸½è»Šè¼›æ•¸    â”‚ â”‚  å¾…è™•ç†æé†’  â”‚ â”‚  ç¶­ä¿®ä¸­      â”‚ â”‚  æœ¬é€±æ´¾è»Š  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“‹ å¾…è™•ç†äº‹é …                                          [æŸ¥çœ‹å…¨éƒ¨]  â”‚
â”‚  â”œâ”€ âš ï¸ ABC-1234 é©—è»Šåˆ°æœŸ (1/15)              [æ›´æ–°é©—è»Š]            â”‚
â”‚  â”œâ”€ âš ï¸ ç‹å¤§æ˜ é§•ç…§åˆ°æœŸ (1/20)                [æ›´æ–°é§•ç…§]            â”‚
â”‚  â””â”€ âš ï¸ DEF-5678 ä¿é¤Šåˆ°æœŸ (1/25)              [è¨˜éŒ„ä¿é¤Š]            â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“… æœ¬é€±æ´¾è»Š                                            [èª¿åº¦æ—¥æ›†]  â”‚
â”‚  â”œâ”€ 1/15 ABC-1234 â†’ æ¸…é‚äº”æ—¥éŠ (è§’è½æ—…éŠ)                          â”‚
â”‚  â”œâ”€ 1/16 DEF-5678 â†’ æ—¥æœˆæ½­äºŒæ—¥éŠ (å‹æšæ—…éŠ)                        â”‚
â”‚  â””â”€ 1/17 GHI-9999 â†’ æ›¼è°·å››æ—¥éŠ (è§’è½æ—…éŠ)                          â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è»Šè¼›è©³æƒ… Dialog

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸšŒ ABC-1234                                              [ç·¨è¼¯] [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  åŸºæœ¬è³‡è¨Š                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è»Šç‰Œï¼šABC-1234          è»Šå‹ï¼š45äººå¤§å·´                         â”‚ â”‚
â”‚  â”‚ å» ç‰Œï¼šHINO              å‹è™Ÿï¼šRK8JSKA                          â”‚ â”‚
â”‚  â”‚ å‡ºå» ï¼š2020å¹´            é‡Œç¨‹ï¼š125,000 km                       â”‚ â”‚
â”‚  â”‚ é è¨­å¸æ©Ÿï¼šç‹å¤§æ˜                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  é‡è¦æ—¥æœŸ                                            [æ›´æ–°] [æé†’]  â”‚
â”‚  â”œâ”€ é©—è»Šåˆ°æœŸï¼š2024/01/15  âš ï¸ å³å°‡åˆ°æœŸ                             â”‚
â”‚  â”œâ”€ ä¿éšªåˆ°æœŸï¼š2024/06/30  âœ…                                       â”‚
â”‚  â”œâ”€ ä¸‹æ¬¡ä¿é¤Šï¼š2024/03/20 æˆ– 130,000km  âœ…                          â”‚
â”‚  â””â”€ ä¸Šæ¬¡ä¿é¤Šï¼š2023/12/10 (120,000km)                               â”‚
â”‚                                                                     â”‚
â”‚  æ–‡ä»¶ç®¡ç†                                               [ä¸Šå‚³æ–‡ä»¶]  â”‚
â”‚  â”œâ”€ ğŸ“„ è¡Œç…§.pdf                              [ä¸‹è¼‰] [åˆªé™¤]         â”‚
â”‚  â”œâ”€ ğŸ“„ ä¿éšªå–®.pdf                            [ä¸‹è¼‰] [åˆªé™¤]         â”‚
â”‚  â””â”€ ğŸ“„ é©—è»Šè­‰æ˜.pdf                          [ä¸‹è¼‰] [åˆªé™¤]         â”‚
â”‚                                                                     â”‚
â”‚  ç¶­è­·è¨˜éŒ„                                               [æ–°å¢è¨˜éŒ„]  â”‚
â”‚  â”œâ”€ 2023/12/10  ä¿é¤Š  æ›´æ›æ©Ÿæ²¹ã€æ¿¾èŠ¯  NT$ 8,500                    â”‚
â”‚  â”œâ”€ 2023/11/05  ç¶­ä¿®  æ›´æ›ç…è»Šçš®      NT$ 12,000                   â”‚
â”‚  â””â”€ 2023/10/15  é©—è»Š  å®šæœŸé©—è»Š        NT$ 450                      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ©Ÿå™¨äººæé†’åŠŸèƒ½

### æé†’é¡å‹

```typescript
interface FleetReminder {
  type: 'inspection' | 'maintenance' | 'insurance' | 'license' | 'health_check'
  target: 'vehicle' | 'driver'
  targetId: string
  targetName: string
  dueDate: Date
  daysUntilDue: number
}
```

### æé†’é‚è¼¯

```
æ¯æ—¥æ—©ä¸Š 9:00 æª¢æŸ¥ï¼š
1. é©—è»Šåˆ°æœŸï¼šæå‰ 30, 14, 7, 3, 1 å¤©æé†’
2. ä¿éšªåˆ°æœŸï¼šæå‰ 30, 14, 7 å¤©æé†’
3. ä¿é¤Šåˆ°æœŸï¼šæå‰ 14, 7 å¤©æˆ–é‡Œç¨‹å·® 1000km æé†’
4. é§•ç…§åˆ°æœŸï¼šæå‰ 60, 30, 14, 7 å¤©æé†’
5. é«”æª¢åˆ°æœŸï¼šæå‰ 30, 14, 7 å¤©æé†’
```

### æ©Ÿå™¨äººè¨Šæ¯ç¯„ä¾‹

```
ğŸšŒ è»Šè¼›æé†’

âš ï¸ ä»¥ä¸‹è»Šè¼›éœ€è¦æ³¨æ„ï¼š

ğŸ”´ é©—è»Šåˆ°æœŸ
â€¢ ABC-1234 - 1æœˆ15æ—¥åˆ°æœŸï¼ˆå‰©é¤˜ 3 å¤©ï¼‰

ğŸŸ¡ ä¿é¤Šæé†’
â€¢ DEF-5678 - ä¸‹æ¬¡ä¿é¤Š 1æœˆ25æ—¥ï¼ˆå‰©é¤˜ 13 å¤©ï¼‰

ğŸ”µ é§•ç…§æé†’
â€¢ ç‹å¤§æ˜ - è·æ¥­é§•ç…§ 1æœˆ20æ—¥åˆ°æœŸï¼ˆå‰©é¤˜ 8 å¤©ï¼‰

é»æ“Šä¸‹æ–¹æŒ‰éˆ•æ›´æ–°è¨˜éŒ„ï¼š
[æ›´æ–°é©—è»Š] [æ›´æ–°ä¿é¤Š] [æ›´æ–°é§•ç…§]
```

## æª”æ¡ˆçµæ§‹

```
src/
â”œâ”€â”€ app/(main)/garage/
â”‚   â”œâ”€â”€ page.tsx                    -- å„€è¡¨æ¿
â”‚   â”œâ”€â”€ vehicles/page.tsx           -- è»Šè¼›åˆ—è¡¨
â”‚   â”œâ”€â”€ drivers/page.tsx            -- å¸æ©Ÿåˆ—è¡¨
â”‚   â””â”€â”€ schedules/page.tsx          -- èª¿åº¦æ—¥æ›†
â”‚
â”œâ”€â”€ features/garage/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ GarageDashboard.tsx     -- å„€è¡¨æ¿çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ VehicleList.tsx         -- è»Šè¼›åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ VehicleDetailDialog.tsx -- è»Šè¼›è©³æƒ…
â”‚   â”‚   â”œâ”€â”€ VehicleForm.tsx         -- æ–°å¢/ç·¨è¼¯è»Šè¼›
â”‚   â”‚   â”œâ”€â”€ DriverList.tsx          -- å¸æ©Ÿåˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ DriverForm.tsx          -- æ–°å¢/ç·¨è¼¯å¸æ©Ÿ
â”‚   â”‚   â”œâ”€â”€ MaintenanceLogDialog.tsx-- ç¶­è­·è¨˜éŒ„
â”‚   â”‚   â”œâ”€â”€ DocumentUpload.tsx      -- æ–‡ä»¶ä¸Šå‚³
â”‚   â”‚   â””â”€â”€ ScheduleCalendar.tsx    -- èª¿åº¦æ—¥æ›†
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useVehicles.ts
â”‚   â”‚   â”œâ”€â”€ useDrivers.ts
â”‚   â”‚   â”œâ”€â”€ useVehicleLogs.ts
â”‚   â”‚   â””â”€â”€ useFleetSchedules.ts
â”‚   â”‚
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ fleet.types.ts
â”‚
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ fleet-store.ts
â”‚
â””â”€â”€ app/api/
    â”œâ”€â”€ fleet/
    â”‚   â”œâ”€â”€ vehicles/route.ts
    â”‚   â”œâ”€â”€ drivers/route.ts
    â”‚   â”œâ”€â”€ logs/route.ts
    â”‚   â””â”€â”€ schedules/route.ts
    â”‚
    â””â”€â”€ bot/
        â””â”€â”€ fleet-reminder/route.ts  -- æ©Ÿå™¨äººæé†’ API
```

## å¯¦ä½œæ­¥é©Ÿ

### Phase 1ï¼šåŸºç¤æ¶æ§‹
1. å»ºç«‹è³‡æ–™åº«è¡¨æ ¼ï¼ˆmigrationï¼‰
2. å»ºç«‹ TypeScript é¡å‹
3. å»ºç«‹åŸºç¤ Store/Hooks

### Phase 2ï¼šè»Šè¼›ç®¡ç†
1. è»Šè¼›åˆ—è¡¨é é¢
2. æ–°å¢/ç·¨è¼¯è»Šè¼›
3. è»Šè¼›è©³æƒ… Dialog
4. æ–‡ä»¶ä¸Šå‚³åŠŸèƒ½

### Phase 3ï¼šå¸æ©Ÿç®¡ç†
1. å¸æ©Ÿåˆ—è¡¨
2. é§•ç…§è¿½è¹¤
3. é«”æª¢è¿½è¹¤

### Phase 4ï¼šç¶­è­·è¨˜éŒ„
1. ç¶­è­·è¨˜éŒ„åˆ—è¡¨
2. æ–°å¢å„é¡è¨˜éŒ„ï¼ˆé©—è»Šã€ä¿é¤Šã€ç¶­ä¿®ï¼‰
3. è‡ªå‹•æ›´æ–°åˆ°æœŸæ—¥

### Phase 5ï¼šèª¿åº¦åŠŸèƒ½
1. èª¿åº¦æ—¥æ›†è¦–åœ–
2. æ–°å¢èª¿åº¦
3. è¡çªæª¢æŸ¥

### Phase 6ï¼šæ©Ÿå™¨äººæé†’
1. åˆ°æœŸæª¢æŸ¥ API
2. æ©Ÿå™¨äººè¨Šæ¯æ ¼å¼
3. Cron Job è¨­å®š

## æ¬Šé™è¨­è¨ˆ

```typescript
// è»Šè¡Œå…¬å¸å°ˆå±¬åŠŸèƒ½
const GARAGE_PERMISSIONS = {
  'garage:view': 'æŸ¥çœ‹è»Šåº«',
  'garage:manage': 'ç®¡ç†è»Šè¼›',
  'garage:schedule': 'èª¿åº¦è»Šè¼›',
  'garage:report': 'æŸ¥çœ‹å ±è¡¨',
}

// åªæœ‰ vehicle_supplier é¡å‹çš„ workspace é¡¯ç¤ºè»Šåº«åŠŸèƒ½
if (workspace.type === 'vehicle_supplier') {
  showGarageMenu = true
}
```

## èˆ‡æ—…è¡Œç¤¾çš„äº’å‹•

```
æ—…è¡Œç¤¾ä¸‹å–®æµç¨‹ï¼š
1. æ—…è¡Œç¤¾åœ¨ã€Œäº¤é€šå®‰æ’ã€é¸æ“‡è»Šè¡Œ
2. è»Šè¡Œæ”¶åˆ°é€šçŸ¥
3. è»Šè¡Œåœ¨èª¿åº¦æ—¥æ›†å®‰æ’è»Šè¼›å’Œå¸æ©Ÿ
4. ç¢ºèªå¾Œæ—…è¡Œç¤¾å¯ä»¥çœ‹åˆ°æ´¾è»Šè³‡è¨Š

è³‡æ–™æµå‘ï¼š
æ—…è¡Œç¤¾ Tour â†’ é¸æ“‡è»Šè¡Œ â†’ è»Šè¡Œ Schedule â†’ ç¢ºèªæ´¾è»Š
```
