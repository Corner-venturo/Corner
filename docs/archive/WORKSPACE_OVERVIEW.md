# Venturo å·¥ä½œç©ºé–“å®Œæ•´æ¦‚å¿µ

> **æœ€å¾Œæ›´æ–°**ï¼š2025-10-30
> **å°ˆæ¡ˆç‹€æ…‹**ï¼šâœ… ç”Ÿç”¢ç’°å¢ƒé‹è¡Œä¸­
> **ç¶­è­·è€…**ï¼šWilliam Chien

---

## ğŸ“‹ ç›®éŒ„

1. [å°ˆæ¡ˆå®šä½](#-å°ˆæ¡ˆå®šä½)
2. [å·¥ä½œç©ºé–“çµæ§‹](#-å·¥ä½œç©ºé–“çµæ§‹)
3. [æŠ€è¡“æ¶æ§‹](#-æŠ€è¡“æ¶æ§‹)
4. [æ¥­å‹™é‚è¼¯](#-æ¥­å‹™é‚è¼¯)
5. [è³‡æ–™æµå‹•](#-è³‡æ–™æµå‹•)
6. [é–‹ç™¼è¦ç¯„](#-é–‹ç™¼è¦ç¯„)
7. [éƒ¨ç½²æµç¨‹](#-éƒ¨ç½²æµç¨‹)

---

## ğŸ¯ å°ˆæ¡ˆå®šä½

### æ ¸å¿ƒè³‡è¨Š

| é …ç›®         | èªªæ˜                                       |
| ------------ | ------------------------------------------ |
| **å°ˆæ¡ˆåç¨±** | Venturo æ—…éŠåœ˜ç®¡ç†ç³»çµ±                     |
| **ç›®æ¨™ç”¨æˆ¶** | å°å‹æ—…è¡Œç¤¾ï¼ˆ10-50 äººï¼‰                     |
| **ä½¿ç”¨å ´æ™¯** | è¾¦å…¬å®¤ç‚ºä¸»ï¼Œå¤–å‹¤ç‚ºè¼”                       |
| **æ ¸å¿ƒåƒ¹å€¼** | ç°¡å–®ã€å¯¦ç”¨ã€ç©©å®šã€é›¢ç·šå¯ç”¨                 |
| **å·¥ä½œç›®éŒ„** | `/Users/williamchien/Projects/venturo-new` |
| **é–‹ç™¼ç«¯å£** | `http://localhost:3000`                    |

### è¨­è¨ˆç†å¿µ

#### 1. **ç°¡å–®å„ªå…ˆï¼ˆSimplicity Firstï¼‰**

- çµ±ä¸€ > åˆ†æ•£ï¼šæ‰€æœ‰åŠŸèƒ½çµ±ä¸€è™•ç†æ–¹å¼
- ç°¡å–® > å®Œç¾ï¼šå¯ç”¨æ€§å„ªå…ˆæ–¼å®Œç¾è¨­è¨ˆ
- å¯¦ç”¨ > ç†è«–ï¼šè§£æ±ºå¯¦éš›å•é¡Œï¼Œä¸éåº¦è¨­è¨ˆ

#### 2. **é›¢ç·šå„ªå…ˆï¼ˆOffline-Firstï¼‰**

- æ‰€æœ‰åŠŸèƒ½éƒ½æ”¯æ´é›¢ç·šæ“ä½œ
- è³‡æ–™å„ªå…ˆå­˜æœ¬åœ°ï¼Œæœ‰ç¶²è·¯æ™‚èƒŒæ™¯åŒæ­¥
- ä¸å€åˆ†åŠŸèƒ½çš„é›¢ç·šæ¬Šé™ï¼ˆçµ±ä¸€è™•ç†ï¼Œæ¸›å°‘è¤‡é›œåº¦ï¼‰

#### 3. **FastIn å¯«å…¥ç­–ç•¥**

```
æ“ä½œæµç¨‹ï¼š
UI è§¸ç™¼ â†’ IndexedDB ç«‹å³å¯«å…¥ âš¡ â†’ UI ç«‹å³æ›´æ–° â†’ èƒŒæ™¯åŒæ­¥ Supabase â˜ï¸
```

**ç‰¹é»ï¼š**

- âš¡ æœ¬åœ°å…ˆå¯«ï¼Œé›¶ç­‰å¾…
- â˜ï¸ èƒŒæ™¯åŒæ­¥ï¼Œä¸é˜»å¡
- âœ… æœ€çµ‚ä¸€è‡´ï¼Œè³‡æ–™å®‰å…¨

---

## ğŸ—‚ï¸ å·¥ä½œç©ºé–“çµæ§‹

### å®Œæ•´ç›®éŒ„æ¨¹

```
/Users/williamchien/Projects/venturo-new/
â”‚
â”œâ”€â”€ ğŸ“ docs/                          # æ–‡ä»¶ç›®éŒ„
â”‚   â”œâ”€â”€ PROJECT_PRINCIPLES.md         # è¨­è¨ˆç†å¿µèˆ‡æ±ºç­– â­ï¸
â”‚   â”œâ”€â”€ VENTURO_5.0_MANUAL.md         # æŠ€è¡“å¯¦ä½œç´°ç¯€ â­ï¸
â”‚   â”œâ”€â”€ DATABASE.md                   # è³‡æ–™åº«è¨­è¨ˆ
â”‚   â”œâ”€â”€ DESIGN_SYSTEM.md              # UI è¨­è¨ˆç³»çµ±
â”‚   â””â”€â”€ archive/                      # æ­·å²æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ src/                           # åŸå§‹ç¢¼ä¸»ç›®éŒ„
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ app/                       # Next.js App Router é é¢
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # ğŸ  é¦–é ï¼ˆå°å·¥å…·é é¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ä¸»ä½ˆå±€ï¼ˆSidebar + Headerï¼‰
â”‚   â”‚   â”œâ”€â”€ globals.css               # å…¨åŸŸæ¨£å¼
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ tours/                 # âœˆï¸ æ—…éŠåœ˜ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # æ—…éŠåœ˜åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ [id]/                 # æ—…éŠåœ˜è©³æƒ…ï¼ˆ6 å€‹åˆ†é ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ orders/                # ğŸ“ è¨‚å–®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ customers/             # ğŸ‘¥ å®¢æˆ¶ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ quotes/                # ğŸ’° å ±åƒ¹å–®ç®¡ç†
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ finance/               # ğŸ’µ è²¡å‹™æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ payments/             # ä»˜æ¬¾ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ requests/             # è«‹æ¬¾å–®
â”‚   â”‚   â”‚   â”œâ”€â”€ treasury/             # å‡ºç´å–®
â”‚   â”‚   â”‚   â””â”€â”€ travel-invoice/       # æ‡‰æ”¶æ‡‰ä»˜å¸³
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ database/              # ğŸ—„ï¸ åŸºç¤è³‡æ–™ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ regions/              # åœ°å€è³‡æ–™
â”‚   â”‚   â”‚   â”œâ”€â”€ suppliers/            # ä¾›æ‡‰å•†è³‡æ–™
â”‚   â”‚   â”‚   â”œâ”€â”€ attractions/          # æ™¯é»è³‡æ–™
â”‚   â”‚   â”‚   â””â”€â”€ activities/           # æ´»å‹•è³‡æ–™
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ hr/                    # ğŸ‘” äººäº‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ accounting/            # ğŸ“Š æœƒè¨ˆæ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ calendar/              # ğŸ“… è¡Œäº‹æ›†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ contracts/             # ğŸ“„ åˆç´„ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ visas/                 # ğŸ›‚ ç°½è­‰ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ settings/              # âš™ï¸ ç³»çµ±è¨­å®š
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“‚ api/                   # API è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ health/               # å¥åº·æª¢æŸ¥
â”‚   â”‚       â”œâ”€â”€ admin/                # ç®¡ç†ä»‹é¢
â”‚   â”‚       â””â”€â”€ itineraries/          # è¡Œç¨‹è¡¨ API
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/                # React çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/                   # ä½ˆå±€çµ„ä»¶ï¼ˆSidebar, Headerï¼‰
â”‚   â”‚   â”œâ”€â”€ ui/                       # UI åŸºç¤çµ„ä»¶ï¼ˆButton, Inputï¼‰
â”‚   â”‚   â”œâ”€â”€ tours/                    # æ—…éŠåœ˜å°ˆç”¨çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ orders/                   # è¨‚å–®å°ˆç”¨çµ„ä»¶
â”‚   â”‚   â””â”€â”€ shared/                   # å…±ç”¨çµ„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ stores/                    # Zustand ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts                  # Store çµ±ä¸€åŒ¯å‡º â­ï¸
â”‚   â”‚   â”œâ”€â”€ types.ts                  # è³‡æ–™å‹åˆ¥å®šç¾©
â”‚   â”‚   â”œâ”€â”€ core/                     # Store æ ¸å¿ƒé‚è¼¯
â”‚   â”‚   â”‚   â”œâ”€â”€ create-store-new.ts   # å·¥å» å‡½æ•¸ï¼ˆcreateStoreï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ supabase-sync.ts      # Supabase åŒæ­¥é‚è¼¯
â”‚   â”‚   â””â”€â”€ [å„åŠŸèƒ½ store].ts         # å€‹åˆ¥åŠŸèƒ½ Store
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/                  # æ¥­å‹™é‚è¼¯æœå‹™
â”‚   â”‚   â”œâ”€â”€ local-auth-service.ts     # æœ¬åœ°ç™»å…¥é©—è­‰
â”‚   â”‚   â”œâ”€â”€ sync/                     # åŒæ­¥æœå‹™
â”‚   â”‚   â”‚   â”œâ”€â”€ background-sync.ts    # èƒŒæ™¯åŒæ­¥
â”‚   â”‚   â”‚   â””â”€â”€ network-monitor.ts    # ç¶²è·¯ç‹€æ…‹ç›£æ§
â”‚   â”‚   â””â”€â”€ indexeddb/                # IndexedDB å°è£
â”‚   â”‚       â””â”€â”€ local-db.ts           # æœ¬åœ°è³‡æ–™åº«
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                     # React Custom Hooks
â”‚   â”‚   â”œâ”€â”€ useTours.ts               # æ—…éŠåœ˜æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ useOrders.ts              # è¨‚å–®æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ useCustomers.ts           # å®¢æˆ¶æ“ä½œ
â”‚   â”‚   â””â”€â”€ useAuth.ts                # ç™»å…¥ç‹€æ…‹
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ lib/                       # å·¥å…·å‡½å¼åº«
â”‚   â”‚   â”œâ”€â”€ utils.ts                  # é€šç”¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ supabase.ts               # Supabase å®¢æˆ¶ç«¯
â”‚   â”‚   â””â”€â”€ ui/                       # UI ç›¸é—œå·¥å…·
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ types/                     # TypeScript å‹åˆ¥å®šç¾©
â”‚   â”‚   â”œâ”€â”€ tour.types.ts             # æ—…éŠåœ˜å‹åˆ¥
â”‚   â”‚   â”œâ”€â”€ order.types.ts            # è¨‚å–®å‹åˆ¥
â”‚   â”‚   â”œâ”€â”€ customer.types.ts         # å®¢æˆ¶å‹åˆ¥
â”‚   â”‚   â””â”€â”€ index.ts                  # å‹åˆ¥çµ±ä¸€åŒ¯å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ constants/                 # å¸¸æ•¸å®šç¾©
â”‚   â”‚   â”œâ”€â”€ routes.ts                 # è·¯ç”±å¸¸æ•¸
â”‚   â”‚   â””â”€â”€ config.ts                 # è¨­å®šå¸¸æ•¸
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ core/                      # æ ¸å¿ƒåŸºç¤è¨­æ–½
â”‚       â”œâ”€â”€ types/                    # æ ¸å¿ƒå‹åˆ¥
â”‚       â”œâ”€â”€ services/                 # æ ¸å¿ƒæœå‹™
â”‚       â””â”€â”€ errors/                   # éŒ¯èª¤è™•ç†
â”‚
â”œâ”€â”€ ğŸ“ public/                        # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ images/                       # åœ–ç‰‡
â”‚   â””â”€â”€ fonts/                        # å­—å‹
â”‚
â”œâ”€â”€ ğŸ“ .github/                       # GitHub è¨­å®š
â”‚   â””â”€â”€ workflows/                    # CI/CD æµç¨‹
â”‚       â”œâ”€â”€ ci.yml                    # è‡ªå‹•åŒ–æ¸¬è©¦
â”‚       â””â”€â”€ bundle-size.yml           # æ‰“åŒ…å¤§å°æª¢æŸ¥
â”‚
â”œâ”€â”€ ğŸ“ .claude/                       # AI åŠ©æ‰‹è¦ç¯„
â”‚   â”œâ”€â”€ CLAUDE.md                     # AI è¡Œç‚ºæ§åˆ¶è¦ç¯„ â­ï¸
â”‚   â””â”€â”€ SUPABASE_CREDENTIALS.md       # Supabase æ†‘è­‰
â”‚
â”œâ”€â”€ ğŸ“„ package.json                   # å°ˆæ¡ˆä¾è³´
â”œâ”€â”€ ğŸ“„ tsconfig.json                  # TypeScript è¨­å®š
â”œâ”€â”€ ğŸ“„ tailwind.config.ts             # TailwindCSS è¨­å®š
â”œâ”€â”€ ğŸ“„ next.config.ts                 # Next.js è¨­å®š
â””â”€â”€ ğŸ“„ README.md                      # å°ˆæ¡ˆèªªæ˜

```

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### æŠ€è¡“æ£§

| åˆ†é¡         | æŠ€è¡“         | ç‰ˆæœ¬        | ç”¨é€”                        |
| ------------ | ------------ | ----------- | --------------------------- |
| **å‰ç«¯æ¡†æ¶** | Next.js      | 15.5.4      | App Router + Server Actions |
| **UI æ¡†æ¶**  | React        | 19.1.0      | çµ„ä»¶åŒ–é–‹ç™¼                  |
| **ç¨‹å¼èªè¨€** | TypeScript   | 5.x         | å‹åˆ¥å®‰å…¨                    |
| **ç‹€æ…‹ç®¡ç†** | Zustand      | 5.0.8       | è¼•é‡ç´šç‹€æ…‹ç®¡ç† + Persist    |
| **æ¨£å¼ç³»çµ±** | TailwindCSS  | 4.x         | Utility-first CSS           |
| **UI çµ„ä»¶**  | Radix UI     | -           | ç„¡éšœç¤™ Headless çµ„ä»¶        |
| **åœ–ç¤º**     | Lucide React | 0.544.0     | åœ–ç¤ºåº«                      |
| **è³‡æ–™åº«**   | Supabase     | 2.75.0      | PostgreSQL + Realtime       |
| **æœ¬åœ°å¿«å–** | IndexedDB    | (idb 8.0.3) | é›¢ç·šè³‡æ–™å„²å­˜                |
| **æ—¥æœŸè™•ç†** | date-fns     | 4.1.0       | æ—¥æœŸæ ¼å¼åŒ–                  |
| **è¡¨å–®é©—è­‰** | -            | -           | è‡ªè¨‚é©—è­‰é‚è¼¯                |
| **æ¸¬è©¦**     | Playwright   | 1.56.0      | E2E æ¸¬è©¦                    |
| **éƒ¨ç½²**     | Vercel       | -           | è‡ªå‹•åŒ–éƒ¨ç½²                  |

### æ ¸å¿ƒè¨­è¨ˆæ¨¡å¼

#### 1. **Store å·¥å» æ¨¡å¼**

```typescript
// src/stores/index.ts

// âœ… ä½¿ç”¨çµ±ä¸€å·¥å» å‡½æ•¸
export const useTourStore = createStore<Tour>('tours', 'T')
export const useOrderStore = createStore<Order>('orders', 'O')

// createStore è‡ªå‹•æä¾›ï¼š
// - Supabase é›²ç«¯åŒæ­¥
// - IndexedDB æœ¬åœ°å¿«å–
// - è‡ªå‹•ç·¨è™Ÿç”Ÿæˆ
// - çµ±ä¸€ CRUD API
```

**å¥½è™•ï¼š**

- å“è³ªä¸€è‡´ï¼Œæ‰€æœ‰ Store åŠŸèƒ½ç›¸åŒ
- è‡ªå‹•é›¢ç·šæ”¯æ´
- æ¸›å°‘é‡è¤‡ç¨‹å¼ç¢¼
- æ˜“æ–¼ç¶­è­·

#### 2. **é›¢ç·šå„ªå…ˆæ¶æ§‹ï¼ˆOffline-Firstï¼‰**

```
å¯«å…¥è³‡æ–™æµç¨‹ï¼ˆFastInï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI æ“ä½œ     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ Step 1: IndexedDB ç«‹å³å¯«å…¥  â”‚
â”‚ (_needs_sync: true)          â”‚
â”‚ (_synced_at: null)           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… UI ç«‹å³æ›´æ–°ï¼ˆç„¡ç­‰å¾…ï¼‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ï¸ èƒŒæ™¯åŒæ­¥åˆ° Supabase        â”‚
â”‚ (backgroundSyncService)      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… æ›´æ–°åŒæ­¥ç‹€æ…‹                â”‚
â”‚ (_needs_sync: false)         â”‚
â”‚ (_synced_at: timestamp)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è®€å–è³‡æ–™æµç¨‹ï¼š**

```
UI è«‹æ±‚ â†’ Store â†’ IndexedDBï¼ˆå¿«å–å„ªå…ˆï¼‰âš¡
                    â†“
           èƒŒæ™¯åŒæ­¥ Supabaseï¼ˆæ›´æ–°æœ€æ–°è³‡æ–™ï¼‰â˜ï¸
```

#### 3. **åŒæ­¥ç‹€æ…‹æ¬„ä½**

æ‰€æœ‰å¯åŒæ­¥çš„è³‡æ–™è¡¨éƒ½åŒ…å«ï¼š

```typescript
{
  _needs_sync: boolean;       // æ˜¯å¦éœ€è¦åŒæ­¥
  _synced_at: string | null;  // æœ€å¾ŒåŒæ­¥æ™‚é–“ï¼ˆISO 8601ï¼‰
  _deleted?: boolean;         // è»Ÿåˆªé™¤æ¨™è¨˜
}
```

---

## ğŸ’¼ æ¥­å‹™é‚è¼¯

### æ ¸å¿ƒæ¥­å‹™å¯¦é«”

#### 1. **æ—…éŠåœ˜ï¼ˆTourï¼‰**

```typescript
{
  id: string
  tour_code: string // T20250001 æˆ– TTBCï¼ˆå¾…ç¢ºèªï¼‰
  tour_name: string
  departure_date: string
  return_date: string
  status: 'draft' | 'confirmed' | 'completed' | 'cancelled'
  // ... å…¶ä»–æ¬„ä½
}
```

**ç·¨è™Ÿè¦å‰‡ï¼š**

- ç·šä¸Šï¼š`T{year}{4ä½æ•¸}` (å¦‚ï¼šT20250001)
- é›¢ç·šï¼š`TTBC` (Tour To Be Confirmed)

#### 2. **è¨‚å–®ï¼ˆOrderï¼‰**

```typescript
{
  id: string
  order_number: string // O20250001 æˆ– OTBC
  tour_id: string // é—œè¯æ—…éŠåœ˜
  customer_id: string // é—œè¯å®¢æˆ¶
  total_amount: number
  status: 'pending' | 'confirmed' | 'paid' | 'cancelled'
  // ... å…¶ä»–æ¬„ä½
}
```

**é—œè¯é—œä¿‚ï¼š**

```
Tour (1) â”€â”€â”€ (N) Order â”€â”€â”€ (N) Member
                      â””â”€â”€â”€ (N) Payment
```

#### 3. **å®¢æˆ¶ï¼ˆCustomerï¼‰**

```typescript
{
  id: string
  customer_code: string // C20250001 æˆ– CTBC
  name: string
  phone: string
  email: string
  // ... å…¶ä»–æ¬„ä½
}
```

### æ¥­å‹™æ¨¡çµ„

| æ¨¡çµ„          | è·¯å¾‘          | åŠŸèƒ½                             | ç‹€æ…‹    |
| ------------- | ------------- | -------------------------------- | ------- |
| ğŸ  **é¦–é **   | `/`           | å°å·¥å…·é›†ä¸­åœ°ï¼ˆè¨ˆç®—æ©Ÿã€ä»£è¾¦äº‹é …ï¼‰ | âœ… å®Œæˆ |
| âœˆï¸ **æ—…éŠåœ˜** | `/tours`      | æ—…éŠåœ˜ CRUD + è©³æƒ…é ï¼ˆ6 å€‹åˆ†é ï¼‰ | âœ… å®Œæˆ |
| ğŸ“ **è¨‚å–®**   | `/orders`     | è¨‚å–®ç®¡ç†ã€ä»˜æ¬¾è¿½è¹¤               | âœ… å®Œæˆ |
| ğŸ‘¥ **å®¢æˆ¶**   | `/customers`  | å®¢æˆ¶è³‡æ–™åº«                       | âœ… å®Œæˆ |
| ğŸ’° **å ±åƒ¹**   | `/quotes`     | å ±åƒ¹å–®å»ºç«‹ã€ç™¼é€                 | âœ… å®Œæˆ |
| ğŸ’µ **è²¡å‹™**   | `/finance`    | è«‹æ¬¾å–®ã€å‡ºç´å–®ã€æ‡‰æ”¶æ‡‰ä»˜å¸³       | âœ… å®Œæˆ |
| ğŸ—„ï¸ **è³‡æ–™åº«** | `/database`   | åœ°å€ã€ä¾›æ‡‰å•†ã€æ™¯é»ã€æ´»å‹•         | âœ… å®Œæˆ |
| ğŸ“… **è¡Œäº‹æ›†** | `/calendar`   | è¡Œç¨‹è¦åŠƒè¦–è¦ºåŒ–                   | âœ… å®Œæˆ |
| ğŸ‘” **äººäº‹**   | `/hr`         | å“¡å·¥ç®¡ç†ã€æ¬Šé™è¨­å®š               | âœ… å®Œæˆ |
| ğŸ“Š **æœƒè¨ˆ**   | `/accounting` | æœƒè¨ˆåˆ†éŒ„ã€å ±è¡¨                   | âœ… å®Œæˆ |
| ğŸ›‚ **ç°½è­‰**   | `/visas`      | ç°½è­‰ç®¡ç†                         | âœ… å®Œæˆ |
| âš™ï¸ **è¨­å®š**   | `/settings`   | ç³»çµ±è¨­å®š                         | âœ… å®Œæˆ |

---

## ğŸ”„ è³‡æ–™æµå‹•

### å®Œæ•´è³‡æ–™æµç¨‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ä½¿ç”¨è€…æ“ä½œ                       â”‚
â”‚              (é»æ“Šã€è¼¸å…¥ã€æäº¤)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 UI Components                   â”‚
â”‚         (React çµ„ä»¶ï¼šè¡¨å–®ã€æŒ‰éˆ•ã€åˆ—è¡¨)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Custom Hooks                      â”‚
â”‚       (useTours, useOrders, useCustomers...)    â”‚
â”‚         - ç‹€æ…‹ç®¡ç†                               â”‚
â”‚         - æ“ä½œå°è£                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Zustand Stores                     â”‚
â”‚         (createStore å·¥å» ç”¢ç”Ÿ)                   â”‚
â”‚         - ç‹€æ…‹å„²å­˜                               â”‚
â”‚         - è³‡æ–™é©—è­‰                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ FastIn å¯«å…¥æµç¨‹
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ IndexedDBï¼ˆæœ¬åœ°å¿«å–ï¼‰                         â”‚
â”‚  - ç«‹å³å¯«å…¥                                       â”‚
â”‚  - æ¨™è¨˜ _needs_sync: true                        â”‚
â”‚  - UI ç«‹å³æ›´æ–°                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ èƒŒæ™¯åŒæ­¥ï¼ˆä¸é˜»å¡ UIï¼‰
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â˜ï¸ Supabase PostgreSQLï¼ˆé›²ç«¯è³‡æ–™åº«ï¼‰             â”‚
â”‚  - èƒŒæ™¯ä¸Šå‚³                                       â”‚
â”‚  - æ›´æ–° _synced_at                                â”‚
â”‚  - è‡ªå‹•è¡çªè™•ç†                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŒæ­¥æ©Ÿåˆ¶

#### è§¸ç™¼æ™‚æ©Ÿ

1. **ç¶²è·¯æ¢å¾©æ™‚** - `NetworkMonitor` è‡ªå‹•è§¸ç™¼
2. **é€²å…¥ç›¸é—œé é¢** - `fetchAll()` æ‹‰å–æœ€æ–°è³‡æ–™
3. **æ‰‹å‹•åŒæ­¥** - ä½¿ç”¨è€…é»æ“ŠåŒæ­¥æŒ‰éˆ•

#### åŒæ­¥å„ªå…ˆç´š

```typescript
// åˆä½µç­–ç•¥ï¼ˆé›²ç«¯è³‡æ–™ + æœ¬åœ°å¾…åŒæ­¥è³‡æ–™ï¼‰
const mergedData = [
  ...cloudData, // é›²ç«¯å·²åŒæ­¥è³‡æ–™
  ...localPendingData, // æœ¬åœ°å¾…åŒæ­¥è³‡æ–™ï¼ˆ_needs_sync: trueï¼‰
].filter(item => !item._deleted) // éæ¿¾è»Ÿåˆªé™¤
```

---

## ğŸ“ é–‹ç™¼è¦ç¯„

### å‘½åè¦ç¯„

#### è³‡æ–™æ¬„ä½ï¼ˆsnake_caseï¼‰

```typescript
// âœ… æ­£ç¢ºï¼šçµ±ä¸€ä½¿ç”¨ snake_case
interface Tour {
  tour_name: string
  start_date: string
  created_at: string
}

// âŒ éŒ¯èª¤ï¼šä¸è¦ç”¨ camelCase
interface BadTour {
  tourName: string // âŒ
  startDate: string // âŒ
}
```

**åŸå› ï¼š**èˆ‡ Supabase PostgreSQL å‘½åæ…£ä¾‹ä¸€è‡´ï¼Œé¿å…å‰å¾Œç«¯è½‰æ›è¤‡é›œåº¦ã€‚

#### çµ„ä»¶æª”æ¡ˆï¼ˆkebab-caseï¼‰

```
âœ… tour-list.tsx
âœ… order-form.tsx
âœ… customer-detail.tsx
```

### UI é–‹ç™¼è¦ç¯„

#### é é¢é«˜åº¦çµæ§‹

```tsx
// âœ… æ­£ç¢ºï¼šh-full flex flex-col
<div className="h-full flex flex-col">
  <div className="flex-none">{/* Header å›ºå®šé«˜åº¦ */}</div>
  <div className="flex-1 overflow-auto">{/* å…§å®¹å€è‡ªå‹•å¡«æ»¿ */}</div>
</div>
```

**åŸå› ï¼š**ç¢ºä¿ç•«é¢å¡«æ»¿ï¼Œé¿å…åº•éƒ¨ç©ºç™½ï¼Œå…§å®¹å€å¯ç¨ç«‹æ²å‹•ã€‚

#### è«è˜­è¿ªè‰²ç³»

```css
--morandi-primary: #3a3633 /* ä¸»è¦æ–‡å­— */ --morandi-secondary: #8b8680 /* æ¬¡è¦æ–‡å­— */
  --morandi-gold: #c4a572 /* å¼·èª¿è‰² */ --morandi-green: #9fa68f /* æˆåŠŸç‹€æ…‹ */
  --morandi-red: #c08374 /* è­¦å‘Šç‹€æ…‹ */ --morandi-container: #e8e5e0 /* å®¹å™¨èƒŒæ™¯ */;
```

### Store ä½¿ç”¨è¦ç¯„

```typescript
// âœ… æ­£ç¢ºï¼šä½¿ç”¨çµ±ä¸€å·¥å» 
export const useTourStore = createStore<Tour>('tours', 'T')

// âŒ éŒ¯èª¤ï¼šä¸è¦è‡ªå·±å¯« Zustand create
// æ‡‰è©²ä½¿ç”¨ createStore å·¥å» 
```

### éŒ¯èª¤è™•ç†è¦ç¯„

```typescript
try {
  // 1. å„ªå…ˆå˜—è©¦ Supabase
  const result = await supabase.from('tours').insert(data)
  if (result.error) throw result.error

  // 2. æˆåŠŸ â†’ å¿«å–åˆ° IndexedDB
  await indexedDB.put(result.data)
} catch (error) {
  // 3. å¤±æ•— â†’ éœé»˜é™ç´šåˆ° IndexedDB
  console.log('âš ï¸ åˆ‡æ›åˆ°é›¢ç·šæ¨¡å¼')
  await indexedDB.put({ ...data, _needs_sync: true })
}

// 4. ä½¿ç”¨è€…åªçœ‹åˆ°æˆåŠŸè¨Šæ¯
toast.success('å„²å­˜æˆåŠŸ')
```

**åŸå‰‡ï¼š**

- âŒ ä¸è¦é¡¯ç¤ºã€ŒSupabase é€£ç·šå¤±æ•—ã€ï¼ˆåš‡åˆ°ä½¿ç”¨è€…ï¼‰
- âœ… éœé»˜åˆ‡æ›åˆ°æœ¬åœ°æ¨¡å¼
- âœ… åªé¡¯ç¤ºæˆåŠŸè¨Šæ¯
- âŒ åªæœ‰ç•¶ Supabase å’Œ IndexedDB éƒ½å¤±æ•—æ‰é¡¯ç¤ºéŒ¯èª¤

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### é–‹ç™¼æµç¨‹

```bash
# 1. æœ¬åœ°é–‹ç™¼
npm run dev             # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆport 3000ï¼‰

# 2. ç¨‹å¼ç¢¼æª¢æŸ¥
npm run lint            # ESLint æª¢æŸ¥
npm run format:check    # Prettier æ ¼å¼æª¢æŸ¥
npm run type-check      # TypeScript å‹åˆ¥æª¢æŸ¥

# 3. æäº¤ç¨‹å¼ç¢¼
git add .
git commit -m "feat: æ–°å¢åŠŸèƒ½"
git push origin main
```

### CI/CD æµç¨‹

```
GitHub Push
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GitHub Actions CI/CD          â”‚
â”‚                                 â”‚
â”‚  1. Code Quality Check          â”‚
â”‚     - ESLint                    â”‚
â”‚     - Prettier                  â”‚
â”‚                                 â”‚
â”‚  2. Run Tests                   â”‚
â”‚     - Unit Tests (TODO)         â”‚
â”‚     - E2E Tests (TODO)          â”‚
â”‚                                 â”‚
â”‚  3. Build Application           â”‚
â”‚     - next build                â”‚
â”‚     - Check bundle size         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         (å¦‚æœå…¨éƒ¨é€šé)
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel è‡ªå‹•éƒ¨ç½²                â”‚
â”‚   - å»ºç½®å°ˆæ¡ˆ                     â”‚
â”‚   - éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ                â”‚
â”‚   - ç”¢ç”Ÿé è¦½ URL                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç’°å¢ƒè®Šæ•¸

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...
NEXT_PUBLIC_ENABLE_SUPABASE=true  # å•Ÿç”¨ Supabase åŒæ­¥

# æ‡‰ç”¨ç¨‹å¼
NEXT_PUBLIC_APP_URL=https://venturo.vercel.app
```

---

## ğŸ“š é—œéµæ–‡ä»¶å°èˆª

### å¿…è®€æ–‡ä»¶ï¼ˆæŒ‰é †åºï¼‰

1. **PROJECT_PRINCIPLES.md** - è¨­è¨ˆç†å¿µèˆ‡æ±ºç­–
   - ç‚ºä»€éº¼é€™æ¨£è¨­è¨ˆï¼Ÿ
   - æ ¸å¿ƒæ±ºç­–èªªæ˜
   - å¸¸è¦‹èª¤è§£æ¾„æ¸…

2. **VENTURO_5.0_MANUAL.md** - æŠ€è¡“å¯¦ä½œç´°ç¯€
   - ç³»çµ±æ¶æ§‹è¦ç¯„
   - API èˆ‡è³‡æ–™æµ
   - é–‹ç™¼æª¢æŸ¥æ¸…å–®

3. **CLAUDE.md** - AI åŠ©æ‰‹å·¥ä½œè¦ç¯„
   - è¡Œç‚ºæ§åˆ¶è¦ç¯„
   - å¿«é€Ÿåƒè€ƒè³‡è¨Š

### é–‹ç™¼åƒè€ƒ

- **DATABASE.md** - è³‡æ–™åº«çµæ§‹èˆ‡ Migration
- **DESIGN_SYSTEM.md** - UI è¨­è¨ˆç³»çµ±è¦ç¯„
- **README.md** - å¿«é€Ÿé–‹å§‹æŒ‡å—

---

## ğŸ’¡ çµ¦åœ˜éšŠæˆå“¡çš„æç¤º

### æ–°æ‰‹ä¸Šæ‰‹æµç¨‹

1. **é–±è®€æ–‡ä»¶**
   - å…ˆè®€ `PROJECT_PRINCIPLES.md` ç†è§£è¨­è¨ˆç†å¿µ
   - å†è®€ `VENTURO_5.0_MANUAL.md` å­¸ç¿’æŠ€è¡“ç´°ç¯€
   - åƒè€ƒ `README.md` å¿«é€Ÿé–‹å§‹

2. **ç’°å¢ƒè¨­å®š**

   ```bash
   npm install
   npm run dev
   ```

3. **ç†Ÿæ‚‰æ¶æ§‹**
   - ç€è¦½ `src/stores/index.ts` äº†è§£è³‡æ–™æ¨¡å‹
   - æŸ¥çœ‹ `src/app/tours/page.tsx` å…¸å‹é é¢å¯¦ä½œ
   - ç ”ç©¶ `src/stores/core/create-store-new.ts` Store å·¥å» 

4. **é–‹å§‹é–‹ç™¼**
   - éµå¾ª Store å·¥å» æ¨¡å¼
   - ä½¿ç”¨çµ±ä¸€çš„å‘½åè¦ç¯„ï¼ˆsnake_caseï¼‰
   - éµå¾ª UI é–‹ç™¼è¦ç¯„ï¼ˆh-full flex flex-colï¼‰

### å¸¸è¦‹ä»»å‹™æŒ‡å¼•

#### æ–°å¢åŠŸèƒ½æ¨¡çµ„

```bash
# 1. å®šç¾©è³‡æ–™å‹åˆ¥
src/types/supplier.types.ts

# 2. å»ºç«‹ Storeï¼ˆä½¿ç”¨å·¥å» ï¼‰
src/stores/index.ts â†’ useSu supplierStore = createStore<Supplier>('suppliers', 'S');

# 3. å»ºç«‹é é¢
src/app/suppliers/page.tsx

# 4. æ›´æ–°å´é‚Šæ¬„
src/components/layout/sidebar.tsx
```

#### ä¿®æ”¹ç¾æœ‰åŠŸèƒ½

```bash
# 1. æ‰¾åˆ°å°æ‡‰çš„ Store
src/stores/index.ts

# 2. æ‰¾åˆ°å°æ‡‰çš„é é¢
src/app/[åŠŸèƒ½]/page.tsx

# 3. ç¢ºèªè³‡æ–™å‹åˆ¥
src/types/[åŠŸèƒ½].types.ts

# 4. ä¿®æ”¹ä¸¦æ¸¬è©¦
npm run dev
```

---

## âš ï¸ é‡è¦æé†’

### çµ¦é–‹ç™¼è€…

1. **é€™æ˜¯å°å…¬å¸ç³»çµ±** - ä¸éœ€è¦ä¼æ¥­ç´šè¤‡é›œåº¦
2. **çµ±ä¸€è™•ç†å„ªæ–¼ç²¾ç´°å€åˆ†** - æ‰€æœ‰åŠŸèƒ½é›¢ç·šæ¨¡å¼ä¸€è‡´
3. **å¯¦ç”¨æ€§å„ªæ–¼ç†è«–å®Œç¾** - å…ˆè®“å®ƒå‹•ï¼Œå†å„ªåŒ–
4. **ä¸è¦éåº¦è¨­è¨ˆ** - YAGNI åŸå‰‡ï¼ˆYou Aren't Gonna Need Itï¼‰

### çµ¦ AI åŠ©æ‰‹

1. ä¸è¦å»ºè­°è¤‡é›œçš„æ¬Šé™ç³»çµ±
2. ä¸è¦å»ºè­°å€åˆ†é›¢ç·šæ¬Šé™
3. é¦–é å°±æ˜¯å°å·¥å…·é é¢ï¼Œä¸æ˜¯å„€è¡¨æ¿
4. éµå¾ªæ—¢æœ‰çš„ Store å·¥å» æ¨¡å¼
5. ä¿æŒå‘½åè¦ç¯„ä¸€è‡´ï¼ˆsnake_caseï¼‰

---

## ğŸ“ æ”¯æ´èˆ‡å›é¥‹

- **ç¶­è­·è€…**ï¼šWilliam Chien
- **å°ˆæ¡ˆä½ç½®**ï¼š`/Users/williamchien/Projects/venturo-new`
- **ç·šä¸Šç‰ˆæœ¬**ï¼šhttps://venturo.vercel.app

---

**è¨˜ä½æ ¸å¿ƒç†å¿µï¼šSimple is Betterï¼** ğŸ¯
