# VENTURO 6.0 ç³»çµ±ç‹€æ…‹æ–‡æª”

æœ€å¾Œæ›´æ–°ï¼š2026-01-22

> **æ¶æ§‹æ›´æ–° (2026-01)**ï¼šç³»çµ±å·²å¾ã€Œé›¢ç·šå„ªå…ˆã€å‡ç´šç‚ºã€Œç´”é›²ç«¯ã€æ¶æ§‹ã€‚

## è³‡æ–™åº«æ¶æ§‹

- **ä½¿ç”¨ä¸­**ï¼šSupabase PostgreSQLï¼ˆå”¯ä¸€è³‡æ–™ä¾†æºï¼‰
- **é€£ç·šç‹€æ…‹**ï¼šâœ… å·²é€£æ¥
- **è¡¨æ•¸é‡**ï¼š50+ å€‹
- **æ¶æ§‹æ¨¡å¼**ï¼šç´”é›²ç«¯æ¶æ§‹ï¼ˆSupabase ç‚º Single Source of Truthï¼‰
- **è³‡æ–™éš”é›¢**ï¼šRLS (Row Level Security) + Workspace éš”é›¢

## ç™»å…¥ç³»çµ±

### èªè­‰æ–¹å¼

- **ä¸»è¦èªè­‰**ï¼šSupabase Auth
- **è¼”åŠ©æ©Ÿåˆ¶**ï¼šJWT Tokenï¼ˆCookie å„²å­˜ï¼‰

### é è¨­å¸³è™Ÿ

- **ç®¡ç†å“¡**ï¼šwilliam01 / Venturo2025!

> ğŸ’¡ å…¶ä»–å¸³è™Ÿè«‹å¾äººè³‡ç®¡ç†ä»‹é¢æ–°å¢

### ç™»å…¥é©—è­‰æµç¨‹

1. ç”¨æˆ¶è¼¸å…¥ Workspace Code + å“¡å·¥ç·¨è™Ÿ + å¯†ç¢¼
2. ä½¿ç”¨ Supabase Auth `signInWithPassword` é©—è­‰
3. å¾ API å–å¾—å“¡å·¥è³‡æ–™ï¼ˆç¹é RLSï¼‰
4. ç¢ºä¿ Auth åŒæ­¥ï¼ˆ`ensureAuthSync`ï¼‰
5. å»ºç«‹ JWT Token ä¸¦è¨­å®š Cookie
6. æ›´æ–° Zustand Store ç‹€æ…‹

## Store æ¶æ§‹

### ç•¶å‰æ¶æ§‹ï¼ˆç´”é›²ç«¯ï¼‰

- ä½¿ç”¨ `createCloudStore` å·¥å» å‡½æ•¸
- è³‡æ–™æµï¼šSupabase â†’ Zustand Store â†’ UI
- å¿«å–å±¤ï¼šSWRï¼ˆReact Query é¢¨æ ¼å¿«å–ï¼‰
- å¯«å…¥ç­–ç•¥ï¼šç›´æ¥å¯«å…¥ Supabase

### ä¸»è¦ Store

| Store | èªªæ˜ | ä½¿ç”¨æ–¹å¼ |
|-------|------|----------|
| `useTourStore` | æ—…éŠåœ˜ç®¡ç† | `createCloudStore` |
| `useOrderStore` | è¨‚å–®ç®¡ç† | `createCloudStore` |
| `useCustomerStore` | å®¢æˆ¶ç®¡ç† | `createCloudStore` |
| `usePaymentStore` | ä»˜æ¬¾ç®¡ç† | `createCloudStore` |
| `useQuoteStore` | å ±åƒ¹ç®¡ç† | `createCloudStore` |
| `useMemberStore` | æˆå“¡ç®¡ç† | `createCloudStore` |
| `useEmployeeStore` | å“¡å·¥ç®¡ç† | `createCloudStore` |

### è¼”åŠ© Store

| Store | èªªæ˜ |
|-------|------|
| `auth-store.ts` | èªè­‰ç‹€æ…‹ |
| `workspace-store.ts` | å·¥ä½œç©ºé–“ |
| `calendar-store.ts` | è¡Œäº‹æ›† |
| `todo-store.ts` | å¾…è¾¦äº‹é … |

## è³‡æ–™çµæ§‹æ¨™æº–

- **æ¬„ä½å‘½å**ï¼š`snake_case`ï¼ˆå‰å¾Œç«¯ä¸€è‡´ï¼‰
- **ID æ ¼å¼**ï¼šUUID
- **ç·¨è™Ÿæ ¼å¼**ï¼šè©³è¦‹ä¸‹æ–¹ç·¨è™Ÿè¦ç¯„
- **æ™‚é–“æˆ³**ï¼šISO 8601 æ ¼å¼ï¼ˆ`created_at`, `updated_at`ï¼‰

### ç·¨è™Ÿè¦ç¯„

| é …ç›® | æ ¼å¼ | ç¯„ä¾‹ | èªªæ˜ |
|------|------|------|------|
| **åœ˜è™Ÿ** | `{åŸå¸‚ä»£ç¢¼}{YYMMDD}{A-Z}` | `CNX250128A` | æ¸…é‚ 2025/01/28 ç¬¬1åœ˜ |
| **è¨‚å–®** | `{åœ˜è™Ÿ}-O{2ä½æ•¸}` | `CNX250128A-O01` | è©²åœ˜ç¬¬1ç­†è¨‚å–® |
| **å‡ºç´å–®** | `P{YYMMDD}{A-Z}` | `P250128A` | 2025/01/28 ç¬¬1å¼µå‡ºç´å–® |
| **å®¢æˆ¶** | `C{6ä½æ•¸}` | `C000001` | å…¨åŸŸæµæ°´è™Ÿ |
| **å ±åƒ¹å–®** | `Q{6ä½æ•¸}` / `X{6ä½æ•¸}` | `Q000001` | æ¨™æº–å ±åƒ¹ Q / å¿«é€Ÿå ±åƒ¹ X |
| **å“¡å·¥** | `E{3ä½æ•¸}` | `E001` | å“¡å·¥ç·¨è™Ÿ |

## è³‡æ–™è¡¨çµæ§‹

### æ ¸å¿ƒæ¥­å‹™è¡¨

| è¡¨æ ¼ | èªªæ˜ | RLS |
|------|------|-----|
| `tours` | æ—…éŠåœ˜ | âœ… |
| `orders` | è¨‚å–® | âœ… |
| `order_members` | è¨‚å–®æˆå“¡ | âœ… |
| `customers` | å®¢æˆ¶ | âœ… |
| `payments` | ä»˜æ¬¾è¨˜éŒ„ | âœ… |
| `receipts` | æ”¶æ¬¾å–® | âœ… |
| `quotes` | å ±åƒ¹å–® | âœ… |
| `proposals` | ææ¡ˆ | âœ… |
| `itineraries` | è¡Œç¨‹è¡¨ | âœ… |
| `visas` | ç°½è­‰è³‡æ–™ | âœ… |

### åŸºç¤è³‡æ–™è¡¨ï¼ˆç„¡ RLSï¼‰

| è¡¨æ ¼ | èªªæ˜ |
|------|------|
| `workspaces` | å·¥ä½œç©ºé–“ |
| `employees` | å“¡å·¥ |
| `countries` | åœ‹å®¶ |
| `cities` | åŸå¸‚ |
| `attractions` | æ™¯é» |
| `suppliers` | ä¾›æ‡‰å•† |
| `hotels` | é£¯åº— |
| `airlines` | èˆªç©ºå…¬å¸ |

## é–‹ç™¼å·¥å…·

### /dev é é¢

- **è·¯å¾‘**ï¼šhttp://localhost:3000/dev
- **åŠŸèƒ½**ï¼š
  - é¡¯ç¤ºé è¨­å¸³è™Ÿè³‡è¨Š
  - é–‹ç™¼é™¤éŒ¯å·¥å…·

## æŠ€è¡“æ£§

| é¡åˆ¥ | æŠ€è¡“ | ç‰ˆæœ¬ |
|------|------|------|
| **å‰ç«¯æ¡†æ¶** | Next.js | 16 |
| **UI æ¡†æ¶** | React | 19.2 |
| **èªè¨€** | TypeScript | 5 |
| **ç‹€æ…‹ç®¡ç†** | Zustand | 5 |
| **è³‡æ–™å¿«å–** | SWR | 2.x |
| **é›²ç«¯è³‡æ–™åº«** | Supabase PostgreSQL | - |
| **èªè­‰** | Supabase Auth | - |
| **UI çµ„ä»¶** | Tailwind CSS + shadcn/ui | 4 |
| **é–‹ç™¼ç«¯å£** | - | 3000 |

## é–‹ç™¼é€²åº¦ï¼ˆ2026-01 æ›´æ–°ï¼‰

### å·²å®Œæˆ âœ…

- âœ… ç´”é›²ç«¯æ¶æ§‹é·ç§»
- âœ… Supabase Auth æ•´åˆ
- âœ… RLS è³‡æ–™éš”é›¢
- âœ… ç·¨è™Ÿç³»çµ±é‡æ§‹
- âœ… Store ç³»çµ±é‡æ§‹ï¼ˆcreateCloudStoreï¼‰
- âœ… UI çµ„ä»¶æ¨™æº–åŒ–ï¼ˆListPageLayoutã€Table Cellsï¼‰
- âœ… æ ¸å¿ƒ CRUD åŠŸèƒ½

### é€²è¡Œä¸­ â³

- â³ æ•ˆèƒ½å„ªåŒ–
- â³ E2E æ¸¬è©¦è£œå……
- â³ æ–‡æª”æ•´ç†

## æ³¨æ„äº‹é …

1. **ç´”é›²ç«¯æ¶æ§‹**ï¼šæ‰€æœ‰è³‡æ–™ç›´æ¥å­˜å– Supabaseï¼Œç„¡æœ¬åœ°å¿«å–
2. **é–‹ç™¼ç«¯å£**ï¼šçµ±ä¸€ä½¿ç”¨ 3000
3. **é€£ç·šéœ€æ±‚**ï¼šéœ€è¦ç¶²è·¯é€£ç·šåˆ° Supabase
4. **RLS æ”¿ç­–**ï¼šæ¥­å‹™è³‡æ–™é€é RLS é€²è¡Œ Workspace éš”é›¢
5. **Logger ä½¿ç”¨**ï¼šç¦æ­¢ä½¿ç”¨ `console.log`ï¼Œæ”¹ç”¨ `logger`
