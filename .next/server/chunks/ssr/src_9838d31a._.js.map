{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/layout/responsive-header.tsx"],"sourcesContent":["'use client';\n\nimport { useState, memo } from 'react';\nimport { useAuthStore } from '@/stores/auth-store';\nimport { cn } from '@/lib/utils';\n\ninterface ResponsiveHeaderProps {\n  title: string;\n  breadcrumb?: { label: string; href: string }[];\n  tabs?: {\n    value: string;\n    label: string;\n    icon?: any;\n  }[];\n  activeTab?: string;\n  onTabChange?: (value: string) => void;\n  onAdd?: () => void;\n  addLabel?: string;\n  children?: React.ReactNode;\n  actions?: React.ReactNode;\n  showBackButton?: boolean;\n  onBack?: () => void;\n  // ÊêúÂ∞ãÂäüËÉΩ\n  showSearch?: boolean;\n  searchTerm?: string;\n  onSearchChange?: (term: string) => void;\n  searchPlaceholder?: string;\n}\n\nexport const ResponsiveHeader = memo(function ResponsiveHeader(props: ResponsiveHeaderProps) {\n  const { sidebarCollapsed } = useAuthStore();\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n\n  return (\n    <div className={cn(\n      'fixed top-0 right-0 h-[72px] bg-background z-40 flex items-center justify-between px-6',\n      'left-16'\n    )}>\n      {/* ÂàÜÂâ≤Á∑ö */}\n      <div className=\"absolute bottom-0 left-0 right-0\" style={{ marginLeft: '24px', marginRight: '24px', borderTop: '1px solid var(--border)', height: '1px' }}></div>\n      {/* Â∑¶ÂÅ¥ - ËøîÂõûÊåâÈàïÂíå‰∏ªÊ®ôÈ°å */}\n      <div className=\"flex items-center gap-3\">\n        {props.showBackButton && (\n          <button\n            onClick={props.onBack}\n            className=\"text-morandi-secondary hover:text-morandi-primary transition-colors\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n        )}\n        <h1 className=\"text-base font-bold text-morandi-primary\">{props.title}</h1>\n      </div>\n\n      {/* Âè≥ÂÅ¥ÂçÄÂüü - ÂäüËÉΩ„ÄÅÊ®ôÁ±§È†ÅÂíåÊìç‰ΩúÊåâÈàï - Áµ±‰∏ÄÁÑ°Á©∫ÁôΩË®≠Ë®à */}\n      <div className=\"flex items-center\">\n        {/* ÊêúÂ∞ãÂäüËÉΩ - ÊúÄÂ∑¶ÈÇä */}\n        {props.showSearch && (\n          <div className=\"flex items-center mr-4\">\n            {!isSearchOpen ? (\n              <button\n                onClick={() => setIsSearchOpen(true)}\n                className=\"p-2 text-morandi-secondary hover:text-morandi-primary transition-colors\"\n                title=\"ÊêúÂ∞ã\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              </button>\n            ) : (\n              <div className=\"flex items-center gap-2\">\n                <input\n                  type=\"text\"\n                  value={props.searchTerm || ''}\n                  onChange={(e) => props.onSearchChange?.(e.target.value)}\n                  placeholder={props.searchPlaceholder || 'ÊêúÂ∞ã...'}\n                  className=\"w-48 px-3 py-1 text-sm border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-morandi-primary\"\n                  autoFocus\n                  onBlur={() => {\n                    if (!props.searchTerm) {\n                      setIsSearchOpen(false);\n                    }\n                  }}\n                />\n                <button\n                  onClick={() => {\n                    props.onSearchChange?.('');\n                    setIsSearchOpen(false);\n                  }}\n                  className=\"p-1 text-morandi-secondary hover:text-morandi-primary transition-colors\"\n                  title=\"Ê∏ÖÈô§ÊêúÂ∞ã\"\n                >\n                  <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* ÂäüËÉΩÂçÄÂüü */}\n        {props.children && (\n          <div className=\"flex items-center mr-6\">\n            {props.children}\n          </div>\n        )}\n\n        {/* Ëá™ÂÆöÁæ©Êìç‰ΩúÂçÄÂüü */}\n        {props.actions && (\n          <div className=\"mr-3\">\n            {props.actions}\n          </div>\n        )}\n\n        {/* Ê®ôÁ±§È†ÅÂíåÊìç‰ΩúÊåâÈàïÁ∑äÂØÜÊéíÂàó */}\n        <div className=\"flex items-center\">\n          {/* Ê®ôÁ±§È†Å */}\n          {props.tabs && props.tabs.length > 0 && (\n            <div className=\"flex items-center space-x-1\">\n              {props.tabs.map((tab) => (\n                <button\n                  key={tab.value}\n                  onClick={() => props.onTabChange?.(tab.value)}\n                  className={cn(\n                    'relative px-3 py-2 text-sm font-medium transition-colors',\n                    'text-morandi-secondary hover:text-morandi-primary',\n                    props.activeTab === tab.value\n                      ? 'text-morandi-primary after:absolute after:bottom-0 after:left-0 after:right-0 after:h-0.5 after:bg-morandi-gold'\n                      : ''\n                  )}\n                >\n                  {tab.label}\n                </button>\n              ))}\n            </div>\n          )}\n\n          {/* Êìç‰ΩúÊåâÈàïÁ∑äÊé•Âú®Ê®ôÁ±§È†ÅÂæåÈù¢ */}\n          {props.onAdd && (\n            <button\n              onClick={props.onAdd}\n              data-create-box\n              className=\"bg-morandi-gold hover:bg-morandi-gold-hover text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center transition-colors ml-3\"\n            >\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n              </svg>\n              {props.addLabel || 'Êñ∞Â¢û'}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n});"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/lib/persistent-store.ts"],"sourcesContent":["// src/lib/persistent-store.ts\n// Áµ±‰∏ÄÁöÑ Store ÊåÅ‰πÖÂåñËàáÈõ¢Á∑öÂêåÊ≠•Â∑•ÂÖ∑\n// ÊîØÊè¥ÔºöÊú¨Âú∞ localStorage + IndexedDB + Supabase Èõ≤Á´ØÂêåÊ≠•\n\nimport { v4 as uuidv4 } from 'uuid';\n\ntype SetState<T> = (partial: T | Partial<T> | ((state: T) => T | Partial<T>)) => void;\ntype GetState<T> = () => T;\n\n// ============= Èõ¢Á∑öÂêåÊ≠•ÂäüËÉΩ =============\nlet offlineStore: any = null;\n\n// ÂãïÊÖãÂ∞éÂÖ•Èõ¢Á∑ö storeÔºàÈÅøÂÖçÂæ™Áí∞‰æùË≥¥Ôºâ\nconst getOfflineStore = async () => {\n  if (typeof window === 'undefined') return null;\n  if (!offlineStore) {\n    try {\n      // ‰ΩøÁî®ÂãïÊÖã import ÈÅøÂÖçÂêåÊ≠•ËºâÂÖ•ÂïèÈ°å\n      const module = await import('@/lib/offline/sync-manager');\n      offlineStore = module.useOfflineStore;\n    } catch (e) {\n      console.warn('Èõ¢Á∑öÂêåÊ≠•Ê®°ÁµÑËºâÂÖ•Â§±ÊïóÔºåÂ∞áÂÉÖ‰ΩøÁî®Êú¨Âú∞ÂÑ≤Â≠ò', e);\n    }\n  }\n  return offlineStore;\n};\n\n// Âä†ÂÖ•ÂæÖÂêåÊ≠•ÈöäÂàóÔºà‰∏çÁ´ãÂç≥ÂêåÊ≠•ÔºåÁ≠âÂæÖÂÆöÊúüÂêåÊ≠•Ôºâ\nconst addPendingChange = async (operation: {\n  type: 'CREATE' | 'UPDATE' | 'DELETE';\n  table: string;\n  data: any;\n  localId?: string;\n}) => {\n  // üì¶ Êö´ÊôÇÂÅúÁî®‰ª•‰øÆÂæ©Á∑®Ë≠ØÂïèÈ°å\n  console.log('üì¶ Êú¨Âú∞Ê®°ÂºèÔºöË∑≥ÈÅéÂêåÊ≠•ÈöäÂàó');\n  return;\n\n  if (typeof window === 'undefined') return;\n\n  const OfflineStore = await getOfflineStore();\n  if (!OfflineStore) return;\n\n  try {\n    const store = OfflineStore.getState();\n\n    // Ê™¢Êü•ÊòØÂê¶Â∑≤Â≠òÂú®Áõ∏ÂêåÁöÑÊìç‰ΩúÔºàÈÅøÂÖçÈáçË§áÔºâ\n    const existingOp = store.pendingChanges.find((op: any) =>\n      op.table === operation.table &&\n      (op.data?.id === operation.data?.id || op.localId === operation.localId)\n    );\n\n    if (existingOp) {\n      console.log(`Ë∑≥ÈÅéÈáçË§áÊìç‰Ωú: ${operation.table} ${operation.data?.id || operation.localId}`);\n      return;\n    }\n\n    store.addPendingChange({\n      id: uuidv4(),\n      ...operation,\n      timestamp: Date.now(),\n      retryCount: 0,\n      userId: 'current-user' // TODO: Âæû auth store ÂèñÂæó\n    });\n  } catch (error) {\n    console.warn('Âä†ÂÖ•ÂêåÊ≠•ÈöäÂàóÂ§±Êïó:', error);\n  }\n};\n\n// Ê™¢Êü•ÊòØÂê¶Âú®Á∑ö\nconst isOnline = (): boolean => {\n  if (typeof window === 'undefined') return true;\n  return navigator.onLine;\n};\n\n// ============= CRUD ÊñπÊ≥ïÁîüÊàêÂô®ÔºàÊîØÊè¥Èõ¢Á∑öÔºâ =============\n\n/**\n * Âª∫Á´ãÂÖ∑ÊúâÈõ¢Á∑öÂêåÊ≠•ÂäüËÉΩÁöÑ CRUD ÊñπÊ≥ï\n *\n * @param tableName - Supabase Ë°®Ê†ºÂêçÁ®±\n * @param arrayKey - Store ‰∏≠Èô£ÂàóÁöÑ key ÂêçÁ®±ÔºàÂ¶Ç 'todos', 'tours'Ôºâ\n * @returns CRUD ÊñπÊ≥ïÁâ©‰ª∂\n *\n * @example\n * const todoMethods = createPersistentCrudMethods<Todo>('todos', 'todos');\n * // ÊúÉÁî¢Áîü: addTodo, updateTodo, deleteTodo, loadTodos\n */\nexport const createPersistentCrudMethods = <T extends { id?: string }>(\n  tableName: string,\n  arrayKey: string,\n  set: SetState<any>,\n  get: GetState<any>\n) => {\n  const capitalizedName = arrayKey.charAt(0).toUpperCase() + arrayKey.slice(1, -1);\n\n  return {\n    // ===== Êñ∞Â¢û =====\n    [`add${capitalizedName}`]: async (data: Omit<T, 'id' | 'createdAt' | 'updatedAt'>) => {\n      try {\n        const id = uuidv4();\n        const now = new Date().toISOString();\n\n        let newItem = {\n          ...data,\n          id,\n          createdAt: now,\n          updatedAt: now\n        } as T;\n\n        // Ëá™ÂãïÁîüÊàêÁ∑®ËôüÔºàÂ¶ÇÊûúÊòØ quotes Ë°®Ê†º‰∏îÊ≤íÊúâ quoteNumberÔºâ\n        if (tableName === 'quotes' && !(data as any).quoteNumber) {\n          const year = new Date().getFullYear();\n          const state = get();\n          const existingQuotes = state[arrayKey] || [];\n          const lastNumber = existingQuotes\n            .map((q: any) => q.quoteNumber)\n            .filter((num: string) => num?.startsWith(`QUOTE-${year}`))\n            .map((num: string) => parseInt(num.split('-')[2] || '0'))\n            .sort((a: number, b: number) => b - a)[0] || 0;\n\n          const newNumber = (lastNumber + 1).toString().padStart(4, '0');\n          (newItem as any).quoteNumber = `QUOTE-${year}-${newNumber}`;\n        }\n\n        // 1. Á´ãÂç≥Êõ¥Êñ∞Êú¨Âú∞ store\n        const state = get();\n        set({\n          [arrayKey]: [...state[arrayKey], newItem]\n        });\n\n        // 2. Â≠òÂà∞ IndexedDB\n        const { getSyncManager } = await import('@/lib/offline/sync-manager');\n        const syncManager = getSyncManager();\n        const localDb = syncManager.getLocalDb();\n        if (localDb) {\n          await localDb.put(tableName, newItem);\n        }\n\n        // 3. Á´ãÂç≥ÂêåÊ≠•Âà∞ SupabaseÔºàÂ¶ÇÊûúÂú®Á∑öÔºâ\n        // ‚ö†Ô∏è Êö´ÊôÇÂÅúÁî® Supabase ÂêåÊ≠• - Á≠âÁ∂≤Á´ôÁ©©ÂÆöÂæåÂÜçÂïüÁî®\n        /*\n        if (isOnline()) {\n          try {\n            const { VenturoAPI } = await import('@/lib/supabase/api');\n            await VenturoAPI.create(tableName, newItem);\n            console.log(`‚úÖ ÊàêÂäüÂêåÊ≠•Êñ∞Â¢û ${tableName}:`, id);\n          } catch (syncError) {\n            console.error(`‚ùå ÂêåÊ≠•Êñ∞Â¢ûÂ§±Êïó ${tableName}:`, syncError);\n            // ÂêåÊ≠•Â§±ÊïóÊôÇÂä†ÂÖ•ÈöäÂàó\n            addPendingChange({\n              type: 'CREATE',\n              table: tableName,\n              data: newItem,\n              localId: id\n            });\n          }\n        }\n        */\n        console.log(`üì¶ Êú¨Âú∞Ê®°ÂºèÔºöÊñ∞Â¢û ${tableName}:`, id);\n\n        return newItem;\n      } catch (error) {\n        console.error(`‚ùå Êñ∞Â¢û ${tableName} Â§±Êïó:`, error);\n        throw new Error(`ÁÑ°Ê≥ïÊñ∞Â¢û${tableName}: ${error instanceof Error ? error.message : 'Êú™Áü•ÈåØË™§'}`);\n      }\n    },\n\n    // ===== Êõ¥Êñ∞ =====\n    [`update${capitalizedName}`]: async (id: string, data: Partial<T>) => {\n      try {\n        const now = new Date().toISOString();\n        const updateData = { ...data, updatedAt: now };\n\n        // 1. Á´ãÂç≥Êõ¥Êñ∞Êú¨Âú∞ store\n        const state = get();\n        const updatedArray = state[arrayKey].map((item: T) =>\n          item.id === id ? { ...item, ...updateData } : item\n        );\n\n        set({ [arrayKey]: updatedArray });\n\n        const updatedItem = updatedArray.find((item: T) => item.id === id);\n\n        // 2. Â≠òÂà∞ IndexedDB\n        if (updatedItem) {\n          const { getSyncManager } = await import('@/lib/offline/sync-manager');\n          const syncManager = getSyncManager();\n          const localDb = syncManager.getLocalDb();\n          if (localDb) {\n            await localDb.put(tableName, updatedItem);\n          }\n        }\n\n        // 3. Á´ãÂç≥ÂêåÊ≠•Âà∞ SupabaseÔºàÂ¶ÇÊûúÂú®Á∑öÔºâ\n        // ‚ö†Ô∏è Êö´ÊôÇÂÅúÁî® Supabase ÂêåÊ≠• - Á≠âÁ∂≤Á´ôÁ©©ÂÆöÂæåÂÜçÂïüÁî®\n        /*\n        if (isOnline()) {\n          try {\n            const { VenturoAPI } = await import('@/lib/supabase/api');\n            await VenturoAPI.update(tableName, id, updateData);\n            console.log(`‚úÖ ÊàêÂäüÂêåÊ≠•Êõ¥Êñ∞ ${tableName}:`, id);\n          } catch (syncError) {\n            console.error(`‚ùå ÂêåÊ≠•Êõ¥Êñ∞Â§±Êïó ${tableName}:`, syncError);\n            // ÂêåÊ≠•Â§±ÊïóÊôÇÂä†ÂÖ•ÈöäÂàó\n            addPendingChange({\n              type: 'UPDATE',\n              table: tableName,\n              data: { id, ...updateData }\n            });\n          }\n        }\n        */\n        console.log(`üì¶ Êú¨Âú∞Ê®°ÂºèÔºöÊõ¥Êñ∞ ${tableName}:`, id);\n\n        return updatedItem;\n      } catch (error) {\n        console.error(`‚ùå Êõ¥Êñ∞ ${tableName} Â§±Êïó:`, error);\n        throw new Error(`ÁÑ°Ê≥ïÊõ¥Êñ∞${tableName}: ${error instanceof Error ? error.message : 'Êú™Áü•ÈåØË™§'}`);\n      }\n    },\n\n    // ===== Âà™Èô§ =====\n    [`delete${capitalizedName}`]: async (id: string) => {\n      try {\n        // 1. Á´ãÂç≥Êõ¥Êñ∞Êú¨Âú∞ store\n        const state = get();\n        set({\n          [arrayKey]: state[arrayKey].filter((item: T) => item.id !== id)\n        });\n\n        // 2. Âæû IndexedDB Âà™Èô§\n        const { getSyncManager } = await import('@/lib/offline/sync-manager');\n        const syncManager = getSyncManager();\n        const localDb = syncManager.getLocalDb();\n        if (localDb) {\n          await localDb.delete(tableName, id);\n        }\n\n        // 3. Á´ãÂç≥ÂêåÊ≠•Âà∞ SupabaseÔºàÂ¶ÇÊûúÂú®Á∑öÔºâ\n        // ‚ö†Ô∏è Êö´ÊôÇÂÅúÁî® Supabase ÂêåÊ≠• - Á≠âÁ∂≤Á´ôÁ©©ÂÆöÂæåÂÜçÂïüÁî®\n        /*\n        if (isOnline()) {\n          try {\n            const { VenturoAPI } = await import('@/lib/supabase/api');\n            await VenturoAPI.delete(tableName, id);\n            console.log(`‚úÖ ÊàêÂäüÂêåÊ≠•Âà™Èô§ ${tableName}:`, id);\n          } catch (syncError) {\n            console.error(`‚ùå ÂêåÊ≠•Âà™Èô§Â§±Êïó ${tableName}:`, syncError);\n            // ÂêåÊ≠•Â§±ÊïóÊôÇÂä†ÂÖ•ÈöäÂàó\n            addPendingChange({\n              type: 'DELETE',\n              table: tableName,\n              data: { id }\n            });\n          }\n        }\n        */\n        console.log(`üì¶ Êú¨Âú∞Ê®°ÂºèÔºöÂà™Èô§ ${tableName}:`, id);\n\n        return true;\n      } catch (error) {\n        console.error(`‚ùå Âà™Èô§ ${tableName} Â§±Êïó:`, error);\n        throw new Error(`ÁÑ°Ê≥ïÂà™Èô§${tableName}: ${error instanceof Error ? error.message : 'Êú™Áü•ÈåØË™§'}`);\n      }\n    },\n\n    // ===== ËºâÂÖ•ÔºàÂêà‰ΩµÊú¨Âú∞ÂíåÈõ≤Á´ØË≥áÊñôÔºâ =====\n    [`load${capitalizedName}s`]: async () => {\n      try {\n        const { getSyncManager } = await import('@/lib/offline/sync-manager');\n        const syncManager = getSyncManager();\n        const localDb = syncManager.getLocalDb();\n\n        // 1. ÂÖàÂæû IndexedDB ËºâÂÖ•Êú¨Âú∞Ë≥áÊñô\n        let localData: T[] = [];\n        if (localDb) {\n          const allLocalData = await localDb.getAll(tableName);\n          localData = (allLocalData || []).filter((item: any) => !item.deleted);\n        }\n\n        // 2. Â¶ÇÊûúÂú®Á∑öÔºåÂæû Supabase ËºâÂÖ•Èõ≤Á´ØË≥áÊñô\n        // ‚ö†Ô∏è Êö´ÊôÇÂÅúÁî® Supabase ÂêåÊ≠• - Á≠âÁ∂≤Á´ôÁ©©ÂÆöÂæåÂÜçÂïüÁî®\n        /*\n        if (isOnline()) {\n          try {\n            const { VenturoAPI } = await import('@/lib/supabase/api');\n            const remoteData = await VenturoAPI.read<T>(tableName);\n\n            if (remoteData) {\n              // Âêà‰ΩµÊú¨Âú∞ÂíåÈõ≤Á´ØË≥áÊñôÔºà‰ΩøÁî® Map ÂéªÈáçÔºåÂÑ™ÂÖà‰ΩøÁî®Èõ≤Á´ØË≥áÊñôÔºâ\n              const mergedMap = new Map<string, T>();\n\n              // ÂÖàÂä†ÂÖ•Êú¨Âú∞Ë≥áÊñô\n              localData.forEach(item => {\n                if (item.id) mergedMap.set(item.id, item);\n              });\n\n              // Èõ≤Á´ØË≥áÊñôË¶ÜËìãÊú¨Âú∞ÔºàÈõ≤Á´ØÁÇ∫Ê∫ñÔºâ\n              remoteData.forEach(item => {\n                if (item.id) mergedMap.set(item.id, item);\n              });\n\n              const mergedData = Array.from(mergedMap.values());\n\n              // Êõ¥Êñ∞ Store\n              set({ [arrayKey]: mergedData });\n\n              // Êõ¥Êñ∞ IndexedDBÔºà‰øùÊåÅÊú¨Âú∞ÂíåÈõ≤Á´Ø‰∏ÄËá¥Ôºâ\n              if (localDb) {\n                for (const item of mergedData) {\n                  await localDb.put(tableName, { ...item, sync_status: 'synced' });\n                }\n              }\n\n              console.log(`‚úÖ Âêà‰ΩµËºâÂÖ• ${tableName}: Êú¨Âú∞ ${localData.length} Á≠Ü + Èõ≤Á´Ø ${remoteData.length} Á≠Ü = ${mergedData.length} Á≠Ü`);\n              return mergedData;\n            }\n          } catch (error) {\n            console.warn(`‚ö†Ô∏è ÂæûÈõ≤Á´ØËºâÂÖ• ${tableName} Â§±ÊïóÔºå‰ΩøÁî®Êú¨Âú∞Ë≥áÊñô:`, error);\n            // Â¶ÇÊûúÈõ≤Á´ØËºâÂÖ•Â§±ÊïóÔºå‰ΩøÁî®Êú¨Âú∞Ë≥áÊñô\n            set({ [arrayKey]: localData });\n            return localData;\n          }\n        } else {\n          // Èõ¢Á∑öÊôÇÂè™‰ΩøÁî®Êú¨Âú∞Ë≥áÊñô\n          set({ [arrayKey]: localData });\n          console.log(`üì¶ Èõ¢Á∑öÊ®°ÂºèÔºåÂæûÊú¨Âú∞ËºâÂÖ• ${tableName}:`, localData.length, 'Á≠Ü');\n          return localData;\n        }\n        */\n\n        // Êú¨Âú∞Ê®°ÂºèÔºöÂè™‰ΩøÁî® IndexedDB Ë≥áÊñô\n        set({ [arrayKey]: localData });\n        console.log(`üì¶ Êú¨Âú∞Ê®°ÂºèÔºöËºâÂÖ• ${tableName}:`, localData.length, 'Á≠Ü');\n        return localData;\n      } catch (error) {\n        console.error(`‚ö†Ô∏è ËºâÂÖ• ${tableName} Â§±Êïó:`, error);\n        return null;\n      }\n    }\n  };\n};\n\n// ============= ËºîÂä©ÂáΩÊï∏ =============\n\n/**\n * ÁîüÊàêÂîØ‰∏Ä ID\n * ‰ΩøÁî® UUID v4 Á¢∫‰øùÂÖ®ÂüüÂîØ‰∏ÄÊÄß\n */\nexport const generateId = (): string => {\n  return uuidv4();\n};\n\n/**\n * ÁîüÊàêÊôÇÈñìÊà≥\n */\nexport const generateTimestamp = (): string => {\n  return new Date().toISOString();\n};\n\n/**\n * ÈåØË™§ËôïÁêÜÂåÖË£ùÂô®\n * Áµ±‰∏ÄËôïÁêÜÊâÄÊúâ store Êìç‰ΩúÁöÑÈåØË™§\n */\nexport const withErrorHandling = <T>(\n  operation: () => T,\n  errorMessage: string\n): T => {\n  try {\n    return operation();\n  } catch (error) {\n    console.error(`‚ùå ${errorMessage}:`, error);\n    throw new Error(`${errorMessage}: ${error instanceof Error ? error.message : 'Êú™Áü•ÈåØË™§'}`);\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/stores/timebox-store.ts"],"sourcesContent":["import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\nimport { generateId } from '@/lib/persistent-store'\n\n// Âü∫Á§éÈ°ûÂûãÂÆöÁæ©\nexport interface BaseBox {\n  id: string\n  name: string\n  color: string\n  type: 'workout' | 'reminder' | 'basic'\n  userId: string\n  createdAt: Date\n  updatedAt: Date\n  // ÈáçË®ìÂ∞àÁî®Ê¨Ñ‰Ωç\n  equipment?: string // Âô®Êùê\n  weight?: number    // ÈáçÈáè (kg)\n  reps?: number      // Ê¨°Êï∏\n  sets?: number      // ÁµÑÊï∏\n}\n\n// ÈáçË®ìË≥áÊñô - Á∞°ÂåñÁÇ∫ÂñÆ‰∏ÄÈÅãÂãïÈ†ÖÁõÆ\nexport interface WorkoutData {\n  // ÁµÑÂà•ÂÆåÊàêÁãÄÊÖãËøΩËπ§ (ÈªûÊìäÂç≥ÂÆåÊàê)\n  setsCompleted: boolean[] // ÊØèÁµÑÁöÑÂÆåÊàêÁãÄÊÖã [true, true, false, false] = ÂâçÂÖ©ÁµÑÂÆåÊàê\n  completedSetsTime: Date[] // ÊØèÁµÑÂÆåÊàêÁöÑÊôÇÈñì\n  totalVolume?: number     // Á∏ΩË®ìÁ∑¥Èáè (ÈáçÈáè √ó Ê¨°Êï∏ √ó ÁµÑÊï∏)\n}\n\n// ÊèêÈÜíË≥áÊñô\nexport interface ReminderData {\n  text: string\n  lastUpdated: Date\n}\n\n// ÊéíÁ®ãÁÆ±Â≠êÂØ¶‰æã\nexport interface ScheduledBox {\n  id: string\n  boxId: string\n  weekId: string\n  dayOfWeek: number // 0-6 (ÈÄ±Êó•Âà∞ÈÄ±ÂÖ≠)\n  startTime: string // \"HH:mm\" Ê†ºÂºè\n  duration: number // ÂàÜÈêòÊï∏\n  completed: boolean\n  completedAt?: Date\n  data?: WorkoutData | ReminderData\n  // ÈáçË®ìÁµÑÂà•ÈÄ≤Â∫¶ËøΩËπ§\n  setsProgress?: {\n    completed: number // Â∑≤ÂÆåÊàêÁµÑÊï∏\n    total: number     // Á∏ΩÁµÑÊï∏\n  }\n}\n\n// ÈÄ±Ë®òÈåÑ\nexport interface WeekRecord {\n  id: string\n  userId: string\n  weekStart: Date\n  weekEnd: Date\n  name?: string\n  archived: boolean\n  scheduledBoxes: ScheduledBox[]\n  statistics: {\n    completionRate: number\n    totalWorkoutVolume?: number\n    totalWorkoutSessions?: number\n    completedCount: number\n    totalCount: number\n  }\n  review?: {\n    notes: string\n    createdAt: Date\n  }\n}\n\n// Áµ±Ë®àË≥áÊñô\nexport interface WeekStatistics {\n  completionRate: number\n  totalWorkoutTime: number\n  completedByType: {\n    workout: number\n    reminder: number\n    basic: number\n  }\n  totalWorkoutVolume?: number\n  totalWorkoutSessions?: number\n}\n\n// Ë∂®Âã¢Ë≥áÊñô\nexport interface WorkoutTrend {\n  week: string\n  volume: number\n  sessions: number\n  completionRate: number\n}\n\n// Ëé´Ëò≠Ëø™ÈÖçËâ≤ÈÅ∏È†Ö\nexport const morandiColors = [\n  { name: 'ÊüîÈúßÁ≤â', value: '#E2C4C4', hover: '#D9B3B3' },\n  { name: 'Êô®Èú≤Á∂†', value: '#C4D6C4', hover: '#B3CAB3' },\n  { name: 'Èõ≤Áü≥ÁÅ∞', value: '#D4D4D4', hover: '#C4C4C4' },\n  { name: 'Â•∂Ëå∂Ê£ï', value: '#D6C4B8', hover: '#CAB3A5' },\n  { name: 'Ëñ∞Ë°£Ëçâ', value: '#D0C4D6', hover: '#C3B3CA' },\n  { name: 'Êùè‰ªÅÈªÉ', value: '#E0D6B8', hover: '#D6CAA5' },\n  { name: 'Êµ∑ÈúßËóç', value: '#C4D0D6', hover: '#B3C3CA' },\n  { name: 'ÁèäÁëöÊ©ò', value: '#E0C8B8', hover: '#D6B9A5' },\n  { name: 'Èº†Â∞æËçâ', value: '#B8C8B8', hover: '#A5B9A5' },\n  { name: 'ÊöÆËâ≤Á¥´', value: '#C4B8D0', hover: '#B3A5C3' },\n  { name: 'ÁáïÈ∫•Á±≥', value: '#D6D0C4', hover: '#CAC3B3' },\n  { name: 'Áü≥Â¢®Ëóç', value: '#B8C4D0', hover: '#A5B3C3' },\n  { name: 'Ê•ìËëâÁ¥Ö', value: '#D0B8B8', hover: '#C3A5A5' },\n  { name: 'ËãîËòöÁ∂†', value: '#B8C4B8', hover: '#A5B3A5' },\n  { name: 'Á†ÇÂ≤©Ë§ê', value: '#C8B8B0', hover: '#B9A59C' },\n  { name: 'ÊúàÂÖâÁôΩ', value: '#E8E8E8', hover: '#DEDEDE' },\n]\n\ninterface TimeboxState {\n  // ÁÆ±Â≠êÁÆ°ÁêÜ\n  boxes: BaseBox[]\n  createBox: (box: Omit<BaseBox, 'id' | 'createdAt' | 'updatedAt'>) => void\n  updateBox: (id: string, updates: Partial<BaseBox>) => void\n  deleteBox: (id: string) => void\n\n  // ÈÄ±ÊéíÁ®ã\n  currentWeek: WeekRecord | null\n  scheduledBoxes: ScheduledBox[]\n  addScheduledBox: (box: Omit<ScheduledBox, 'id'>) => void\n  updateScheduledBox: (id: string, updates: Partial<ScheduledBox>) => void\n  removeScheduledBox: (id: string) => void\n  toggleBoxCompletion: (id: string) => void\n\n  // ÈáçË®ìË≥áÊñô\n  updateWorkoutData: (boxId: string, data: WorkoutData) => void\n  toggleSetCompletion: (boxId: string, setIndex: number) => void\n\n  // ÊñáÂ≠óÊèêÁ§∫Ë≥áÊñô\n  updateReminderData: (boxId: string, data: ReminderData) => void\n\n  // ÈÄ±Ë®òÈåÑ\n  weekRecords: WeekRecord[]\n  archiveCurrentWeek: (name: string) => void\n  loadWeekRecord: (id: string) => void\n  copyToNextWeek: (recordId: string) => void\n\n  // Áµ±Ë®à\n  getWeekStatistics: () => WeekStatistics\n  getWorkoutTrends: (weeks: number) => WorkoutTrend[]\n\n  // ÂàùÂßãÂåñ\n  initializeCurrentWeek: (weekStart: Date) => void\n}\n\n// ËºîÂä©ÂáΩÊï∏\nconst getWeekStart = (date: Date) => {\n  const d = new Date(date)\n  const day = d.getDay()\n  const diff = d.getDate() - day + (day === 0 ? -6 : 1) // Ë™øÊï¥ÁÇ∫ÈÄ±‰∏ÄÈñãÂßã\n  return new Date(d.setDate(diff))\n}\n\nconst getWeekEnd = (date: Date) => {\n  const start = getWeekStart(date)\n  const end = new Date(start)\n  end.setDate(start.getDate() + 6)\n  return end\n}\n\nexport const useTimeboxStore = create<TimeboxState>()(\n  persist(\n    (set, get) => ({\n      // ÂàùÂßãÁãÄÊÖã\n      boxes: [],\n      currentWeek: null,\n      scheduledBoxes: [],\n      weekRecords: [],\n\n      // ÁÆ±Â≠êÁÆ°ÁêÜ\n      createBox: (boxData) => {\n        const newBox: BaseBox = {\n          ...boxData,\n          id: generateId(),\n          createdAt: new Date(),\n          updatedAt: new Date(),\n        }\n        set((state) => ({\n          boxes: [...state.boxes, newBox]\n        }))\n      },\n\n      updateBox: (id, updates) => {\n        set((state) => ({\n          boxes: state.boxes.map((box) =>\n            box.id === id ? { ...box, ...updates, updatedAt: new Date() } : box\n          )\n        }))\n      },\n\n      deleteBox: (id) => {\n        set((state) => ({\n          boxes: state.boxes.filter((box) => box.id !== id),\n          scheduledBoxes: state.scheduledBoxes.filter((sb) => sb.boxId !== id)\n        }))\n      },\n\n      // ÈÄ±ÊéíÁ®ã\n      addScheduledBox: (boxData) => {\n        const newScheduledBox: ScheduledBox = {\n          ...boxData,\n          id: generateId(),\n        }\n        set((state) => ({\n          scheduledBoxes: [...state.scheduledBoxes, newScheduledBox]\n        }))\n      },\n\n      updateScheduledBox: (id, updates) => {\n        set((state) => ({\n          scheduledBoxes: state.scheduledBoxes.map((box) =>\n            box.id === id ? { ...box, ...updates } : box\n          )\n        }))\n      },\n\n      removeScheduledBox: (id) => {\n        set((state) => ({\n          scheduledBoxes: state.scheduledBoxes.filter((box) => box.id !== id)\n        }))\n      },\n\n      toggleBoxCompletion: (id) => {\n        set((state) => ({\n          scheduledBoxes: state.scheduledBoxes.map((box) =>\n            box.id === id\n              ? {\n                  ...box,\n                  completed: !box.completed,\n                  completedAt: !box.completed ? new Date() : undefined\n                }\n              : box\n          )\n        }))\n      },\n\n      // ÈáçË®ìË≥áÊñô\n      updateWorkoutData: (boxId, data) => {\n        set((state) => ({\n          scheduledBoxes: state.scheduledBoxes.map((box) =>\n            box.id === boxId ? { ...box, data } : box\n          )\n        }))\n      },\n\n      toggleSetCompletion: (boxId, setIndex) => {\n        set((state) => ({\n          scheduledBoxes: state.scheduledBoxes.map((box) => {\n            if (box.id !== boxId) return box\n\n            const currentData = box.data as WorkoutData\n            if (!currentData) {\n              // ÂàùÂßãÂåñ WorkoutDataÔºåÁç≤ÂèñÁµÑÊï∏Ë≥áË®ä\n              const baseBox = state.boxes.find(b => b.id === box.boxId)\n              const totalSets = baseBox?.sets || 3\n\n              const newData: WorkoutData = {\n                setsCompleted: Array(totalSets).fill(false),\n                completedSetsTime: Array(totalSets).fill(null)\n              }\n              newData.setsCompleted[setIndex] = true\n              newData.completedSetsTime[setIndex] = new Date()\n\n              // Ë®àÁÆóÁ∏ΩË®ìÁ∑¥Èáè\n              if (baseBox?.weight && baseBox?.reps) {\n                newData.totalVolume = baseBox.weight * baseBox.reps * totalSets\n              }\n\n              return { ...box, data: newData }\n            }\n\n            const updatedSetsCompleted = [...currentData.setsCompleted]\n            const updatedCompletedTime = [...currentData.completedSetsTime]\n\n            // ÂàáÊèõË©≤ÁµÑÁöÑÂÆåÊàêÁãÄÊÖã\n            updatedSetsCompleted[setIndex] = !updatedSetsCompleted[setIndex]\n            updatedCompletedTime[setIndex] = updatedSetsCompleted[setIndex] ? new Date() : null\n\n            const updatedData: WorkoutData = {\n              ...currentData,\n              setsCompleted: updatedSetsCompleted,\n              completedSetsTime: updatedCompletedTime\n            }\n\n            return { ...box, data: updatedData }\n          })\n        }))\n      },\n\n      // ÊñáÂ≠óÊèêÁ§∫Ë≥áÊñô\n      updateReminderData: (boxId, data) => {\n        set((state) => ({\n          scheduledBoxes: state.scheduledBoxes.map((box) =>\n            box.id === boxId ? { ...box, data } : box\n          )\n        }))\n      },\n\n      // ÈÄ±Ë®òÈåÑ\n      archiveCurrentWeek: (name) => {\n        const { currentWeek, scheduledBoxes } = get()\n        if (!currentWeek) return\n\n        const completedCount = scheduledBoxes.filter((box) => box.completed).length\n        const totalCount = scheduledBoxes.length\n        const completionRate = totalCount > 0 ? completedCount / totalCount : 0\n\n        const workoutBoxes = scheduledBoxes.filter((box) => {\n          const baseBox = get().boxes.find((b) => b.id === box.boxId)\n          return baseBox?.type === 'workout' && box.completed\n        })\n\n        const totalWorkoutVolume = workoutBoxes.reduce((total, box) => {\n          const baseBox = get().boxes.find((b) => b.id === box.boxId)\n          if (!baseBox) return total\n\n          if (box.data) {\n            const workoutData = box.data as WorkoutData\n            if (workoutData.totalVolume) {\n              return total + workoutData.totalVolume\n            } else if (workoutData.setsCompleted && baseBox.weight && baseBox.reps) {\n              const completedSets = workoutData.setsCompleted.filter(Boolean).length\n              return total + (completedSets * baseBox.weight * baseBox.reps)\n            }\n          } else if (baseBox.weight && baseBox.reps && baseBox.sets) {\n            // Â¶ÇÊûúÊ≤íÊúâË©≥Á¥∞Ë≥áÊñôÔºåÂÅáË®≠ÂÖ®ÈÉ®ÂÆåÊàê\n            return total + (baseBox.weight * baseBox.reps * baseBox.sets)\n          }\n\n          return total\n        }, 0)\n\n        const archivedWeek: WeekRecord = {\n          ...currentWeek,\n          name,\n          archived: true,\n          scheduledBoxes,\n          statistics: {\n            completionRate,\n            totalWorkoutVolume,\n            totalWorkoutSessions: workoutBoxes.length,\n            completedCount,\n            totalCount,\n          }\n        }\n\n        set((state) => ({\n          weekRecords: [...state.weekRecords, archivedWeek]\n        }))\n      },\n\n      loadWeekRecord: (id) => {\n        const { weekRecords } = get()\n        const record = weekRecords.find((r) => r.id === id)\n        if (record) {\n          set({\n            currentWeek: record,\n            scheduledBoxes: record.scheduledBoxes\n          })\n        }\n      },\n\n      copyToNextWeek: (recordId) => {\n        const { weekRecords } = get()\n        const record = weekRecords.find((r) => r.id === recordId)\n        if (!record) return\n\n        const nextWeekStart = new Date(record.weekEnd)\n        nextWeekStart.setDate(nextWeekStart.getDate() + 1)\n\n        get().initializeCurrentWeek(nextWeekStart)\n\n        // Ë§áË£ΩÊéíÁ®ã‰ΩÜÊ∏ÖÈô§ÂÆåÊàêÁãÄÊÖã\n        const copiedBoxes = record.scheduledBoxes.map((box) => ({\n          ...box,\n          id: generateId(),\n          weekId: get().currentWeek!.id,\n          completed: false,\n          completedAt: undefined,\n        }))\n\n        set({\n          scheduledBoxes: copiedBoxes\n        })\n      },\n\n      // Áµ±Ë®à\n      getWeekStatistics: () => {\n        const { scheduledBoxes, boxes } = get()\n        const completedBoxes = scheduledBoxes.filter((box) => box.completed)\n        const totalBoxes = scheduledBoxes.length\n\n        const completedByType = {\n          workout: 0,\n          reminder: 0,\n          basic: 0,\n        }\n\n        let totalWorkoutTime = 0\n        let totalWorkoutVolume = 0\n        let totalWorkoutSessions = 0\n\n        completedBoxes.forEach((box) => {\n          const baseBox = boxes.find((b) => b.id === box.boxId)\n          if (baseBox) {\n            completedByType[baseBox.type]++\n\n            if (baseBox.type === 'workout') {\n              totalWorkoutTime += box.duration\n              totalWorkoutSessions++\n\n              // Ë®àÁÆóÈáçË®ìÈáèÔºöÂæû box.data Êàñ baseBox Áç≤ÂèñË≥áÊñô\n              if (box.data) {\n                const workoutData = box.data as WorkoutData\n                // Â¶ÇÊûúÊúâÂÑ≤Â≠òÁöÑÁ∏ΩÈáèÔºå‰ΩøÁî®ÂÆÉ\n                if (workoutData.totalVolume) {\n                  totalWorkoutVolume += workoutData.totalVolume\n                } else if (workoutData.setsCompleted && baseBox.weight && baseBox.reps) {\n                  // Âê¶ÂâáÊ†πÊìöÂÆåÊàêÁµÑÊï∏Ë®àÁÆó\n                  const completedSets = workoutData.setsCompleted.filter(Boolean).length\n                  totalWorkoutVolume += completedSets * baseBox.weight * baseBox.reps\n                }\n              } else if (baseBox.weight && baseBox.reps && baseBox.sets) {\n                // Â¶ÇÊûúÊ≤íÊúâ workout dataÔºåÂÅáË®≠ÂÖ®ÈÉ®ÂÆåÊàê\n                totalWorkoutVolume += baseBox.weight * baseBox.reps * baseBox.sets\n              }\n            }\n          }\n        })\n\n        return {\n          completionRate: totalBoxes > 0 ? completedBoxes.length / totalBoxes : 0,\n          totalWorkoutTime,\n          completedByType,\n          totalWorkoutVolume,\n          totalWorkoutSessions,\n        }\n      },\n\n      getWorkoutTrends: (weeks) => {\n        const { weekRecords } = get()\n        return weekRecords\n          .slice(-weeks)\n          .map((record) => ({\n            week: `${record.weekStart.getMonth() + 1}/${record.weekStart.getDate()}`,\n            volume: record.statistics.totalWorkoutVolume || 0,\n            sessions: record.statistics.totalWorkoutSessions || 0,\n            completionRate: record.statistics.completionRate,\n          }))\n      },\n\n      // ÂàùÂßãÂåñ\n      initializeCurrentWeek: (weekStart) => {\n        const weekEnd = getWeekEnd(weekStart)\n        const newWeek: WeekRecord = {\n          id: generateId(),\n          userId: 'current-user', // TODO: ÂØ¶ÈöõÁî®Êà∂ID\n          weekStart: getWeekStart(weekStart),\n          weekEnd,\n          archived: false,\n          scheduledBoxes: [],\n          statistics: {\n            completionRate: 0,\n            completedCount: 0,\n            totalCount: 0,\n          },\n        }\n\n        set({\n          currentWeek: newWeek,\n          scheduledBoxes: [],\n        })\n      },\n    }),\n    {\n      name: 'timebox-storage',\n      version: 1,\n    }\n  )\n)"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.memo(React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n))\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,6MAAU,eAAC,mNAAgB,CACxC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1016, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/box-selector.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useTimeboxStore } from '@/stores/timebox-store'\nimport { Button } from '@/components/ui/button'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Dumbbell, MessageSquare, Package } from 'lucide-react'\n\nconst typeIcons = {\n  workout: Dumbbell,\n  reminder: MessageSquare,\n  basic: Package,\n}\n\nconst typeLabels = {\n  workout: 'ÈáçË®ìÁÆ±Â≠ê',\n  reminder: 'ÊñáÂ≠óÊèêÁ§∫ÁÆ±Â≠ê',\n  basic: 'ÊôÆÈÄöÁÆ±Â≠ê',\n}\n\ninterface BoxSelectorProps {\n  onSelect: (boxId: string, duration: number) => void\n  onClose: () => void\n  timeInterval: 30 | 60\n}\n\nexport default function BoxSelector({ onSelect, onClose, timeInterval }: BoxSelectorProps) {\n  const { boxes } = useTimeboxStore()\n  const [selectedBox, setSelectedBox] = useState<string | null>(null)\n  const [duration, setDuration] = useState(timeInterval)\n\n\n  // ÁîüÊàêÊåÅÁ∫åÊôÇÈñìÈÅ∏È†ÖÔºà30ÂàÜÈêòÁöÑÂÄçÊï∏Ôºâ\n  const durationOptions = []\n  for (let i = timeInterval; i <= 480; i += timeInterval) { // ÊúÄÂ§ö8Â∞èÊôÇ\n    durationOptions.push(i)\n  }\n\n  const formatDuration = (minutes: number) => {\n    if (minutes >= 60) {\n      const hours = Math.floor(minutes / 60)\n      const mins = minutes % 60\n      return mins > 0 ? `${hours}Â∞èÊôÇ ${mins}ÂàÜÈêò` : `${hours}Â∞èÊôÇ`\n    }\n    return `${minutes}ÂàÜÈêò`\n  }\n\n  const handleConfirm = () => {\n    if (selectedBox) {\n      onSelect(selectedBox, duration)\n    }\n  }\n\n  return (\n    <Dialog open={true} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>ÈÅ∏ÊìáÁÆ±Â≠ê</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* ÁÆ±Â≠êÈÅ∏Êìá */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              ÈÅ∏ÊìáÁÆ±Â≠ê\n            </label>\n            {boxes.length === 0 ? (\n              <div className=\"text-center text-gray-500 py-4\">\n                <div className=\"mb-3\">ÈÇÑÊ≤íÊúâÂª∫Á´ã‰ªª‰ΩïÁÆ±Â≠ê</div>\n                <Button\n                  onClick={() => {\n                    onClose()\n                    // Ëß∏ÁôºÂª∫Á´ãÁÆ±Â≠êÂ∞çË©±Ê°Ü\n                    const createButton = document.querySelector('[data-create-box]') as HTMLButtonElement\n                    if (createButton) {\n                      createButton.click()\n                    }\n                  }}\n                  className=\"bg-morandi-gold hover:bg-morandi-gold-hover text-white\"\n                >\n                  Á´ãÂç≥Âª∫Á´ãÁÆ±Â≠ê\n                </Button>\n              </div>\n            ) : (\n              <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                {boxes.map((box) => {\n                  const Icon = typeIcons[box.type]\n                  return (\n                    <button\n                      key={box.id}\n                      type=\"button\"\n                      onClick={() => setSelectedBox(box.id)}\n                      className={`w-full p-3 rounded-lg border text-left transition-colors ${\n                        selectedBox === box.id\n                          ? 'border-blue-500 bg-blue-50'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                    >\n                      <div className=\"flex items-center space-x-3\">\n                        <div\n                          className=\"w-8 h-8 rounded-md flex items-center justify-center text-white\"\n                          style={{ backgroundColor: box.color }}\n                        >\n                          <Icon className=\"h-4 w-4\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <div className=\"font-medium text-gray-900\">{box.name}</div>\n                          <div className=\"text-sm text-gray-500\">{typeLabels[box.type]}</div>\n                        </div>\n                      </div>\n                    </button>\n                  )\n                })}\n              </div>\n            )}\n          </div>\n\n          {/* ÊåÅÁ∫åÊôÇÈñìÈÅ∏Êìá */}\n          {selectedBox && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                ÊåÅÁ∫åÊôÇÈñì\n              </label>\n              <div className=\"grid grid-cols-3 gap-2\">\n                {durationOptions.slice(0, 12).map((option) => (\n                  <button\n                    key={option}\n                    type=\"button\"\n                    onClick={() => setDuration(option)}\n                    className={`p-2 text-sm rounded border transition-colors ${\n                      duration === option\n                        ? 'border-blue-500 bg-blue-50 text-blue-700'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    {formatDuration(option)}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* ÊåâÈàï */}\n          <div className=\"flex justify-end space-x-2 pt-4\">\n            <Button variant=\"outline\" onClick={onClose}>\n              ÂèñÊ∂à\n            </Button>\n            <Button\n              onClick={handleConfirm}\n              disabled={!selectedBox}\n            >\n              Á¢∫Ë™ç\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1429, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/box-dialogs/workout-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useTimeboxStore, WorkoutData, ScheduledBox } from '@/stores/timebox-store'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Check, Clock, Dumbbell, Trash2 } from 'lucide-react'\n\ninterface WorkoutDialogProps {\n  scheduledBox: ScheduledBox\n  onClose: () => void\n}\n\nexport default function WorkoutDialog({ scheduledBox, onClose }: WorkoutDialogProps) {\n  const { boxes, toggleSetCompletion, toggleBoxCompletion, removeScheduledBox } = useTimeboxStore()\n  const [editingBox, setEditingBox] = useState(false)\n  const [boxData, setBoxData] = useState({\n    name: '',\n    equipment: '',\n    weight: 0,\n    reps: 0,\n    sets: 3\n  })\n\n  const box = boxes.find(b => b.id === scheduledBox.boxId)\n\n  // ËºâÂÖ•ÁèæÊúâË≥áÊñô\n  useEffect(() => {\n    if (box) {\n      setBoxData({\n        name: box.name,\n        equipment: box.equipment || '',\n        weight: box.weight || 0,\n        reps: box.reps || 0,\n        sets: box.sets || 3\n      })\n    }\n  }, [box])\n\n  // Áç≤ÂèñÁµÑÂà•ÂÆåÊàêÁãÄÊÖã\n  const getWorkoutProgress = () => {\n    const workoutData = scheduledBox.data as WorkoutData\n    if (!workoutData || !workoutData.setsCompleted) {\n      // ÂàùÂßãÂåñÁãÄÊÖã\n      return Array(boxData.sets).fill(false).map((_, index) => ({\n        completed: false,\n        completedAt: null,\n        setNumber: index + 1\n      }))\n    }\n\n    return workoutData.setsCompleted.map((completed, index) => ({\n      completed,\n      completedAt: workoutData.completedSetsTime?.[index] || null,\n      setNumber: index + 1\n    }))\n  }\n\n  // ÈªûÊìäÁµÑÂà•ÂÆåÊàê\n  const handleSetComplete = (setIndex: number) => {\n    toggleSetCompletion(scheduledBox.id, setIndex)\n  }\n\n  // Ê®ôË®òÊï¥ÂÄãË®ìÁ∑¥ÂÆåÊàê\n  const handleComplete = () => {\n    if (!scheduledBox.completed) {\n      toggleBoxCompletion(scheduledBox.id)\n    }\n    onClose()\n  }\n\n  // Âà™Èô§ÊéíÁ®ã\n  const handleDelete = () => {\n    const confirmMessage = `Á¢∫ÂÆöË¶ÅÁßªÈô§Ê≠§Ë®ìÁ∑¥ÊéíÁ®ãÂóéÔºü\\n\\nÁÆ±Â≠êÔºö${box?.name}\\nÂãï‰ΩúÔºö${boxData.equipment}\\nÈáçÈáèÔºö${boxData.weight}kg x ${boxData.reps}Ê¨° x ${boxData.sets}ÁµÑ`;\n\n    if (!confirm(confirmMessage)) {\n      return;\n    }\n\n    removeScheduledBox(scheduledBox.id);\n    onClose();\n  }\n\n  // Ë®àÁÆóÁ∏ΩË®ìÁ∑¥Èáè\n  const getTotalVolume = () => {\n    const completedSets = getWorkoutProgress().filter(set => set.completed).length\n    return completedSets * (boxData.weight * boxData.reps)\n  }\n\n  if (!box) return null\n\n  const formatDateTime = (dayOfWeek: number, startTime: string) => {\n    const days = ['ÈÄ±Êó•', 'ÈÄ±‰∏Ä', 'ÈÄ±‰∫å', 'ÈÄ±‰∏â', 'ÈÄ±Âõõ', 'ÈÄ±‰∫î', 'ÈÄ±ÂÖ≠']\n    return `${days[dayOfWeek]} ${startTime}`\n  }\n\n  const workoutProgress = getWorkoutProgress()\n  const completedSets = workoutProgress.filter(set => set.completed).length\n\n  return (\n    <Dialog open={true} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-lg max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2\">\n            <Dumbbell className=\"h-5 w-5\" />\n            <span>{box.name}</span>\n          </DialogTitle>\n          <p className=\"text-sm text-gray-500\">\n            {formatDateTime(scheduledBox.dayOfWeek, scheduledBox.startTime)}\n          </p>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* ÈÅãÂãïË≥áË®ä */}\n          <div className=\"bg-morandi-container/10 rounded-lg p-4\">\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"text-morandi-secondary\">Âô®Êùê:</span>\n                <p className=\"font-medium\">{boxData.equipment || 'Êú™Ë®≠ÂÆö'}</p>\n              </div>\n              <div>\n                <span className=\"text-morandi-secondary\">ÈáçÈáè:</span>\n                <p className=\"font-medium\">{boxData.weight} kg</p>\n              </div>\n              <div>\n                <span className=\"text-morandi-secondary\">Ê¨°Êï∏:</span>\n                <p className=\"font-medium\">{boxData.reps} Ê¨°</p>\n              </div>\n              <div>\n                <span className=\"text-morandi-secondary\">ÁµÑÊï∏:</span>\n                <p className=\"font-medium\">{boxData.sets} ÁµÑ</p>\n              </div>\n            </div>\n          </div>\n\n          {/* ÈÄ≤Â∫¶ËøΩËπ§ */}\n          <div>\n            <h3 className=\"font-medium mb-3 flex items-center justify-between\">\n              <span>ÈÄ≤Â∫¶ËøΩËπ§</span>\n              <span className=\"text-sm text-morandi-secondary\">\n                {completedSets}/{boxData.sets} ÁµÑÂÆåÊàê\n              </span>\n            </h3>\n\n            <div className=\"grid grid-cols-2 gap-3\">\n              {workoutProgress.map((setProgress, index) => (\n                <Button\n                  key={index}\n                  variant={setProgress.completed ? \"default\" : \"outline\"}\n                  className={`h-16 flex flex-col items-center justify-center space-y-1 ${\n                    setProgress.completed ? 'bg-morandi-green text-white' : ''\n                  }`}\n                  onClick={() => handleSetComplete(index)}\n                >\n                  <div className=\"flex items-center space-x-1\">\n                    {setProgress.completed && <Check className=\"h-4 w-4\" />}\n                    <span className=\"font-medium\">Á¨¨ {setProgress.setNumber} ÁµÑ</span>\n                  </div>\n\n                  {setProgress.completed && setProgress.completedAt && (\n                    <div className=\"flex items-center text-xs opacity-80\">\n                      <Clock className=\"h-3 w-3 mr-1\" />\n                      {new Date(setProgress.completedAt).toLocaleTimeString('zh-TW', {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </div>\n                  )}\n                </Button>\n              ))}\n            </div>\n          </div>\n\n          {/* Áµ±Ë®à */}\n          <div className=\"bg-morandi-container/10 rounded-lg p-4\">\n            <h3 className=\"font-medium mb-2\">Êú¨Ê¨°Áµ±Ë®à</h3>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"text-morandi-secondary\">Â∑≤ÂÆåÊàêÈáçÈáè:</span>\n                <p className=\"font-medium\">{getTotalVolume().toLocaleString()} kg</p>\n              </div>\n              <div>\n                <span className=\"text-morandi-secondary\">ÂÆåÊàêÁéá:</span>\n                <p className=\"font-medium\">{Math.round((completedSets / boxData.sets) * 100)}%</p>\n              </div>\n            </div>\n          </div>\n\n          {/* ÊåâÈàï */}\n          <div className=\"flex justify-between pt-4 border-t\">\n            <Button\n              variant=\"outline\"\n              onClick={handleDelete}\n              className=\"text-morandi-red border-morandi-red hover:bg-morandi-red/10\"\n            >\n              <Trash2 size={16} className=\"mr-1\" />\n              ÁßªÈô§ÊéíÁ®ã\n            </Button>\n            <div className=\"flex space-x-2\">\n              <Button variant=\"outline\" onClick={onClose}>\n                ÈóúÈñâ\n              </Button>\n              {completedSets === boxData.sets && !scheduledBox.completed && (\n                <Button onClick={handleComplete} className=\"bg-morandi-gold hover:bg-morandi-gold/90\">\n                  Ê®ôË®òÂÆåÊàê\n                </Button>\n              )}\n            </div>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1961, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<\"textarea\">>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,0OACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1988, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/box-dialogs/reminder-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useTimeboxStore, ReminderData, ScheduledBox } from '@/stores/timebox-store'\nimport { Button } from '@/components/ui/button'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Trash2 } from 'lucide-react'\n\ninterface ReminderDialogProps {\n  scheduledBox: ScheduledBox\n  onClose: () => void\n}\n\nexport default function ReminderDialog({ scheduledBox, onClose }: ReminderDialogProps) {\n  const { boxes, updateReminderData, toggleBoxCompletion, removeScheduledBox } = useTimeboxStore()\n  const [text, setText] = useState('')\n\n  const box = boxes.find(b => b.id === scheduledBox.boxId)\n\n  // ËºâÂÖ•ÁèæÊúâË≥áÊñô\n  useEffect(() => {\n    if (scheduledBox.data) {\n      const reminderData = scheduledBox.data as ReminderData\n      setText(reminderData.text || '')\n    }\n  }, [scheduledBox.data])\n\n  // Êõ¥Êñ∞ÂÖßÂÆπ\n  const handleUpdate = () => {\n    const reminderData: ReminderData = {\n      text,\n      lastUpdated: new Date()\n    }\n\n    updateReminderData(scheduledBox.id, reminderData)\n    onClose()\n  }\n\n  // Ê®ôË®òÂÆåÊàê\n  const handleComplete = () => {\n    if (text.trim()) {\n      handleUpdate()\n    }\n    if (!scheduledBox.completed) {\n      toggleBoxCompletion(scheduledBox.id)\n    }\n    onClose()\n  }\n\n  // Âà™Èô§ÊéíÁ®ã\n  const handleDelete = () => {\n    const confirmMessage = `Á¢∫ÂÆöË¶ÅÁßªÈô§Ê≠§ÊèêÈÜíÊéíÁ®ãÂóéÔºü\\n\\nÁÆ±Â≠êÔºö${box?.name}`;\n\n    if (!confirm(confirmMessage)) {\n      return;\n    }\n\n    removeScheduledBox(scheduledBox.id);\n    onClose();\n  }\n\n  if (!box) return null\n\n  const formatDateTime = (dayOfWeek: number, startTime: string) => {\n    const days = ['ÈÄ±Êó•', 'ÈÄ±‰∏Ä', 'ÈÄ±‰∫å', 'ÈÄ±‰∏â', 'ÈÄ±Âõõ', 'ÈÄ±‰∫î', 'ÈÄ±ÂÖ≠']\n    return `${days[dayOfWeek]} ${startTime}`\n  }\n\n  const getLastUpdated = () => {\n    if (scheduledBox.data) {\n      const reminderData = scheduledBox.data as ReminderData\n      if (reminderData.lastUpdated) {\n        return new Date(reminderData.lastUpdated).toLocaleString('zh-TW')\n      }\n    }\n    return null\n  }\n\n  return (\n    <Dialog open={true} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>\n            {box.name} - {formatDateTime(scheduledBox.dayOfWeek, scheduledBox.startTime)}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* ÊèêÁ§∫ÂÖßÂÆπ */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              ÊèêÁ§∫ÂÖßÂÆπ\n            </label>\n            <Textarea\n              placeholder=\"‰æãÂ¶ÇÔºö‰øùÊøïÁ®ãÂ∫è&#10;1. Âç∏Â¶ù&#10;2. Ê¥óËáâ&#10;3. ÂåñÂ¶ùÊ∞¥&#10;4. Á≤æËèØÊ∂≤&#10;5. ‰π≥Ê∂≤&#10;6. Èù¢ËÜúÊï∑30ÂàÜÈêò\"\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n              rows={10}\n              className=\"resize-none\"\n            />\n          </div>\n\n          {/* ÊúÄÂæåÊõ¥Êñ∞ÊôÇÈñì */}\n          {getLastUpdated() && (\n            <div className=\"text-sm text-gray-500\">\n              ÊúÄÂæåÊõ¥Êñ∞Ôºö{getLastUpdated()}\n            </div>\n          )}\n\n          {/* ÊåâÈàï */}\n          <div className=\"flex justify-between pt-4 border-t\">\n            <Button\n              variant=\"outline\"\n              onClick={handleDelete}\n              className=\"text-morandi-red border-morandi-red hover:bg-morandi-red/10\"\n            >\n              <Trash2 size={16} className=\"mr-1\" />\n              ÁßªÈô§ÊéíÁ®ã\n            </Button>\n            <div className=\"flex space-x-2\">\n              <Button variant=\"outline\" onClick={onClose}>\n                ÂèñÊ∂à\n              </Button>\n              <Button onClick={handleUpdate}>\n                Êõ¥Êñ∞ÂÖßÂÆπ\n              </Button>\n              <Button onClick={handleComplete}>\n                {scheduledBox.completed ? 'Â∑≤ÂÆåÊàê' : 'Ê®ôË®òÂÆåÊàê'}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAce,SAAS,eAAe,EAAE,YAAY,EAAE,OAAO,EAAuB;IACnF,MAAM,EAAE,KAAK,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,kBAAkB,EAAE,GAAG,IAAA,oJAAe;IAC9F,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,MAAM,MAAM,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,KAAK;IAEvD,SAAS;IACT,IAAA,kNAAS,EAAC;QACR,IAAI,aAAa,IAAI,EAAE;YACrB,MAAM,eAAe,aAAa,IAAI;YACtC,QAAQ,aAAa,IAAI,IAAI;QAC/B;IACF,GAAG;QAAC,aAAa,IAAI;KAAC;IAEtB,OAAO;IACP,MAAM,eAAe;QACnB,MAAM,eAA6B;YACjC;YACA,aAAa,IAAI;QACnB;QAEA,mBAAmB,aAAa,EAAE,EAAE;QACpC;IACF;IAEA,OAAO;IACP,MAAM,iBAAiB;QACrB,IAAI,KAAK,IAAI,IAAI;YACf;QACF;QACA,IAAI,CAAC,aAAa,SAAS,EAAE;YAC3B,oBAAoB,aAAa,EAAE;QACrC;QACA;IACF;IAEA,OAAO;IACP,MAAM,eAAe;QACnB,MAAM,iBAAiB,CAAC,mBAAmB,EAAE,KAAK,MAAM;QAExD,IAAI,CAAC,QAAQ,iBAAiB;YAC5B;QACF;QAEA,mBAAmB,aAAa,EAAE;QAClC;IACF;IAEA,IAAI,CAAC,KAAK,OAAO;IAEjB,MAAM,iBAAiB,CAAC,WAAmB;QACzC,MAAM,OAAO;YAAC;YAAM;YAAM;YAAM;YAAM;YAAM;YAAM;SAAK;QACvD,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,WAAW;IAC1C;IAEA,MAAM,iBAAiB;QACrB,IAAI,aAAa,IAAI,EAAE;YACrB,MAAM,eAAe,aAAa,IAAI;YACtC,IAAI,aAAa,WAAW,EAAE;gBAC5B,OAAO,IAAI,KAAK,aAAa,WAAW,EAAE,cAAc,CAAC;YAC3D;QACF;QACA,OAAO;IACT;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,mJAAa;YAAC,WAAU;;8BACvB,8OAAC,kJAAY;8BACX,cAAA,8OAAC,iJAAW;;4BACT,IAAI,IAAI;4BAAC;4BAAI,eAAe,aAAa,SAAS,EAAE,aAAa,SAAS;;;;;;;;;;;;8BAI/E,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,8OAAC,gJAAQ;oCACP,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,MAAM;oCACN,WAAU;;;;;;;;;;;;wBAKb,kCACC,8OAAC;4BAAI,WAAU;;gCAAwB;gCAC/B;;;;;;;sCAKV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4IAAM;oCACL,SAAQ;oCACR,SAAS;oCACT,WAAU;;sDAEV,8OAAC,oNAAM;4CAAC,MAAM;4CAAI,WAAU;;;;;;wCAAS;;;;;;;8CAGvC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,4IAAM;4CAAC,SAAQ;4CAAU,SAAS;sDAAS;;;;;;sDAG5C,8OAAC,4IAAM;4CAAC,SAAS;sDAAc;;;;;;sDAG/B,8OAAC,4IAAM;4CAAC,SAAS;sDACd,aAAa,SAAS,GAAG,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlD","debugId":null}},
    {"offset": {"line": 2219, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/box-dialogs/basic-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useTimeboxStore, ScheduledBox } from '@/stores/timebox-store'\nimport { Button } from '@/components/ui/button'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Trash2 } from 'lucide-react'\n\ninterface BasicDialogProps {\n  scheduledBox: ScheduledBox\n  onClose: () => void\n}\n\nexport default function BasicDialog({ scheduledBox, onClose }: BasicDialogProps) {\n  const { boxes, toggleBoxCompletion, removeScheduledBox } = useTimeboxStore()\n\n  const box = boxes.find(b => b.id === scheduledBox.boxId)\n\n  // Ê®ôË®òÂÆåÊàê\n  const handleComplete = () => {\n    if (!scheduledBox.completed) {\n      toggleBoxCompletion(scheduledBox.id)\n    }\n    onClose()\n  }\n\n  // Âà™Èô§ÊéíÁ®ã\n  const handleDelete = () => {\n    const confirmMessage = `Á¢∫ÂÆöË¶ÅÁßªÈô§Ê≠§ÊéíÁ®ãÂóéÔºü\\n\\nÁÆ±Â≠êÔºö${box?.name}\\nÊôÇÈñìÔºö${formatDateTime(scheduledBox.dayOfWeek, scheduledBox.startTime)}`;\n\n    if (!confirm(confirmMessage)) {\n      return;\n    }\n\n    removeScheduledBox(scheduledBox.id);\n    onClose();\n  }\n\n  if (!box) return null\n\n  const formatDateTime = (dayOfWeek: number, startTime: string) => {\n    const days = ['ÈÄ±Êó•', 'ÈÄ±‰∏Ä', 'ÈÄ±‰∫å', 'ÈÄ±‰∏â', 'ÈÄ±Âõõ', 'ÈÄ±‰∫î', 'ÈÄ±ÂÖ≠']\n    return `${days[dayOfWeek]} ${startTime}`\n  }\n\n  const formatDuration = (minutes: number) => {\n    if (minutes >= 60) {\n      const hours = Math.floor(minutes / 60)\n      const mins = minutes % 60\n      return mins > 0 ? `${hours}Â∞èÊôÇ ${mins}ÂàÜÈêò` : `${hours}Â∞èÊôÇ`\n    }\n    return `${minutes}ÂàÜÈêò`\n  }\n\n  return (\n    <Dialog open={true} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>\n            {box.name} - {formatDateTime(scheduledBox.dayOfWeek, scheduledBox.startTime)}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* Âü∫Êú¨Ë≥áË®ä */}\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-gray-600\">ÊåÅÁ∫åÊôÇÈñìÔºö</span>\n                <span className=\"font-medium\">{formatDuration(scheduledBox.duration)}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-gray-600\">ÁãÄÊÖãÔºö</span>\n                <span className={`font-medium ${scheduledBox.completed ? 'text-green-600' : 'text-gray-600'}`}>\n                  {scheduledBox.completed ? 'Â∑≤ÂÆåÊàê' : 'Êú™ÂÆåÊàê'}\n                </span>\n              </div>\n              {scheduledBox.completed && scheduledBox.completedAt && (\n                <div className=\"flex justify-between\">\n                  <span className=\"text-sm text-gray-600\">ÂÆåÊàêÊôÇÈñìÔºö</span>\n                  <span className=\"text-sm\">\n                    {new Date(scheduledBox.completedAt).toLocaleString('zh-TW')}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* ÊåâÈàï */}\n          <div className=\"flex justify-between pt-4 border-t\">\n            <Button\n              variant=\"outline\"\n              onClick={handleDelete}\n              className=\"text-morandi-red border-morandi-red hover:bg-morandi-red/10\"\n            >\n              <Trash2 size={16} className=\"mr-1\" />\n              ÁßªÈô§ÊéíÁ®ã\n            </Button>\n            <div className=\"flex space-x-2\">\n              <Button variant=\"outline\" onClick={onClose}>\n                ÂèñÊ∂à\n              </Button>\n              <Button onClick={handleComplete}>\n                {scheduledBox.completed ? 'Â∑≤ÂÆåÊàê' : 'Ê®ôË®òÂÆåÊàê'}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAYe,SAAS,YAAY,EAAE,YAAY,EAAE,OAAO,EAAoB;IAC7E,MAAM,EAAE,KAAK,EAAE,mBAAmB,EAAE,kBAAkB,EAAE,GAAG,IAAA,oJAAe;IAE1E,MAAM,MAAM,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,KAAK;IAEvD,OAAO;IACP,MAAM,iBAAiB;QACrB,IAAI,CAAC,aAAa,SAAS,EAAE;YAC3B,oBAAoB,aAAa,EAAE;QACrC;QACA;IACF;IAEA,OAAO;IACP,MAAM,eAAe;QACnB,MAAM,iBAAiB,CAAC,iBAAiB,EAAE,KAAK,KAAK,KAAK,EAAE,eAAe,aAAa,SAAS,EAAE,aAAa,SAAS,GAAG;QAE5H,IAAI,CAAC,QAAQ,iBAAiB;YAC5B;QACF;QAEA,mBAAmB,aAAa,EAAE;QAClC;IACF;IAEA,IAAI,CAAC,KAAK,OAAO;IAEjB,MAAM,iBAAiB,CAAC,WAAmB;QACzC,MAAM,OAAO;YAAC;YAAM;YAAM;YAAM;YAAM;YAAM;YAAM;SAAK;QACvD,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,WAAW;IAC1C;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,WAAW,IAAI;YACjB,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;YACnC,MAAM,OAAO,UAAU;YACvB,OAAO,OAAO,IAAI,GAAG,MAAM,GAAG,EAAE,KAAK,EAAE,CAAC,GAAG,GAAG,MAAM,EAAE,CAAC;QACzD;QACA,OAAO,GAAG,QAAQ,EAAE,CAAC;IACvB;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,mJAAa;YAAC,WAAU;;8BACvB,8OAAC,kJAAY;8BACX,cAAA,8OAAC,iJAAW;;4BACT,IAAI,IAAI;4BAAC;4BAAI,eAAe,aAAa,SAAS,EAAE,aAAa,SAAS;;;;;;;;;;;;8BAI/E,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,8OAAC;gDAAK,WAAU;0DAAe,eAAe,aAAa,QAAQ;;;;;;;;;;;;kDAErE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,8OAAC;gDAAK,WAAW,CAAC,YAAY,EAAE,aAAa,SAAS,GAAG,mBAAmB,iBAAiB;0DAC1F,aAAa,SAAS,GAAG,QAAQ;;;;;;;;;;;;oCAGrC,aAAa,SAAS,IAAI,aAAa,WAAW,kBACjD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,8OAAC;gDAAK,WAAU;0DACb,IAAI,KAAK,aAAa,WAAW,EAAE,cAAc,CAAC;;;;;;;;;;;;;;;;;;;;;;;sCAQ7D,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4IAAM;oCACL,SAAQ;oCACR,SAAS;oCACT,WAAU;;sDAEV,8OAAC,oNAAM;4CAAC,MAAM;4CAAI,WAAU;;;;;;wCAAS;;;;;;;8CAGvC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,4IAAM;4CAAC,SAAQ;4CAAU,SAAS;sDAAS;;;;;;sDAG5C,8OAAC,4IAAM;4CAAC,SAAS;sDACd,aAAa,SAAS,GAAG,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlD","debugId":null}},
    {"offset": {"line": 2468, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/scheduled-box-item.tsx"],"sourcesContent":["'use client'\n\nimport { useState, memo, useEffect } from 'react'\nimport { useTimeboxStore, ScheduledBox } from '@/stores/timebox-store'\nimport { Dumbbell, MessageSquare, Package, Check } from 'lucide-react'\nimport WorkoutDialog from './box-dialogs/workout-dialog'\nimport ReminderDialog from './box-dialogs/reminder-dialog'\nimport BasicDialog from './box-dialogs/basic-dialog'\n\nconst typeIcons = {\n  workout: Dumbbell,\n  reminder: MessageSquare,\n  basic: Package,\n}\n\ninterface ScheduledBoxItemProps {\n  scheduledBox: ScheduledBox\n  height: number\n}\n\nfunction ScheduledBoxItem({ scheduledBox, height }: ScheduledBoxItemProps) {\n  const { boxes } = useTimeboxStore()\n  const [showDialog, setShowDialog] = useState(false)\n\n  // Áõ£ËÅΩ‰æÜËá™‰∏≠ÈñìÊ†ºÂ≠êÁöÑÈªûÊìä‰∫ã‰ª∂\n  useEffect(() => {\n    const handleOpenDialog = (event: CustomEvent) => {\n      if (event.detail.scheduledBoxId === scheduledBox.id) {\n        setShowDialog(true)\n      }\n    }\n\n    window.addEventListener('openBoxDialog', handleOpenDialog as EventListener)\n    return () => {\n      window.removeEventListener('openBoxDialog', handleOpenDialog as EventListener)\n    }\n  }, [scheduledBox.id])\n\n  const box = boxes.find(b => b.id === scheduledBox.boxId)\n  if (!box) return null\n\n  const Icon = typeIcons[box.type]\n\n  const formatDuration = (minutes: number) => {\n    if (minutes >= 60) {\n      const hours = Math.floor(minutes / 60)\n      const mins = minutes % 60\n      return mins > 0 ? `${hours}h ${mins}m` : `${hours}h`\n    }\n    return `${minutes}m`\n  }\n\n  return (\n    <div\n      className={`h-full w-full rounded-t-md shadow-sm border-l-4 p-2 text-white cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 ${\n        scheduledBox.completed ? 'opacity-75' : ''\n      }`}\n      style={{\n        backgroundColor: box.color,\n        borderLeftColor: scheduledBox.completed ? '#10B981' : box.color,\n      }}\n      onClick={() => setShowDialog(true)}\n    >\n      <div className=\"flex items-start justify-between h-full\">\n        <div className=\"flex-1 min-w-0\">\n          {/* ÁÆ±Â≠êÂêçÁ®± */}\n          <div className=\"font-medium text-sm truncate mb-1\">\n            {box.name}\n          </div>\n\n          {/* ÊôÇÈñìË≥áË®ä */}\n          <div className=\"text-xs opacity-90\">\n            {scheduledBox.startTime} ‚Ä¢ {formatDuration(scheduledBox.duration)}\n          </div>\n\n          {/* ÂÆåÊàêÁãÄÊÖã */}\n          {scheduledBox.completed && scheduledBox.completedAt && (\n            <div className=\"text-xs opacity-90 mt-1\">\n              ‚úì {new Date(scheduledBox.completedAt).toLocaleTimeString('zh-TW', {\n                hour: '2-digit',\n                minute: '2-digit'\n              })}\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex flex-col items-center space-y-1 ml-2\">\n          {/* È°ûÂûãÂúñÁ§∫ */}\n          <Icon className=\"h-4 w-4\" />\n\n          {/* ÂÆåÊàêÊ®ôË®ò */}\n          {scheduledBox.completed && (\n            <Check className=\"h-3 w-3 text-green-300\" />\n          )}\n        </div>\n      </div>\n\n      {/* Â∞çË©±Ê°Ü */}\n      {showDialog && (\n        <>\n          {box.type === 'workout' && (\n            <WorkoutDialog\n              scheduledBox={scheduledBox}\n              onClose={() => setShowDialog(false)}\n            />\n          )}\n          {box.type === 'reminder' && (\n            <ReminderDialog\n              scheduledBox={scheduledBox}\n              onClose={() => setShowDialog(false)}\n            />\n          )}\n          {box.type === 'basic' && (\n            <BasicDialog\n              scheduledBox={scheduledBox}\n              onClose={() => setShowDialog(false)}\n            />\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default memo(ScheduledBoxItem)"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,YAAY;IAChB,SAAS,sNAAQ;IACjB,UAAU,yOAAa;IACvB,OAAO,mNAAO;AAChB;AAOA,SAAS,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAyB;IACvE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,oJAAe;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,gBAAgB;IAChB,IAAA,kNAAS,EAAC;QACR,MAAM,mBAAmB,CAAC;YACxB,IAAI,MAAM,MAAM,CAAC,cAAc,KAAK,aAAa,EAAE,EAAE;gBACnD,cAAc;YAChB;QACF;QAEA,OAAO,gBAAgB,CAAC,iBAAiB;QACzC,OAAO;YACL,OAAO,mBAAmB,CAAC,iBAAiB;QAC9C;IACF,GAAG;QAAC,aAAa,EAAE;KAAC;IAEpB,MAAM,MAAM,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,KAAK;IACvD,IAAI,CAAC,KAAK,OAAO;IAEjB,MAAM,OAAO,SAAS,CAAC,IAAI,IAAI,CAAC;IAEhC,MAAM,iBAAiB,CAAC;QACtB,IAAI,WAAW,IAAI;YACjB,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;YACnC,MAAM,OAAO,UAAU;YACvB,OAAO,OAAO,IAAI,GAAG,MAAM,EAAE,EAAE,KAAK,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC;QACtD;QACA,OAAO,GAAG,QAAQ,CAAC,CAAC;IACtB;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,0IAA0I,EACpJ,aAAa,SAAS,GAAG,eAAe,IACxC;QACF,OAAO;YACL,iBAAiB,IAAI,KAAK;YAC1B,iBAAiB,aAAa,SAAS,GAAG,YAAY,IAAI,KAAK;QACjE;QACA,SAAS,IAAM,cAAc;;0BAE7B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;0CACZ,IAAI,IAAI;;;;;;0CAIX,8OAAC;gCAAI,WAAU;;oCACZ,aAAa,SAAS;oCAAC;oCAAI,eAAe,aAAa,QAAQ;;;;;;;4BAIjE,aAAa,SAAS,IAAI,aAAa,WAAW,kBACjD,8OAAC;gCAAI,WAAU;;oCAA0B;oCACpC,IAAI,KAAK,aAAa,WAAW,EAAE,kBAAkB,CAAC,SAAS;wCAChE,MAAM;wCACN,QAAQ;oCACV;;;;;;;;;;;;;kCAKN,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAK,WAAU;;;;;;4BAGf,aAAa,SAAS,kBACrB,8OAAC,6MAAK;gCAAC,WAAU;;;;;;;;;;;;;;;;;;YAMtB,4BACC;;oBACG,IAAI,IAAI,KAAK,2BACZ,8OAAC,sLAAa;wBACZ,cAAc;wBACd,SAAS,IAAM,cAAc;;;;;;oBAGhC,IAAI,IAAI,KAAK,4BACZ,8OAAC,uLAAc;wBACb,cAAc;wBACd,SAAS,IAAM,cAAc;;;;;;oBAGhC,IAAI,IAAI,KAAK,yBACZ,8OAAC,oLAAW;wBACV,cAAc;wBACd,SAAS,IAAM,cAAc;;;;;;;;;;;;;;AAO3C;qDAEe,IAAA,6MAAI,EAAC","debugId":null}},
    {"offset": {"line": 2646, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/time-grid.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useTimeboxStore } from '@/stores/timebox-store'\nimport BoxSelector from './box-selector'\nimport ScheduledBoxItem from './scheduled-box-item'\n\ninterface TimeGridProps {\n  weekDays: Date[]\n  timeInterval: 30 | 60\n}\n\nexport default function TimeGrid({ weekDays, timeInterval }: TimeGridProps) {\n  const { scheduledBoxes, addScheduledBox, currentWeek, initializeCurrentWeek, boxes } = useTimeboxStore()\n  const [selectedCell, setSelectedCell] = useState<{\n    dayOfWeek: number\n    startTime: string\n  } | null>(null)\n\n  // ÁîüÊàêÊôÇÈñìÊÆµ\n  const timeSlots = []\n  for (let hour = 6; hour < 24; hour++) {\n    if (timeInterval === 30) {\n      timeSlots.push(`${hour.toString().padStart(2, '0')}:00`)\n      timeSlots.push(`${hour.toString().padStart(2, '0')}:30`)\n    } else {\n      timeSlots.push(`${hour.toString().padStart(2, '0')}:00`)\n    }\n  }\n\n  // Ê™¢Êü•ÊôÇÈñìË°ùÁ™Å\n  const hasConflict = (dayOfWeek: number, startTime: string, duration: number) => {\n    const startMinutes = timeToMinutes(startTime)\n    const endMinutes = startMinutes + duration\n\n    return scheduledBoxes.some(box => {\n      if (box.dayOfWeek !== dayOfWeek) return false\n\n      const boxStartMinutes = timeToMinutes(box.startTime)\n      const boxEndMinutes = boxStartMinutes + box.duration\n\n      return (startMinutes < boxEndMinutes && endMinutes > boxStartMinutes)\n    })\n  }\n\n  const timeToMinutes = (time: string) => {\n    const [hours, minutes] = time.split(':').map(Number)\n    return hours * 60 + minutes\n  }\n\n  const minutesToTime = (minutes: number) => {\n    const hours = Math.floor(minutes / 60)\n    const mins = minutes % 60\n    return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`\n  }\n\n  // ËôïÁêÜÁÆ±Â≠êÈÅ∏Êìá\n  const handleBoxSelect = (boxId: string, duration: number) => {\n    if (!selectedCell) return\n\n    // Á¢∫‰øùÊúâ currentWeekÔºåÂ¶ÇÊûúÊ≤íÊúâÂâáÂâµÂª∫\n    let weekId = currentWeek?.id\n    if (!currentWeek) {\n      const weekDays = []\n      const today = new Date()\n      const weekStart = getWeekStart(today)\n\n      for (let i = 0; i < 7; i++) {\n        const day = new Date(weekStart)\n        day.setDate(weekStart.getDate() + i)\n        weekDays.push(day)\n      }\n\n      // ‰ΩøÁî®Á¨¨‰∏ÄÂ§©‰ΩúÁÇ∫ weekStart ‰æÜÂàùÂßãÂåñ\n      initializeCurrentWeek(weekDays[0])\n      weekId = generateId() // Ëá®ÊôÇ IDÔºåÂØ¶ÈöõÊúÉÂú® store ‰∏≠ÁîüÊàê\n    }\n\n    // Ê™¢Êü•Ë°ùÁ™Å\n    if (hasConflict(selectedCell.dayOfWeek, selectedCell.startTime, duration)) {\n      alert('Ê≠§ÊôÇÊÆµÂ∑≤ÊúâÂÖ∂‰ªñÁÆ±Â≠êÔºåË´ãÈÅ∏ÊìáÂÖ∂‰ªñÊôÇÈñì')\n      return\n    }\n\n    addScheduledBox({\n      boxId,\n      weekId: weekId || generateId(),\n      dayOfWeek: selectedCell.dayOfWeek,\n      startTime: selectedCell.startTime,\n      duration,\n      completed: false,\n    })\n\n    setSelectedCell(null)\n  }\n\n  // ÈÄ±ÈñãÂßãË®àÁÆóÂáΩÊï∏ÔºàËàáÈ†ÅÈù¢‰∏≠ÁöÑ‰øùÊåÅ‰∏ÄËá¥Ôºâ\n  const getWeekStart = (date: Date) => {\n    const d = new Date(date)\n    const day = d.getDay()\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1) // Ë™øÊï¥ÁÇ∫ÈÄ±‰∏ÄÈñãÂßã\n    return new Date(d.setDate(diff))\n  }\n\n  // Á∞°ÂñÆÁöÑ ID ÁîüÊàêÂô®\n  const generateId = () => {\n    return Date.now().toString(36) + Math.random().toString(36).substr(2)\n  }\n\n  // Áç≤ÂèñÂñÆÂÖÉÊ†º‰∏≠ÁöÑÁÆ±Â≠êÔºàËµ∑ÂßãÊôÇÊÆµÔºâ\n  const getBoxInCell = (dayOfWeek: number, timeSlot: string) => {\n    return scheduledBoxes.find(box =>\n      box.dayOfWeek === dayOfWeek && box.startTime === timeSlot\n    )\n  }\n\n  // Ê™¢Êü•ÊôÇÊÆµÊòØÂê¶Ë¢´‰ªª‰ΩïÁÆ±Â≠ê‰ΩîÁî®\n  const isTimeSlotOccupied = (dayOfWeek: number, timeSlot: string) => {\n    const currentMinutes = timeToMinutes(timeSlot)\n\n    return scheduledBoxes.some(box => {\n      if (box.dayOfWeek !== dayOfWeek) return false\n\n      const boxStartMinutes = timeToMinutes(box.startTime)\n      const boxEndMinutes = boxStartMinutes + box.duration\n\n      return currentMinutes >= boxStartMinutes && currentMinutes < boxEndMinutes\n    })\n  }\n\n  // Áç≤Âèñ‰ΩîÁî®Ê≠§ÊôÇÊÆµÁöÑÁÆ±Â≠ê\n  const getOccupyingBox = (dayOfWeek: number, timeSlot: string) => {\n    const currentMinutes = timeToMinutes(timeSlot)\n\n    return scheduledBoxes.find(box => {\n      if (box.dayOfWeek !== dayOfWeek) return false\n\n      const boxStartMinutes = timeToMinutes(box.startTime)\n      const boxEndMinutes = boxStartMinutes + box.duration\n\n      return currentMinutes >= boxStartMinutes && currentMinutes < boxEndMinutes\n    })\n  }\n\n  // Âà§Êñ∑ÁÆ±Â≠êÂú®Ê≠§ÊôÇÊÆµÁöÑ‰ΩçÁΩÆÈ°ûÂûã\n  const getBoxPositionType = (scheduledBox: any, timeSlot: string) => {\n    const currentMinutes = timeToMinutes(timeSlot)\n    const boxStartMinutes = timeToMinutes(scheduledBox.startTime)\n    const boxEndMinutes = boxStartMinutes + scheduledBox.duration\n\n    if (currentMinutes === boxStartMinutes) return 'start'\n    if (currentMinutes + timeInterval === boxEndMinutes) return 'end'\n    return 'middle'\n  }\n\n  // Ë®àÁÆóÁÆ±Â≠êÈ´òÂ∫¶\n  const getBoxHeight = (duration: number) => {\n    const slotHeight = timeInterval === 30 ? 32 : 64 // ÊØèÂÄãÊôÇÊÆµÁöÑÈ´òÂ∫¶ÔºàpxÔºâ- ÈÅ©ÈÖç h-8/h-12\n    const slotsNeeded = duration / timeInterval\n    return slotsNeeded * slotHeight\n  }\n\n  // ËôïÁêÜÊãñÊîæ\n  const handleDrop = (e: React.DragEvent, dayOfWeek: number, timeSlot: string) => {\n    e.preventDefault()\n\n    try {\n      const data = JSON.parse(e.dataTransfer.getData('application/json'))\n\n      if (data.type === 'box') {\n        setSelectedCell({ dayOfWeek, startTime: timeSlot })\n      }\n    } catch (error) {\n      console.error('Invalid drag data')\n    }\n  }\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault()\n  }\n\n  return (\n    <div className=\"relative\">\n      <div className=\"grid grid-cols-8 min-h-[600px]\">\n        {/* ÊôÇÈñìËª∏ */}\n        <div className=\"border-r border-border bg-morandi-container/10\">\n          {timeSlots.map((timeSlot) => (\n            <div\n              key={timeSlot}\n              className=\"h-8 sm:h-12 flex items-center justify-center text-xs sm:text-sm text-morandi-secondary border-b border-border/50\"\n            >\n              {timeSlot}\n            </div>\n          ))}\n        </div>\n\n        {/* Êó•ÊúüÂàó */}\n        {weekDays.map((day, dayIndex) => (\n          <div key={dayIndex} className=\"border-r border-border last:border-r-0 relative bg-card\">\n            {timeSlots.map((timeSlot, timeIndex) => {\n              const existingBox = getBoxInCell(dayIndex, timeSlot)\n              const occupyingBox = getOccupyingBox(dayIndex, timeSlot)\n              const isOccupied = !!occupyingBox\n              const isStartTime = !!existingBox\n\n              // Â¶ÇÊûúÊôÇÊÆµË¢´‰ΩîÁî®ÔºåÊ∏≤ÊüìÁÆ±Â≠êÁöÑÂ∞çÊáâÈÉ®ÂàÜ\n              if (isOccupied && !isStartTime) {\n                const baseBox = boxes.find(b => b.id === occupyingBox.boxId)\n                const positionType = getBoxPositionType(occupyingBox, timeSlot)\n\n                const borderRadius = positionType === 'start' ? 'rounded-t-md' :\n                                    positionType === 'end' ? 'rounded-b-md' : ''\n\n                return (\n                  <div\n                    key={`${dayIndex}-${timeIndex}`}\n                    className={`h-8 sm:h-12 border-b border-border/50 relative cursor-pointer ${borderRadius}`}\n                    style={{ backgroundColor: baseBox?.color }}\n                    onClick={() => {\n                      // ÈªûÊìä‰∏≠ÈñìÈÉ®ÂàÜÔºåÈÄöÈÅé window ‰∫ã‰ª∂ÈÄöÁü•ÊâìÈñãÂ∞çË©±Ê°Ü\n                      window.dispatchEvent(new CustomEvent('openBoxDialog', {\n                        detail: { scheduledBoxId: occupyingBox.id }\n                      }))\n                    }}\n                  >\n                    {/* ‰∏≠ÈñìÂíåÁµêÂ∞æÈÉ®ÂàÜÂèØ‰ª•È°ØÁ§∫Á∞°ÂåñË≥áË®ä */}\n                    {positionType === 'end' && (\n                      <div className=\"absolute bottom-1 right-2 text-xs text-white opacity-75\">\n                        {minutesToTime(timeToMinutes(occupyingBox.startTime) + occupyingBox.duration)}\n                      </div>\n                    )}\n                  </div>\n                )\n              }\n\n              return (\n                <div\n                  key={`${dayIndex}-${timeIndex}`}\n                  className={`h-8 sm:h-12 border-b border-border/50 relative cursor-pointer hover:bg-morandi-container/20 transition-colors duration-150 ${\n                    selectedCell?.dayOfWeek === dayIndex && selectedCell?.startTime === timeSlot\n                      ? 'bg-morandi-gold/10 border-morandi-gold/30'\n                      : ''\n                  }`}\n                  onClick={() => {\n                    if (!isOccupied) {\n                      setSelectedCell({ dayOfWeek: dayIndex, startTime: timeSlot })\n                    }\n                  }}\n                  onDrop={(e) => handleDrop(e, dayIndex, timeSlot)}\n                  onDragOver={handleDragOver}\n                >\n                  {isStartTime && (\n                    <div\n                      data-box-id={existingBox.id}\n                      className=\"h-full w-full\"\n                    >\n                      <ScheduledBoxItem\n                        scheduledBox={existingBox}\n                        height={getBoxHeight(existingBox.duration)}\n                      />\n                    </div>\n                  )}\n\n                  {/* ÊèêÁ§∫ÊñáÂ≠ó - Âè™Âú®Á©∫ÁôΩÊôÇÊÆµÈ°ØÁ§∫ */}\n                  {!isOccupied && selectedCell?.dayOfWeek === dayIndex && selectedCell?.startTime === timeSlot && (\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <span className=\"text-xs text-morandi-gold font-medium\">ÈªûÊìäÊñ∞Â¢ûÁÆ±Â≠ê</span>\n                    </div>\n                  )}\n                </div>\n              )\n            })}\n          </div>\n        ))}\n      </div>\n\n      {/* ÁÆ±Â≠êÈÅ∏ÊìáÂô® */}\n      {selectedCell && (\n        <BoxSelector\n          onSelect={handleBoxSelect}\n          onClose={() => setSelectedCell(null)}\n          timeInterval={timeInterval}\n        />\n      )}\n\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2939, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/week-view.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { useTimeboxStore } from '@/stores/timebox-store'\nimport TimeGrid from './time-grid'\n\ninterface WeekViewProps {\n  selectedWeek: Date\n  timeInterval: 30 | 60\n}\n\nexport default function WeekView({ selectedWeek, timeInterval }: WeekViewProps) {\n  const { currentWeek, initializeCurrentWeek } = useTimeboxStore()\n\n  // ÂàùÂßãÂåñÁï∂ÂâçÈÄ±\n  useEffect(() => {\n    if (!currentWeek ||\n        new Date(currentWeek.weekStart).getTime() !== getWeekStart(selectedWeek).getTime()) {\n      initializeCurrentWeek(selectedWeek)\n    }\n  }, [selectedWeek, currentWeek, initializeCurrentWeek])\n\n  const getWeekStart = (date: Date) => {\n    const d = new Date(date)\n    const day = d.getDay()\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1) // Ë™øÊï¥ÁÇ∫ÈÄ±‰∏ÄÈñãÂßã\n    return new Date(d.setDate(diff))\n  }\n\n  const weekDays = []\n  const weekStart = getWeekStart(selectedWeek)\n\n  for (let i = 0; i < 7; i++) {\n    const day = new Date(weekStart)\n    day.setDate(weekStart.getDate() + i)\n    weekDays.push(day)\n  }\n\n  const dayLabels = ['ÈÄ±Êó•', 'ÈÄ±‰∏Ä', 'ÈÄ±‰∫å', 'ÈÄ±‰∏â', 'ÈÄ±Âõõ', 'ÈÄ±‰∫î', 'ÈÄ±ÂÖ≠']\n\n  return (\n    <div className=\"flex-1 overflow-hidden bg-card\">\n      {/* Êó•ÊúüÊ®ôÈ°åÂàó */}\n      <div className=\"grid grid-cols-8 border-b border-border bg-morandi-container/30\">\n        {/* ÊôÇÈñìÊ¨ÑÊ®ôÈ°å */}\n        <div className=\"p-2 sm:p-4 text-xs sm:text-sm font-medium text-morandi-secondary border-r border-border flex items-center justify-center\">\n          ÊôÇÈñì\n        </div>\n\n        {/* Êó•ÊúüÊ¨ÑÊ®ôÈ°å */}\n        {weekDays.map((day, index) => {\n          const isToday = day.toDateString() === new Date().toDateString()\n          return (\n            <div\n              key={index}\n              className={`p-2 sm:p-4 text-center border-r border-border last:border-r-0 flex items-center justify-center ${\n                isToday ? 'bg-morandi-gold/10' : ''\n              }`}\n            >\n              <div className={`text-xs sm:text-sm font-medium ${isToday ? 'text-morandi-gold' : 'text-morandi-secondary'}`}>\n                <span className=\"hidden sm:inline\">{dayLabels[day.getDay()]} {day.getDate()}</span>\n                <span className=\"sm:hidden\">{dayLabels[day.getDay()].slice(1)} {day.getDate()}</span>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n\n      {/* ÊôÇÈñìÁ∂≤Ê†º */}\n      <div className=\"flex-1 overflow-auto scrollable-content\">\n        <TimeGrid\n          weekDays={weekDays}\n          timeInterval={timeInterval}\n        />\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWe,SAAS,SAAS,EAAE,YAAY,EAAE,YAAY,EAAiB;IAC5E,MAAM,EAAE,WAAW,EAAE,qBAAqB,EAAE,GAAG,IAAA,oJAAe;IAE9D,SAAS;IACT,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,eACD,IAAI,KAAK,YAAY,SAAS,EAAE,OAAO,OAAO,aAAa,cAAc,OAAO,IAAI;YACtF,sBAAsB;QACxB;IACF,GAAG;QAAC;QAAc;QAAa;KAAsB;IAErD,MAAM,eAAe,CAAC;QACpB,MAAM,IAAI,IAAI,KAAK;QACnB,MAAM,MAAM,EAAE,MAAM;QACpB,MAAM,OAAO,EAAE,OAAO,KAAK,MAAM,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE,UAAU;;QAChE,OAAO,IAAI,KAAK,EAAE,OAAO,CAAC;IAC5B;IAEA,MAAM,WAAW,EAAE;IACnB,MAAM,YAAY,aAAa;IAE/B,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;QAC1B,MAAM,MAAM,IAAI,KAAK;QACrB,IAAI,OAAO,CAAC,UAAU,OAAO,KAAK;QAClC,SAAS,IAAI,CAAC;IAChB;IAEA,MAAM,YAAY;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IAE5D,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCAA2H;;;;;;oBAKzI,SAAS,GAAG,CAAC,CAAC,KAAK;wBAClB,MAAM,UAAU,IAAI,YAAY,OAAO,IAAI,OAAO,YAAY;wBAC9D,qBACE,8OAAC;4BAEC,WAAW,CAAC,+FAA+F,EACzG,UAAU,uBAAuB,IACjC;sCAEF,cAAA,8OAAC;gCAAI,WAAW,CAAC,+BAA+B,EAAE,UAAU,sBAAsB,0BAA0B;;kDAC1G,8OAAC;wCAAK,WAAU;;4CAAoB,SAAS,CAAC,IAAI,MAAM,GAAG;4CAAC;4CAAE,IAAI,OAAO;;;;;;;kDACzE,8OAAC;wCAAK,WAAU;;4CAAa,SAAS,CAAC,IAAI,MAAM,GAAG,CAAC,KAAK,CAAC;4CAAG;4CAAE,IAAI,OAAO;;;;;;;;;;;;;2BAPxE;;;;;oBAWX;;;;;;;0BAIF,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,+JAAQ;oBACP,UAAU;oBACV,cAAc;;;;;;;;;;;;;;;;;AAKxB","debugId":null}},
    {"offset": {"line": 3076, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:border-morandi-gold disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,qXACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3104, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-morandi-container bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-morandi-secondary focus:outline-none focus:ring-2 focus:ring-morandi-gold focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wUACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,yHAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,yHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3304, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/color-picker.tsx"],"sourcesContent":["'use client'\n\nimport { morandiColors } from '@/stores/timebox-store'\n\ninterface ColorPickerProps {\n  value: string\n  onChange: (color: string) => void\n  className?: string\n}\n\nexport default function ColorPicker({ value, onChange, className = '' }: ColorPickerProps) {\n  return (\n    <div className={className}>\n      {/* È°èËâ≤ÈÅ∏ÊìáÈù¢Êùø - Áõ¥Êé•Â±ïÈñã */}\n      <div className=\"grid grid-cols-4 gap-2\">\n        {morandiColors.map((color) => (\n          <button\n            key={color.value}\n            type=\"button\"\n            onClick={() => onChange(color.value)}\n            className={`w-12 h-12 rounded-lg transition-transform hover:scale-105 ${\n              color.value === value\n                ? 'ring-2 ring-gray-600 ring-offset-2'\n                : 'border border-gray-200'\n            }`}\n            style={{ backgroundColor: color.value }}\n            title={color.name}\n          >\n            <span className=\"sr-only\">{color.name}</span>\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAoB;IACvF,qBACE,8OAAC;QAAI,WAAW;kBAEd,cAAA,8OAAC;YAAI,WAAU;sBACZ,kJAAa,CAAC,GAAG,CAAC,CAAC,sBAClB,8OAAC;oBAEC,MAAK;oBACL,SAAS,IAAM,SAAS,MAAM,KAAK;oBACnC,WAAW,CAAC,0DAA0D,EACpE,MAAM,KAAK,KAAK,QACZ,uCACA,0BACJ;oBACF,OAAO;wBAAE,iBAAiB,MAAM,KAAK;oBAAC;oBACtC,OAAO,MAAM,IAAI;8BAEjB,cAAA,8OAAC;wBAAK,WAAU;kCAAW,MAAM,IAAI;;;;;;mBAXhC,MAAM,KAAK;;;;;;;;;;;;;;;AAiB5B","debugId":null}},
    {"offset": {"line": 3354, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/box-manager.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useTimeboxStore, morandiColors } from '@/stores/timebox-store'\nimport { useAuthStore } from '@/stores/auth-store'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport ColorPicker from '@/components/ui/color-picker'\nimport { Plus, Dumbbell, MessageSquare, Package, Edit, Trash2 } from 'lucide-react'\n\nconst typeIcons = {\n  workout: Dumbbell,\n  reminder: MessageSquare,\n  basic: Package,\n}\n\nconst typeLabels = {\n  workout: 'ÈáçË®ìÁÆ±Â≠ê',\n  reminder: 'ÊñáÂ≠óÊèêÁ§∫ÁÆ±Â≠ê',\n  basic: 'ÊôÆÈÄöÁÆ±Â≠ê',\n}\n\nexport default function BoxManager() {\n  const { boxes, createBox, updateBox, deleteBox } = useTimeboxStore()\n  const { user } = useAuthStore()\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false)\n  const [editingBox, setEditingBox] = useState<string | null>(null)\n\n  // Êñ∞Â¢û/Á∑®ËºØË°®ÂñÆÁãÄÊÖã\n  const [formData, setFormData] = useState({\n    name: '',\n    type: 'basic' as 'workout' | 'reminder' | 'basic',\n    color: morandiColors[0].value,\n  })\n\n  const handleSubmit = () => {\n    if (!formData.name.trim()) return\n\n    if (editingBox) {\n      updateBox(editingBox, {\n        name: formData.name,\n        type: formData.type,\n        color: formData.color,\n      })\n      setEditingBox(null)\n    } else {\n      createBox({\n        name: formData.name,\n        type: formData.type,\n        color: formData.color,\n        userId: user?.employeeNumber || 'guest',\n      })\n    }\n\n    setFormData({\n      name: '',\n      type: 'basic',\n      color: morandiColors[0].value,\n    })\n    setIsCreateDialogOpen(false)\n  }\n\n  const handleEdit = (box: any) => {\n    setFormData({\n      name: box.name,\n      type: box.type,\n      color: box.color,\n    })\n    setEditingBox(box.id)\n    setIsCreateDialogOpen(true)\n  }\n\n  const handleDelete = (id: string) => {\n    if (confirm('Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄôÂÄãÁÆ±Â≠êÂóéÔºü')) {\n      deleteBox(id)\n    }\n  }\n\n  return (\n    <div className=\"w-full bg-white flex flex-col\">\n      {/* Ê®ôÈ°åËàáÊñ∞Â¢ûÊåâÈàï */}\n      <div className=\"p-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">ÊàëÁöÑÁÆ±Â≠ê</h2>\n          <Dialog open={isCreateDialogOpen} onOpenChange={setIsCreateDialogOpen}>\n            <DialogTrigger asChild>\n              <Button size=\"sm\">\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Êñ∞Â¢ûÁÆ±Â≠ê\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>\n                  {editingBox ? 'Á∑®ËºØÁÆ±Â≠ê' : 'Êñ∞Â¢ûÁÆ±Â≠ê'}\n                </DialogTitle>\n              </DialogHeader>\n              <div className=\"space-y-4\">\n                {/* ÁÆ±Â≠êÂêçÁ®± */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    ÁÆ±Â≠êÂêçÁ®± *\n                  </label>\n                  <Input\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    placeholder=\"Ë´ãËº∏ÂÖ•ÁÆ±Â≠êÂêçÁ®±\"\n                  />\n                </div>\n\n                {/* ÁÆ±Â≠êÈ°ûÂûã */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    ÁÆ±Â≠êÈ°ûÂûã\n                  </label>\n                  <Select\n                    value={formData.type}\n                    onValueChange={(value: 'workout' | 'reminder' | 'basic') =>\n                      setFormData({ ...formData, type: value })\n                    }\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"basic\">ÊôÆÈÄöÁÆ±Â≠ê</SelectItem>\n                      <SelectItem value=\"workout\">ÈáçË®ìÁÆ±Â≠ê</SelectItem>\n                      <SelectItem value=\"reminder\">ÊñáÂ≠óÊèêÁ§∫ÁÆ±Â≠ê</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* È°èËâ≤ÈÅ∏Êìá */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    È°èËâ≤ÈÅ∏Êìá\n                  </label>\n                  <ColorPicker\n                    value={formData.color}\n                    onChange={(color) => setFormData({ ...formData, color })}\n                  />\n                </div>\n\n                {/* ÊåâÈàï */}\n                <div className=\"flex justify-end space-x-2 pt-4\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => {\n                      setIsCreateDialogOpen(false)\n                      setEditingBox(null)\n                      setFormData({\n                        name: '',\n                        type: 'basic',\n                        color: morandiColors[0].value,\n                      })\n                    }}\n                  >\n                    ÂèñÊ∂à\n                  </Button>\n                  <Button onClick={handleSubmit} disabled={!formData.name.trim()}>\n                    {editingBox ? 'Êõ¥Êñ∞' : 'Âª∫Á´ã'}\n                  </Button>\n                </div>\n              </div>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </div>\n\n      {/* ÁÆ±Â≠êÂàóË°® */}\n      <div className=\"flex-1 overflow-y-auto p-4\">\n        {boxes.length === 0 ? (\n          <div className=\"text-center text-gray-500 py-8\">\n            ÈÇÑÊ≤íÊúâÂª∫Á´ã‰ªª‰ΩïÁÆ±Â≠ê\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {boxes.map((box) => {\n              const Icon = typeIcons[box.type]\n              return (\n                <div\n                  key={box.id}\n                  className=\"group relative p-3 rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all duration-200 cursor-move transform hover:scale-105\"\n                  style={{ borderLeftColor: box.color, borderLeftWidth: '4px' }}\n                  draggable\n                  onDragStart={(e) => {\n                    e.dataTransfer.setData('application/json', JSON.stringify({\n                      type: 'box',\n                      boxId: box.id,\n                    }))\n                  }}\n                >\n                  <div className=\"flex items-center space-x-3\">\n                    {/* ÂúñÁ§∫ */}\n                    <div\n                      className=\"w-8 h-8 rounded-md flex items-center justify-center text-white\"\n                      style={{ backgroundColor: box.color }}\n                    >\n                      <Icon className=\"h-4 w-4\" />\n                    </div>\n\n                    {/* ÁÆ±Â≠êË≥áË®ä */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"font-medium text-gray-900 truncate\">\n                        {box.name}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {typeLabels[box.type]}\n                      </div>\n                    </div>\n\n                    {/* Êìç‰ΩúÊåâÈàï */}\n                    <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1\">\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          handleEdit(box)\n                        }}\n                      >\n                        <Edit className=\"h-3 w-3\" />\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          handleDelete(box.id)\n                        }}\n                      >\n                        <Trash2 className=\"h-3 w-3\" />\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3847, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/statistics-panel.tsx"],"sourcesContent":["'use client'\n\nimport { memo } from 'react'\nimport { useTimeboxStore } from '@/stores/timebox-store'\nimport { Card } from '@/components/ui/card'\n\nfunction StatisticsPanel() {\n  const { getWeekStatistics } = useTimeboxStore()\n  const stats = getWeekStatistics()\n\n  const formatTime = (minutes: number) => {\n    const hours = Math.floor(minutes / 60)\n    const mins = minutes % 60\n    if (hours > 0) {\n      return `${hours}Â∞èÊôÇ${mins > 0 ? ` ${mins}ÂàÜÈêò` : ''}`\n    }\n    return `${mins}ÂàÜÈêò`\n  }\n\n  const hasWorkoutStats = stats.totalWorkoutSessions > 0 && stats.totalWorkoutVolume && stats.totalWorkoutVolume > 0\n\n  return (\n    <div className=\"bg-card border-b border-border px-6 py-4\">\n      <div className={`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-${hasWorkoutStats ? '4' : '3'} gap-4`}>\n        {/* ÂÆåÊàêÁéá */}\n        <div className=\"morandi-card p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-xs sm:text-sm font-medium text-morandi-secondary\">Êú¨ÈÄ±ÂÆåÊàêÁéá</p>\n              <p className=\"text-lg sm:text-2xl font-bold text-morandi-primary\">\n                {Math.round(stats.completionRate * 100)}%\n              </p>\n            </div>\n            <div className=\"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-morandi-container flex items-center justify-center\">\n              <div className=\"text-morandi-gold font-semibold text-xs sm:text-base\">\n                {Math.round(stats.completionRate * 100)}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ÈÅãÂãïÊôÇÈñì */}\n        <div className=\"morandi-card p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-xs sm:text-sm font-medium text-morandi-secondary\">ÈÅãÂãïÊôÇÈñì</p>\n              <p className=\"text-lg sm:text-2xl font-bold text-morandi-primary\">\n                <span className=\"hidden sm:inline\">{formatTime(stats.totalWorkoutTime)}</span>\n                <span className=\"sm:hidden\">{Math.floor(stats.totalWorkoutTime / 60)}h</span>\n              </p>\n            </div>\n            <div className=\"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-morandi-container flex items-center justify-center\">\n              <div className=\"text-morandi-green font-semibold text-xs sm:text-sm\">\n                {Math.floor(stats.totalWorkoutTime / 60)}h\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ÂÆåÊàêÈ†ÖÁõÆÂàÜÂ∏É */}\n        <div className=\"morandi-card p-4\">\n          <div>\n            <p className=\"text-xs sm:text-sm font-medium text-morandi-secondary mb-2\">ÂÆåÊàêÈ†ÖÁõÆ</p>\n            <div className=\"space-y-1.5\">\n              <div className=\"flex justify-between text-xs sm:text-sm\">\n                <span className=\"text-morandi-secondary\">ÈÅãÂãï</span>\n                <span className=\"font-medium text-morandi-primary\">{stats.completedByType.workout} Ê¨°</span>\n              </div>\n              <div className=\"flex justify-between text-xs sm:text-sm\">\n                <span className=\"text-morandi-secondary\">‰øùÈ§ä</span>\n                <span className=\"font-medium text-morandi-primary\">{stats.completedByType.reminder} Ê¨°</span>\n              </div>\n              <div className=\"flex justify-between text-xs sm:text-sm\">\n                <span className=\"text-morandi-secondary\">ÂÖ∂‰ªñ</span>\n                <span className=\"font-medium text-morandi-primary\">{stats.completedByType.basic} Ê¨°</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ÈáçË®ìÁµ±Ë®à */}\n        {hasWorkoutStats && (\n          <div className=\"morandi-card p-4\">\n            <div>\n              <p className=\"text-xs sm:text-sm font-medium text-morandi-secondary mb-2\">ÈáçË®ìÁµ±Ë®à</p>\n              <div className=\"space-y-1.5\">\n                <div className=\"flex justify-between text-xs sm:text-sm\">\n                  <span className=\"text-morandi-secondary\">Êú¨ÈÄ±Ë®ìÁ∑¥Èáè</span>\n                  <span className=\"font-medium text-morandi-primary\">{stats.totalWorkoutVolume?.toLocaleString()} kg</span>\n                </div>\n                <div className=\"flex justify-between text-xs sm:text-sm\">\n                  <span className=\"text-morandi-secondary\">Ë®ìÁ∑¥Ê¨°Êï∏</span>\n                  <span className=\"font-medium text-morandi-primary\">{stats.totalWorkoutSessions} Ê¨°</span>\n                </div>\n                <div className=\"flex justify-between text-xs sm:text-sm\">\n                  <span className=\"text-morandi-secondary\">Âπ≥ÂùáÊØèÊ¨°</span>\n                  <span className=\"font-medium text-morandi-primary\">\n                    {Math.round((stats.totalWorkoutVolume || 0) / stats.totalWorkoutSessions).toLocaleString()} kg\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default memo(StatisticsPanel)"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAMA,SAAS;IACP,MAAM,EAAE,iBAAiB,EAAE,GAAG,IAAA,oJAAe;IAC7C,MAAM,QAAQ;IAEd,MAAM,aAAa,CAAC;QAClB,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;QACnC,MAAM,OAAO,UAAU;QACvB,IAAI,QAAQ,GAAG;YACb,OAAO,GAAG,MAAM,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,GAAG,IAAI;QACpD;QACA,OAAO,GAAG,KAAK,EAAE,CAAC;IACpB;IAEA,MAAM,kBAAkB,MAAM,oBAAoB,GAAG,KAAK,MAAM,kBAAkB,IAAI,MAAM,kBAAkB,GAAG;IAEjH,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAW,CAAC,6CAA6C,EAAE,kBAAkB,MAAM,IAAI,MAAM,CAAC;;8BAEjG,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAwD;;;;;;kDACrE,8OAAC;wCAAE,WAAU;;4CACV,KAAK,KAAK,CAAC,MAAM,cAAc,GAAG;4CAAK;;;;;;;;;;;;;0CAG5C,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACZ,KAAK,KAAK,CAAC,MAAM,cAAc,GAAG;;;;;;;;;;;;;;;;;;;;;;8BAO3C,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAwD;;;;;;kDACrE,8OAAC;wCAAE,WAAU;;0DACX,8OAAC;gDAAK,WAAU;0DAAoB,WAAW,MAAM,gBAAgB;;;;;;0DACrE,8OAAC;gDAAK,WAAU;;oDAAa,KAAK,KAAK,CAAC,MAAM,gBAAgB,GAAG;oDAAI;;;;;;;;;;;;;;;;;;;0CAGzE,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;wCACZ,KAAK,KAAK,CAAC,MAAM,gBAAgB,GAAG;wCAAI;;;;;;;;;;;;;;;;;;;;;;;8BAOjD,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAA6D;;;;;;0CAC1E,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;;oDAAoC,MAAM,eAAe,CAAC,OAAO;oDAAC;;;;;;;;;;;;;kDAEpF,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;;oDAAoC,MAAM,eAAe,CAAC,QAAQ;oDAAC;;;;;;;;;;;;;kDAErF,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;;oDAAoC,MAAM,eAAe,CAAC,KAAK;oDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAOvF,iCACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAA6D;;;;;;0CAC1E,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;;oDAAoC,MAAM,kBAAkB,EAAE;oDAAiB;;;;;;;;;;;;;kDAEjG,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;;oDAAoC,MAAM,oBAAoB;oDAAC;;;;;;;;;;;;;kDAEjF,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;;oDACb,KAAK,KAAK,CAAC,CAAC,MAAM,kBAAkB,IAAI,CAAC,IAAI,MAAM,oBAAoB,EAAE,cAAc;oDAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU/G;qDAEe,IAAA,6MAAI,EAAC","debugId":null}},
    {"offset": {"line": 4260, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, indeterminate, ...props }, ref) => {\n  const checkboxRef = React.useRef<HTMLButtonElement>(null);\n\n  React.useImperativeHandle(ref, () => checkboxRef.current!);\n\n  React.useEffect(() => {\n    if (checkboxRef.current) {\n      checkboxRef.current.indeterminate = indeterminate ?? false;\n    }\n  }, [indeterminate]);\n\n  return (\n    <CheckboxPrimitive.Root\n      ref={checkboxRef}\n      className={cn(\n        \"peer h-4 w-4 shrink-0 rounded-sm border border-morandi-container ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-morandi-gold focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-morandi-gold data-[state=checked]:text-white\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        className={cn(\"flex items-center justify-center text-current\")}\n      >\n        <Check className=\"h-4 w-4\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  );\n})\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,aAAa,EAAE,GAAG,OAAO,EAAE;IACzC,MAAM,cAAc,+MAAY,CAAoB;IAEpD,4NAAyB,CAAC,KAAK,IAAM,YAAY,OAAO;IAExD,kNAAe,CAAC;QACd,IAAI,YAAY,OAAO,EAAE;YACvB,YAAY,OAAO,CAAC,aAAa,GAAG,iBAAiB;QACvD;IACF,GAAG;QAAC;KAAc;IAElB,qBACE,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,4TACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAW,IAAA,yHAAE,EAAC;sBAEd,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIzB;AACA,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4315, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/review-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useTimeboxStore } from '@/stores/timebox-store'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\n\ninterface ReviewDialogProps {\n  isOpen: boolean\n  onClose: () => void\n  weekStart: Date\n  weekEnd: Date\n}\n\nexport default function ReviewDialog({ isOpen, onClose, weekStart, weekEnd }: ReviewDialogProps) {\n  const {\n    getWeekStatistics,\n    archiveCurrentWeek,\n    copyToNextWeek,\n    weekRecords,\n    initializeCurrentWeek\n  } = useTimeboxStore()\n\n  const [archiveName, setArchiveName] = useState('')\n  const [copyToNext, setCopyToNext] = useState(false)\n  const [selectedTemplate, setSelectedTemplate] = useState<string>('')\n  const [notes, setNotes] = useState('')\n\n  const stats = getWeekStatistics()\n\n  // ÁîüÊàêÈ†êË®≠Â≠òÊ™îÂêçÁ®±\n  const getDefaultArchiveName = () => {\n    const year = weekStart.getFullYear()\n    const weekNumber = getWeekNumber(weekStart)\n    return `${year}Âπ¥Á¨¨${weekNumber}ÈÄ±`\n  }\n\n  // Ë®àÁÆóÈÄ±Êï∏\n  const getWeekNumber = (date: Date) => {\n    const firstDayOfYear = new Date(date.getFullYear(), 0, 1)\n    const pastDaysOfYear = (date.getTime() - firstDayOfYear.getTime()) / 86400000\n    return Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7)\n  }\n\n  // Ê†ºÂºèÂåñÊó•ÊúüÁØÑÂúç\n  const formatDateRange = () => {\n    return `${weekStart.getMonth() + 1}/${weekStart.getDate()} - ${weekEnd.getMonth() + 1}/${weekEnd.getDate()}`\n  }\n\n  // Ê†ºÂºèÂåñÊôÇÈñì\n  const formatTime = (minutes: number) => {\n    const hours = Math.floor(minutes / 60)\n    const mins = minutes % 60\n    if (hours > 0) {\n      return `${hours}Â∞èÊôÇ${mins > 0 ? ` ${mins}ÂàÜÈêò` : ''}`\n    }\n    return `${mins}ÂàÜÈêò`\n  }\n\n  const handleArchive = () => {\n    const finalArchiveName = archiveName.trim() || getDefaultArchiveName()\n\n    // Â≠òÊ™îÁï∂ÂâçÈÄ±\n    archiveCurrentWeek(finalArchiveName)\n\n    // Â¶ÇÊûúÈÅ∏ÊìáË§áË£ΩÂà∞‰∏ãÈÄ±\n    if (copyToNext) {\n      const nextWeekStart = new Date(weekEnd)\n      nextWeekStart.setDate(nextWeekStart.getDate() + 1)\n\n      if (selectedTemplate) {\n        // ‰ΩøÁî®ÈÅ∏ÊìáÁöÑÊ®°Êùø\n        copyToNextWeek(selectedTemplate)\n      } else {\n        // ÂàùÂßãÂåñÁ©∫ÁôΩÁöÑ‰∏ãÈÄ±\n        initializeCurrentWeek(nextWeekStart)\n      }\n    }\n\n    onClose()\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>\n            Êú¨ÈÄ±Ë¶ÜÁõ§ ({formatDateRange()})\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Êú¨ÈÄ±Áµ±Ë®à */}\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <h3 className=\"font-medium mb-3\">Êú¨ÈÄ±Áµ±Ë®à</h3>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"text-gray-600\">ÂÆåÊàêÁéáÔºö</span>\n                <span className=\"font-medium\">{Math.round(stats.completionRate * 100)}%</span>\n              </div>\n              <div>\n                <span className=\"text-gray-600\">ÈÅãÂãïÊôÇÈñìÔºö</span>\n                <span className=\"font-medium\">{formatTime(stats.totalWorkoutTime)}</span>\n              </div>\n              {stats.totalWorkoutVolume && stats.totalWorkoutVolume > 0 && (\n                <div className=\"col-span-2\">\n                  <span className=\"text-gray-600\">Á∏ΩË®ìÁ∑¥ÈáèÔºö</span>\n                  <span className=\"font-medium\">{stats.totalWorkoutVolume.toLocaleString()} kg</span>\n                </div>\n              )}\n            </div>\n\n            <div className=\"mt-3 pt-3 border-t border-gray-200\">\n              <div className=\"text-sm text-gray-600\">ÂÆåÊàêÈ†ÖÁõÆÂàÜÂ∏ÉÔºö</div>\n              <div className=\"flex space-x-4 mt-1 text-sm\">\n                <span>ÈÅãÂãï {stats.completedByType.workout} Ê¨°</span>\n                <span>‰øùÈ§ä {stats.completedByType.reminder} Ê¨°</span>\n                <span>ÂÖ∂‰ªñ {stats.completedByType.basic} Ê¨°</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Â≠òÊ™îÂêçÁ®± */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Â≠òÊ™îÂêçÁ®±\n            </label>\n            <Input\n              value={archiveName}\n              onChange={(e) => setArchiveName(e.target.value)}\n              placeholder={getDefaultArchiveName()}\n            />\n          </div>\n\n          {/* Ë¶ÜÁõ§Á≠ÜË®ò */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Ë¶ÜÁõ§Á≠ÜË®ò (ÈÅ∏Â°´)\n            </label>\n            <Textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Ë®òÈåÑÊú¨ÈÄ±ÁöÑÂøÉÂæó„ÄÅÊîπÈÄ≤Âª∫Ë≠∞Êàñ‰∏ãÈÄ±Ë®àÂäÉ...\"\n              rows={3}\n            />\n          </div>\n\n          {/* Ë§áË£ΩÂà∞‰∏ãÈÄ±ÈÅ∏È†Ö */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center space-x-2\">\n              <Checkbox\n                id=\"copyToNext\"\n                checked={copyToNext}\n                onCheckedChange={(checked) => setCopyToNext(checked as boolean)}\n              />\n              <label htmlFor=\"copyToNext\" className=\"text-sm font-medium\">\n                Ë§áË£ΩÊéíÁ®ãÂà∞‰∏ãÈÄ±ÔºàÊ∏ÖÈô§ÂÆåÊàêÁãÄÊÖãÔºâ\n              </label>\n            </div>\n\n            {/* Ê®°ÊùøÈÅ∏Êìá */}\n            {copyToNext && weekRecords.length > 0 && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  ÈÅ∏ÊìáÂ≠òÊ™îÊ®°ÊùøÔºàÈÅ∏Â°´Ôºâ\n                </label>\n                <Select value={selectedTemplate} onValueChange={setSelectedTemplate}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"ÈÅ∏Êìá‰πãÂâçÁöÑÈÄ±Â≠òÊ™î‰ΩúÁÇ∫Ê®°Êùø\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {weekRecords\n                      .filter(record => record.archived)\n                      .slice(-10) // Âè™È°ØÁ§∫ÊúÄËøë10ÈÄ±\n                      .map((record) => (\n                        <SelectItem key={record.id} value={record.id}>\n                          {record.name} (ÂÆåÊàêÁéá: {Math.round(record.statistics.completionRate * 100)}%)\n                        </SelectItem>\n                      ))}\n                  </SelectContent>\n                </Select>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  ÈÅ∏ÊìáÊ®°ÊùøÊúÉË§áË£ΩË©≤ÈÄ±ÁöÑÊéíÁ®ãÂÆâÊéí\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* ÊåâÈàï */}\n          <div className=\"flex justify-end space-x-2 pt-4 border-t\">\n            <Button variant=\"outline\" onClick={onClose}>\n              ÂèñÊ∂à\n            </Button>\n            <Button onClick={handleArchive}>\n              Â≠òÊ™î\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4781, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/components/create-box-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useTimeboxStore, morandiColors } from '@/stores/timebox-store'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport ColorPicker from '@/components/ui/color-picker'\n\ninterface CreateBoxDialogProps {\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport default function CreateBoxDialog({ isOpen, onClose }: CreateBoxDialogProps) {\n  const { createBox } = useTimeboxStore()\n  const [formData, setFormData] = useState({\n    name: '',\n    type: 'basic' as 'workout' | 'reminder' | 'basic',\n    color: morandiColors[0].value,\n  })\n\n  const handleSubmit = () => {\n    if (!formData.name.trim()) return\n\n    createBox({\n      name: formData.name,\n      type: formData.type,\n      color: formData.color,\n      userId: 'current-user', // TODO: ÂØ¶ÈöõÁî®Êà∂ID\n    })\n\n    setFormData({\n      name: '',\n      type: 'basic',\n      color: morandiColors[0].value,\n    })\n    onClose()\n  }\n\n  const handleClose = () => {\n    setFormData({\n      name: '',\n      type: 'basic',\n      color: morandiColors[0].value,\n    })\n    onClose()\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Êñ∞Â¢ûÁÆ±Â≠ê</DialogTitle>\n        </DialogHeader>\n        <div className=\"space-y-4\">\n          {/* ÁÆ±Â≠êÂêçÁ®± */}\n          <div>\n            <label className=\"block text-sm font-medium text-morandi-primary mb-2\">\n              ÁÆ±Â≠êÂêçÁ®± *\n            </label>\n            <Input\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              placeholder=\"Ë´ãËº∏ÂÖ•ÁÆ±Â≠êÂêçÁ®±\"\n            />\n          </div>\n\n          {/* ÁÆ±Â≠êÈ°ûÂûã */}\n          <div>\n            <label className=\"block text-sm font-medium text-morandi-primary mb-2\">\n              ÁÆ±Â≠êÈ°ûÂûã\n            </label>\n            <Select\n              value={formData.type}\n              onValueChange={(value: 'workout' | 'reminder' | 'basic') =>\n                setFormData({ ...formData, type: value })\n              }\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"basic\">ÊôÆÈÄöÁÆ±Â≠ê</SelectItem>\n                <SelectItem value=\"workout\">ÈáçË®ìÁÆ±Â≠ê</SelectItem>\n                <SelectItem value=\"reminder\">ÊñáÂ≠óÊèêÁ§∫ÁÆ±Â≠ê</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* È°èËâ≤ÈÅ∏Êìá */}\n          <div>\n            <label className=\"block text-sm font-medium text-morandi-primary mb-2\">\n              È°èËâ≤ÈÅ∏Êìá\n            </label>\n            <ColorPicker\n              value={formData.color}\n              onChange={(color) => setFormData({ ...formData, color })}\n            />\n          </div>\n\n          {/* ÊåâÈàï */}\n          <div className=\"flex justify-end space-x-2 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={handleClose}\n              className=\"text-morandi-secondary hover:text-morandi-primary border-border hover:border-morandi-gold\"\n            >\n              ÂèñÊ∂à\n            </Button>\n            <Button\n              onClick={handleSubmit}\n              disabled={!formData.name.trim()}\n              className=\"bg-morandi-gold hover:bg-morandi-gold-hover text-white\"\n            >\n              Âª∫Á´ã\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAee,SAAS,gBAAgB,EAAE,MAAM,EAAE,OAAO,EAAwB;IAC/E,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,oJAAe;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,MAAM;QACN,MAAM;QACN,OAAO,kJAAa,CAAC,EAAE,CAAC,KAAK;IAC/B;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,IAAI;QAE3B,UAAU;YACR,MAAM,SAAS,IAAI;YACnB,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,KAAK;YACrB,QAAQ;QACV;QAEA,YAAY;YACV,MAAM;YACN,MAAM;YACN,OAAO,kJAAa,CAAC,EAAE,CAAC,KAAK;QAC/B;QACA;IACF;IAEA,MAAM,cAAc;QAClB,YAAY;YACV,MAAM;YACN,MAAM;YACN,OAAO,kJAAa,CAAC,EAAE,CAAC,KAAK;QAC/B;QACA;IACF;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,8OAAC,mJAAa;;8BACZ,8OAAC,kJAAY;8BACX,cAAA,8OAAC,iJAAW;kCAAC;;;;;;;;;;;8BAEf,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAsD;;;;;;8CAGvE,8OAAC,0IAAK;oCACJ,OAAO,SAAS,IAAI;oCACpB,UAAU,CAAC,IAAM,YAAY;4CAAE,GAAG,QAAQ;4CAAE,MAAM,EAAE,MAAM,CAAC,KAAK;wCAAC;oCACjE,aAAY;;;;;;;;;;;;sCAKhB,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAsD;;;;;;8CAGvE,8OAAC,4IAAM;oCACL,OAAO,SAAS,IAAI;oCACpB,eAAe,CAAC,QACd,YAAY;4CAAE,GAAG,QAAQ;4CAAE,MAAM;wCAAM;;sDAGzC,8OAAC,mJAAa;sDACZ,cAAA,8OAAC,iJAAW;;;;;;;;;;sDAEd,8OAAC,mJAAa;;8DACZ,8OAAC,gJAAU;oDAAC,OAAM;8DAAQ;;;;;;8DAC1B,8OAAC,gJAAU;oDAAC,OAAM;8DAAU;;;;;;8DAC5B,8OAAC,gJAAU;oDAAC,OAAM;8DAAW;;;;;;;;;;;;;;;;;;;;;;;;sCAMnC,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAsD;;;;;;8CAGvE,8OAAC,sJAAW;oCACV,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE;wCAAM;;;;;;;;;;;;sCAK1D,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4IAAM;oCACL,SAAQ;oCACR,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,8OAAC,4IAAM;oCACL,SAAS;oCACT,UAAU,CAAC,SAAS,IAAI,CAAC,IAAI;oCAC7B,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 5031, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/timebox/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { ResponsiveHeader } from '@/components/layout/responsive-header'\nimport WeekView from './components/week-view'\nimport BoxManager from './components/box-manager'\nimport StatisticsPanel from './components/statistics-panel'\nimport ReviewDialog from './components/review-dialog'\nimport CreateBoxDialog from './components/create-box-dialog'\nimport { Button } from '@/components/ui/button'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Plus, Calendar, Clock } from 'lucide-react'\nimport { useTimeboxStore } from '@/stores/timebox-store'\n\nexport default function TimeboxPage() {\n  const [selectedWeek, setSelectedWeek] = useState(new Date())\n  const [timeInterval, setTimeInterval] = useState<30 | 60>(60) // ÂàÜÈêò\n  const [showReviewDialog, setShowReviewDialog] = useState(false)\n  const [showBoxManager, setShowBoxManager] = useState(false)\n  const [showCreateBoxDialog, setShowCreateBoxDialog] = useState(false)\n\n  const { currentWeek, initializeCurrentWeek } = useTimeboxStore()\n\n  // ÂàùÂßãÂåñÁï∂ÂâçÈÄ±ÔºàÁ¥îÊú¨Âú∞Ê®°ÂºèÔºâ\n  useEffect(() => {\n    if (!currentWeek) {\n      initializeCurrentWeek(new Date())\n    }\n  }, [currentWeek, initializeCurrentWeek])\n\n  // Ë®àÁÆóÈÄ±ÁöÑÈñãÂßãÂíåÁµêÊùüÊó•Êúü\n  const getWeekStart = (date: Date) => {\n    const d = new Date(date)\n    const day = d.getDay()\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1) // Ë™øÊï¥ÁÇ∫ÈÄ±‰∏ÄÈñãÂßã\n    return new Date(d.setDate(diff))\n  }\n\n  const getWeekEnd = (date: Date) => {\n    const start = getWeekStart(date)\n    const end = new Date(start)\n    end.setDate(start.getDate() + 6)\n    return end\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <ResponsiveHeader\n        title=\"ÊôÇÈñìÁÆ±ÁÆ°ÁêÜ\"\n        icon={Clock}\n        breadcrumb={[\n          { label: 'È¶ñÈ†Å', href: '/' },\n          { label: 'ÁÆ±ÂûãÊôÇÈñì', href: '/timebox' }\n        ]}\n        onAdd={() => setShowCreateBoxDialog(true)}\n        addLabel=\"Êñ∞Â¢ûÁÆ±Â≠ê\"\n      >\n        <div className=\"flex items-center gap-6\">\n          {/* ÈÄ±ÈÅ∏ÊìáÂô® */}\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => {\n                const prev = new Date(selectedWeek)\n                prev.setDate(prev.getDate() - 7)\n                setSelectedWeek(prev)\n              }}\n              className=\"text-morandi-secondary hover:text-morandi-primary border-border hover:border-morandi-gold\"\n            >\n              ‚Üê\n            </Button>\n            <span className=\"text-sm text-morandi-secondary min-w-[120px] text-center font-medium\">\n              {selectedWeek.toLocaleDateString('zh-TW', {\n                month: 'numeric',\n                day: 'numeric'\n              })} - {\n                new Date(selectedWeek.getTime() + 6 * 24 * 60 * 60 * 1000)\n                  .toLocaleDateString('zh-TW', {\n                    month: 'numeric',\n                    day: 'numeric'\n                  })\n              }\n            </span>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => {\n                const next = new Date(selectedWeek)\n                next.setDate(next.getDate() + 7)\n                setSelectedWeek(next)\n              }}\n              className=\"text-morandi-secondary hover:text-morandi-primary border-border hover:border-morandi-gold\"\n            >\n              ‚Üí\n            </Button>\n          </div>\n\n          {/* ÊôÇÈñìÈñìÈöîÂàáÊèõ */}\n          <div className=\"flex items-center gap-1\">\n            <Button\n              variant={timeInterval === 30 ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setTimeInterval(30)}\n              className={timeInterval === 30\n                ? \"bg-morandi-gold hover:bg-morandi-gold-hover text-white border-morandi-gold\"\n                : \"text-morandi-secondary hover:text-morandi-primary border-border hover:border-morandi-gold\"\n              }\n            >\n              30ÂàÜÈêò\n            </Button>\n            <Button\n              variant={timeInterval === 60 ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setTimeInterval(60)}\n              className={timeInterval === 60\n                ? \"bg-morandi-gold hover:bg-morandi-gold-hover text-white border-morandi-gold\"\n                : \"text-morandi-secondary hover:text-morandi-primary border-border hover:border-morandi-gold\"\n              }\n            >\n              1Â∞èÊôÇ\n            </Button>\n          </div>\n\n          {/* ÂäüËÉΩÊåâÈàïÁæ§ÁµÑ */}\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setShowBoxManager(true)}\n              className=\"text-morandi-secondary hover:text-morandi-primary border-border hover:border-morandi-gold\"\n            >\n              <Plus className=\"h-4 w-4 mr-2\" />\n              ÁÆ°ÁêÜÁÆ±Â≠ê\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setShowReviewDialog(true)}\n              className=\"text-morandi-secondary hover:text-morandi-primary border-border hover:border-morandi-gold\"\n            >\n              <Calendar className=\"h-4 w-4 mr-2\" />\n              Ë¶ÜÁõ§Êú¨ÈÄ±\n            </Button>\n          </div>\n        </div>\n      </ResponsiveHeader>\n\n      {/* Áµ±Ë®àÈù¢Êùø */}\n      <StatisticsPanel />\n\n      {/* ‰∏ªË¶ÅÂÖßÂÆπÂçÄÂüü */}\n      <div className=\"flex gap-6\">\n        <div className=\"flex-1\">\n          <div className=\"morandi-card overflow-hidden\">\n            <WeekView\n              selectedWeek={selectedWeek}\n              timeInterval={timeInterval}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* ÈÄ±Ë¶ÜÁõ§Â∞çË©±Ê°Ü */}\n      <ReviewDialog\n        isOpen={showReviewDialog}\n        onClose={() => setShowReviewDialog(false)}\n        weekStart={getWeekStart(selectedWeek)}\n        weekEnd={getWeekEnd(selectedWeek)}\n      />\n\n      {/* Êñ∞Â¢ûÁÆ±Â≠êÂ∞çË©±Ê°Ü */}\n      <CreateBoxDialog\n        isOpen={showCreateBoxDialog}\n        onClose={() => setShowCreateBoxDialog(false)}\n      />\n\n      {/* ÁÆ°ÁêÜÁÆ±Â≠êÂ∞çË©±Ê°Ü */}\n      {showBoxManager && (\n        <Dialog open={showBoxManager} onOpenChange={() => setShowBoxManager(false)}>\n          <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-hidden\">\n            <DialogHeader>\n              <DialogTitle>ÁÆ°ÁêÜÁÆ±Â≠ê</DialogTitle>\n            </DialogHeader>\n            <div className=\"overflow-auto\">\n              <BoxManager />\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}