{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.memo(React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n))\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,6MAAU,eAAC,mNAAgB,CACxC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-morandi-container bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-morandi-secondary focus:outline-none focus:ring-2 focus:ring-morandi-gold focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wUACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,yHAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,yHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/lib/persistent-store.ts"],"sourcesContent":["/**\n * 🔄 Venturo v4.0 - 統一的 Store 持久化工具（重構版）\n *\n * 改用新的離線架構：\n * - 使用 unified-types.ts 統一資料模型\n * - 使用 offline-manager.ts 管理離線資料\n * - 自動處理 Supabase 同步\n */\n\nimport { getOfflineManager, StoreName } from '@/lib/offline/offline-manager';\nimport { generateUUID } from '@/lib/offline/unified-types';\n\ntype SetState<T> = (partial: T | Partial<T> | ((state: T) => T | Partial<T>)) => void;\ntype GetState<T> = () => T;\n\n// 表格名稱映射：Store key → IndexedDB store name\nconst TABLE_MAP: Record<string, StoreName> = {\n  'tours': 'tours',\n  'orders': 'orders',\n  'quotes': 'quotes',\n  'todos': 'todos',\n  'suppliers': 'suppliers',\n  'customers': 'customers',\n  'payments': 'paymentRequests', // 'payments' 對應到 'paymentRequests'\n  'paymentRequests': 'paymentRequests',\n  'members': 'orders', // members 存在 orders 裡（暫時）\n  'tourAddOns': 'tours', // tourAddOns 存在 tours 裡（暫時）\n};\n\n// ============= CRUD 方法生成器（使用新架構） =============\n\n/**\n * 建立具有離線同步功能的 CRUD 方法（v4.0 重構版）\n *\n * @param tableName - 表格名稱\n * @param arrayKey - Store 中陣列的 key 名稱（如 'todos', 'tours'）\n * @param set - Zustand set 函數\n * @param get - Zustand get 函數\n * @returns CRUD 方法物件\n */\nexport const createPersistentCrudMethods = <T extends { id?: string }>(\n  tableName: string,\n  arrayKey: string,\n  set: SetState<any>,\n  get: GetState<any>\n) => {\n  const capitalizedName = arrayKey.charAt(0).toUpperCase() + arrayKey.slice(1, -1);\n  const storeName = (TABLE_MAP[tableName] || tableName) as StoreName;\n  const offlineManager = getOfflineManager();\n\n  return {\n    // ===== 新增 =====\n    [`add${capitalizedName}`]: async (data: Omit<T, 'id' | 'createdAt' | 'updatedAt'>) => {\n      try {\n        // 特殊處理：自動生成編號\n        if (tableName === 'quotes' && !(data as any).quoteNumber) {\n          const year = new Date().getFullYear();\n          const state = get();\n          const existingQuotes = state[arrayKey] || [];\n          const lastNumber = existingQuotes\n            .map((q: any) => q.quoteNumber)\n            .filter((num: string) => num?.startsWith(`QUOTE-${year}`))\n            .map((num: string) => parseInt(num.split('-')[2] || '0'))\n            .sort((a: number, b: number) => b - a)[0] || 0;\n\n          const newNumber = (lastNumber + 1).toString().padStart(4, '0');\n          (data as any).quoteNumber = `QUOTE-${year}-${newNumber}`;\n        }\n\n        // 使用 OfflineManager 建立資料\n        const newItem = await offlineManager.create<T>(storeName, data as Partial<T>);\n\n        // 更新 Zustand store\n        const state = get();\n        set({\n          [arrayKey]: [...state[arrayKey], newItem]\n        });\n\n        return newItem;\n      } catch (error) {\n        console.error(`❌ 新增 ${tableName} 失敗:`, error);\n        throw new Error(`無法新增${tableName}: ${error instanceof Error ? error.message : '未知錯誤'}`);\n      }\n    },\n\n    // ===== 更新 =====\n    [`update${capitalizedName}`]: async (id: string, data: Partial<T>) => {\n      try {\n        // 使用 OfflineManager 更新資料\n        const updatedItem = await offlineManager.update<T>(storeName, id, data);\n\n        // 更新 Zustand store\n        const state = get();\n        const updatedArray = state[arrayKey].map((item: T) =>\n          item.id === id ? updatedItem : item\n        );\n        set({ [arrayKey]: updatedArray });\n\n        return updatedItem;\n      } catch (error) {\n        console.error(`❌ 更新 ${tableName} 失敗:`, error);\n        throw new Error(`無法更新${tableName}: ${error instanceof Error ? error.message : '未知錯誤'}`);\n      }\n    },\n\n    // ===== 刪除 =====\n    [`delete${capitalizedName}`]: async (id: string) => {\n      try {\n        // 使用 OfflineManager 刪除資料\n        await offlineManager.delete(storeName, id);\n\n        // 更新 Zustand store\n        const state = get();\n        set({\n          [arrayKey]: state[arrayKey].filter((item: T) => item.id !== id)\n        });\n\n        return true;\n      } catch (error) {\n        console.error(`❌ 刪除 ${tableName} 失敗:`, error);\n        throw new Error(`無法刪除${tableName}: ${error instanceof Error ? error.message : '未知錯誤'}`);\n      }\n    },\n\n    // ===== 載入 =====\n    [`load${capitalizedName}s`]: async () => {\n      try {\n        // 使用 OfflineManager 載入資料\n        const data = await offlineManager.getAll<T>(storeName);\n\n        // 更新 Zustand store\n        set({ [arrayKey]: data });\n\n        console.log(`✅ 載入 ${tableName}:`, data.length, '筆');\n        return data;\n      } catch (error) {\n        console.error(`⚠️ 載入 ${tableName} 失敗:`, error);\n        return null;\n      }\n    }\n  };\n};\n\n// ============= 輔助函數 =============\n\n/**\n * 生成唯一 ID（使用 unified-types 的 UUID 生成器）\n */\nexport const generateId = (): string => {\n  return generateUUID();\n};\n\n/**\n * 生成時間戳\n */\nexport const generateTimestamp = (): string => {\n  return new Date().toISOString();\n};\n\n/**\n * 錯誤處理包裝器\n */\nexport const withErrorHandling = <T>(\n  operation: () => T,\n  errorMessage: string\n): T => {\n  try {\n    return operation();\n  } catch (error) {\n    console.error(`❌ ${errorMessage}:`, error);\n    throw new Error(`${errorMessage}: ${error instanceof Error ? error.message : '未知錯誤'}`);\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/stores/accounting-store.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { Account, Category, Transaction, Budget, AccountingStats } from './accounting-types';\nimport { createPersistentCrudMethods, generateId } from '@/lib/persistent-store';\n\ninterface AccountingStore {\n  // 資料狀態\n  accounts: Account[];\n  categories: Category[];\n  transactions: Transaction[];\n  budgets: Budget[];\n\n  // 統計資料\n  stats: AccountingStats;\n\n  // 帳戶管理（統一方法）\n  addAccount: (account: Omit<Account, 'id' | 'createdAt' | 'updatedAt'>) => Promise<Account>;\n  updateAccount: (id: string, account: Partial<Account>) => Promise<Account | undefined>;\n  deleteAccount: (id: string) => Promise<boolean>;\n  loadAccounts: () => Promise<Account[] | null>;\n\n  // 分類管理（統一方法）\n  addCategory: (category: Omit<Category, 'id' | 'createdAt' | 'updatedAt'>) => Promise<Category>;\n  updateCategory: (id: string, category: Partial<Category>) => Promise<Category | undefined>;\n  deleteCategory: (id: string) => Promise<boolean>;\n  loadCategories: () => Promise<Category[] | null>;\n\n  // 交易記錄（保留自定義，因為有餘額計算）\n  addTransaction: (transaction: Omit<Transaction, 'id' | 'createdAt' | 'updatedAt'>) => string;\n  updateTransaction: (id: string, transaction: Partial<Transaction>) => void;\n  deleteTransaction: (id: string) => void;\n\n  // 統計計算\n  calculateStats: () => void;\n  getAccountBalance: (accountId: string) => number;\n  getCategoryTotal: (categoryId: string, startDate?: string, endDate?: string) => number;\n}\n\nexport const useAccountingStore = create<AccountingStore>()(\n  persist(\n    (set, get) => ({\n      // 初始資料\n      accounts: [],\n      categories: [],\n      transactions: [],\n      budgets: [],\n\n      stats: {\n        totalAssets: 0,\n        totalIncome: 0,\n        totalExpense: 0,\n        monthlyIncome: 0,\n        monthlyExpense: 0,\n        netWorth: 0,\n        categoryBreakdown: []\n      },\n\n      // 帳戶管理（使用統一方法，加上計算邏輯）\n      ...createPersistentCrudMethods<Account>('accounts', 'accounts', set, get),\n      ...createPersistentCrudMethods<Category>('categories', 'categories', set, get),\n\n      addAccount: (accountData) => {\n        try {\n          const methods = createPersistentCrudMethods<Account>('accounts', 'accounts', set, get);\n          const account = methods.addAccount(accountData);\n          get().calculateStats();\n          return account;\n        } catch (error) {\n          console.error('❌ 新增帳戶失敗:', error);\n          throw error;\n        }\n      },\n\n      updateAccount: (id, accountData) => {\n        try {\n          const methods = createPersistentCrudMethods<Account>('accounts', 'accounts', set, get);\n          const account = methods.updateAccount(id, accountData);\n          get().calculateStats();\n          return account;\n        } catch (error) {\n          console.error('❌ 更新帳戶失敗:', error);\n          return undefined;\n        }\n      },\n\n      deleteAccount: (id) => {\n        try {\n          // 先刪除相關交易\n          set((state) => ({\n            transactions: state.transactions.filter(transaction =>\n              transaction.accountId !== id && transaction.toAccountId !== id\n            ),\n          }));\n\n          const methods = createPersistentCrudMethods<Account>('accounts', 'accounts', set, get);\n          const success = methods.deleteAccount(id);\n          get().calculateStats();\n          return success;\n        } catch (error) {\n          console.error('❌ 刪除帳戶失敗:', error);\n          return false;\n        }\n      },\n\n      loadAccounts: async () => {\n        const methods = createPersistentCrudMethods<Account>('accounts', 'accounts', set, get);\n        return methods.loadAccounts();\n      },\n\n      // 分類管理（使用統一方法）\n      addCategory: (categoryData) => {\n        try {\n          const methods = createPersistentCrudMethods<Category>('categories', 'categories', set, get);\n          return methods.addCategory(categoryData);\n        } catch (error) {\n          console.error('❌ 新增分類失敗:', error);\n          throw error;\n        }\n      },\n\n      updateCategory: (id, categoryData) => {\n        try {\n          const methods = createPersistentCrudMethods<Category>('categories', 'categories', set, get);\n          return methods.updateCategory(id, categoryData);\n        } catch (error) {\n          console.error('❌ 更新分類失敗:', error);\n          return undefined;\n        }\n      },\n\n      deleteCategory: (id) => {\n        try {\n          // 先刪除該分類的交易\n          set((state) => ({\n            transactions: state.transactions.filter(transaction => transaction.categoryId !== id),\n          }));\n\n          const methods = createPersistentCrudMethods<Category>('categories', 'categories', set, get);\n          return methods.deleteCategory(id);\n        } catch (error) {\n          console.error('❌ 刪除分類失敗:', error);\n          return false;\n        }\n      },\n\n      loadCategories: async () => {\n        const methods = createPersistentCrudMethods<Category>('categories', 'categories', set, get);\n        return methods.loadCategories();\n      },\n\n      // 交易記錄（保留自定義邏輯，因為需要更新帳戶餘額）\n      addTransaction: (transactionData) => {\n        try {\n          const id = generateId();\n          const now = new Date().toISOString();\n\n          const transaction: Transaction = {\n            ...transactionData,\n            id,\n            createdAt: now,\n            updatedAt: now,\n          };\n\n          set((state) => ({ transactions: [...state.transactions, transaction] }));\n          get().updateAccountBalances(transaction);\n          get().calculateStats();\n          return id;\n        } catch (error) {\n          console.error('❌ 新增交易失敗:', error);\n          return '';\n        }\n      },\n\n      updateTransaction: (id, transactionData) => {\n        try {\n          const now = new Date().toISOString();\n          const oldTransaction = get().transactions.find(t => t.id === id);\n\n          set((state) => ({\n            transactions: state.transactions.map(transaction =>\n              transaction.id === id ? { ...transaction, ...transactionData, updatedAt: now } : transaction\n            ),\n          }));\n\n          if (oldTransaction) {\n            get().reverseAccountBalances(oldTransaction);\n          }\n          const newTransaction = get().transactions.find(t => t.id === id);\n          if (newTransaction) {\n            get().updateAccountBalances(newTransaction);\n          }\n          get().calculateStats();\n        } catch (error) {\n          console.error('❌ 更新交易失敗:', error);\n        }\n      },\n\n      deleteTransaction: (id) => {\n        try {\n          const transaction = get().transactions.find(t => t.id === id);\n          if (transaction) {\n            get().reverseAccountBalances(transaction);\n          }\n\n          set((state) => ({\n            transactions: state.transactions.filter(transaction => transaction.id !== id),\n          }));\n          get().calculateStats();\n        } catch (error) {\n          console.error('❌ 刪除交易失敗:', error);\n        }\n      },\n\n      // 輔助方法：更新帳戶餘額\n      updateAccountBalances: (transaction: Transaction) => {\n        set((state) => ({\n          accounts: state.accounts.map(account => {\n            if (account.id === transaction.accountId) {\n              const balanceChange = transaction.type === 'income' ? transaction.amount : -transaction.amount;\n              const newBalance = account.balance + balanceChange;\n              const availableCredit = account.type === 'credit' && account.creditLimit\n                ? account.creditLimit + newBalance\n                : account.availableCredit;\n              return { ...account, balance: newBalance, availableCredit };\n            }\n            if (transaction.toAccountId && account.id === transaction.toAccountId) {\n              const newBalance = account.balance + transaction.amount;\n              const availableCredit = account.type === 'credit' && account.creditLimit\n                ? account.creditLimit + newBalance\n                : account.availableCredit;\n              return { ...account, balance: newBalance, availableCredit };\n            }\n            return account;\n          })\n        }));\n      },\n\n      // 輔助方法：反向更新帳戶餘額（用於刪除或修改交易）\n      reverseAccountBalances: (transaction: Transaction) => {\n        set((state) => ({\n          accounts: state.accounts.map(account => {\n            if (account.id === transaction.accountId) {\n              const balanceChange = transaction.type === 'income' ? -transaction.amount : transaction.amount;\n              return { ...account, balance: account.balance + balanceChange };\n            }\n            if (transaction.toAccountId && account.id === transaction.toAccountId) {\n              return { ...account, balance: account.balance - transaction.amount };\n            }\n            return account;\n          })\n        }));\n      },\n\n      // 統計計算\n      calculateStats: () => {\n        const { accounts, transactions } = get();\n        const now = new Date();\n        const currentMonth = now.getMonth();\n        const currentYear = now.getFullYear();\n\n        const totalAssets = accounts\n          .filter(account => account.balance > 0)\n          .reduce((sum, account) => sum + account.balance, 0);\n\n        const totalDebt = accounts\n          .filter(account => account.balance < 0)\n          .reduce((sum, account) => sum + Math.abs(account.balance), 0);\n\n        const netWorth = totalAssets - totalDebt;\n\n        const totalIncome = transactions\n          .filter(t => t.type === 'income')\n          .reduce((sum, t) => sum + t.amount, 0);\n\n        const totalExpense = transactions\n          .filter(t => t.type === 'expense')\n          .reduce((sum, t) => sum + t.amount, 0);\n\n        const monthlyIncome = transactions\n          .filter(t => {\n            const transactionDate = new Date(t.date);\n            return t.type === 'income' &&\n                   transactionDate.getMonth() === currentMonth &&\n                   transactionDate.getFullYear() === currentYear;\n          })\n          .reduce((sum, t) => sum + t.amount, 0);\n\n        const monthlyExpense = transactions\n          .filter(t => {\n            const transactionDate = new Date(t.date);\n            return t.type === 'expense' &&\n                   transactionDate.getMonth() === currentMonth &&\n                   transactionDate.getFullYear() === currentYear;\n          })\n          .reduce((sum, t) => sum + t.amount, 0);\n\n        const { categories } = get();\n        const categoryTotals = new Map<string, number>();\n\n        transactions\n          .filter(t => t.type === 'expense')\n          .forEach(t => {\n            const current = categoryTotals.get(t.categoryId) || 0;\n            categoryTotals.set(t.categoryId, current + t.amount);\n          });\n\n        const categoryBreakdown = Array.from(categoryTotals.entries())\n          .map(([categoryId, amount]) => {\n            const category = categories.find(c => c.id === categoryId);\n            return {\n              categoryId,\n              categoryName: category?.name || '未知分類',\n              amount,\n              percentage: totalExpense > 0 ? (amount / totalExpense) * 100 : 0\n            };\n          })\n          .sort((a, b) => b.amount - a.amount);\n\n        set({\n          stats: {\n            totalAssets,\n            totalIncome,\n            totalExpense,\n            monthlyIncome,\n            monthlyExpense,\n            netWorth,\n            categoryBreakdown\n          }\n        });\n      },\n\n      // 工具方法\n      getAccountBalance: (accountId: string) => {\n        const account = get().accounts.find(a => a.id === accountId);\n        return account?.balance || 0;\n      },\n\n      getCategoryTotal: (categoryId: string, startDate?: string, endDate?: string) => {\n        const { transactions } = get();\n        return transactions\n          .filter(t => {\n            if (t.categoryId !== categoryId) return false;\n            if (startDate && t.date < startDate) return false;\n            if (endDate && t.date > endDate) return false;\n            return true;\n          })\n          .reduce((sum, t) => sum + t.amount, 0);\n      }\n    }),\n    {\n      name: 'venturo-accounting-store',\n      version: 1,\n    }\n  )\n);\n\n// 初始化統計資料\nsetTimeout(() => {\n  useAccountingStore.getState().calculateStats();\n}, 0);"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:border-morandi-gold disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,qXACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 715, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/accounting/transaction-list.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useAccountingStore } from '@/stores/accounting-store';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  ArrowUpRight,\n  ArrowDownRight,\n  ArrowRightLeft,\n  Calendar,\n  Filter,\n  Search,\n  Trash2\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nconst transactionTypeIcons = {\n  income: ArrowUpRight,\n  expense: ArrowDownRight,\n  transfer: ArrowRightLeft,\n};\n\nexport const TransactionList = React.memo(function TransactionList() {\n  const { transactions, categories, accounts, deleteTransaction } = useAccountingStore();\n  const [searchText, setSearchText] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'income' | 'expense' | 'transfer'>('all');\n  const [dateRange, setDateRange] = useState<'all' | 'today' | 'week' | 'month'>('month');\n\n  const handleDeleteTransaction = (transactionId: string, description: string, amount: number) => {\n    const confirmMessage = `確定要刪除此筆交易嗎？\\n\\n金額：NT$ ${amount.toLocaleString()}\\n說明：${description || '無'}\\n\\n此操作會影響帳戶餘額統計。`;\n\n    if (!confirm(confirmMessage)) {\n      return;\n    }\n\n    try {\n      deleteTransaction(transactionId);\n    } catch (err) {\n      console.error('刪除交易失敗:', err);\n      alert('刪除失敗，請稍後再試');\n    }\n  };\n\n  // 篩選交易\n  const filteredTransactions = transactions.filter(transaction => {\n    // 搜尋篩選\n    const matchesSearch = !searchText ||\n      transaction.description?.toLowerCase().includes(searchText.toLowerCase()) ||\n      transaction.categoryName.toLowerCase().includes(searchText.toLowerCase()) ||\n      transaction.accountName.toLowerCase().includes(searchText.toLowerCase());\n\n    // 類型篩選\n    const matchesType = filterType === 'all' || transaction.type === filterType;\n\n    // 日期篩選\n    let matchesDate = true;\n    const transactionDate = new Date(transaction.date);\n    const now = new Date();\n\n    switch (dateRange) {\n      case 'today':\n        matchesDate = transactionDate.toDateString() === now.toDateString();\n        break;\n      case 'week':\n        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        matchesDate = transactionDate >= weekAgo;\n        break;\n      case 'month':\n        matchesDate = transactionDate.getMonth() === now.getMonth() &&\n                     transactionDate.getFullYear() === now.getFullYear();\n        break;\n    }\n\n    return matchesSearch && matchesType && matchesDate;\n  });\n\n  // 按日期排序（最新的在前）\n  const sortedTransactions = filteredTransactions.sort((a, b) =>\n    new Date(b.date).getTime() - new Date(a.date).getTime()\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* 篩選和搜尋 */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"flex-1 relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-morandi-secondary\" size={16} />\n          <Input\n            placeholder=\"搜尋交易...\"\n            value={searchText}\n            onChange={(e) => setSearchText(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n\n        <div className=\"flex gap-2\">\n          {/* 類型篩選 */}\n          <select\n            value={filterType}\n            onChange={(e) => setFilterType(e.target.value as any)}\n            className=\"px-3 py-2 border border-border rounded-md bg-background text-sm\"\n          >\n            <option value=\"all\">全部類型</option>\n            <option value=\"income\">收入</option>\n            <option value=\"expense\">支出</option>\n            <option value=\"transfer\">轉帳</option>\n          </select>\n\n          {/* 日期篩選 */}\n          <select\n            value={dateRange}\n            onChange={(e) => setDateRange(e.target.value as any)}\n            className=\"px-3 py-2 border border-border rounded-md bg-background text-sm\"\n          >\n            <option value=\"all\">全部時間</option>\n            <option value=\"today\">今天</option>\n            <option value=\"week\">本週</option>\n            <option value=\"month\">本月</option>\n          </select>\n        </div>\n      </div>\n\n      {/* 統計摘要 */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 p-4 bg-morandi-container/10 rounded-lg\">\n        <div className=\"text-center\">\n          <div className=\"text-sm text-morandi-secondary\">收入</div>\n          <div className=\"text-lg font-semibold text-morandi-green\">\n            +NT$ {filteredTransactions\n              .filter(t => t.type === 'income')\n              .reduce((sum, t) => sum + t.amount, 0)\n              .toLocaleString()}\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-sm text-morandi-secondary\">支出</div>\n          <div className=\"text-lg font-semibold text-morandi-red\">\n            -NT$ {filteredTransactions\n              .filter(t => t.type === 'expense')\n              .reduce((sum, t) => sum + t.amount, 0)\n              .toLocaleString()}\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-sm text-morandi-secondary\">結餘</div>\n          <div className={cn(\n            \"text-lg font-semibold\",\n            (filteredTransactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0) -\n             filteredTransactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0)) >= 0\n             ? \"text-morandi-green\" : \"text-morandi-red\"\n          )}>\n            {(filteredTransactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0) -\n              filteredTransactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0)) >= 0 ? '+' : ''}\n            NT$ {(filteredTransactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0) -\n                  filteredTransactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0))\n                  .toLocaleString()}\n          </div>\n        </div>\n      </div>\n\n      {/* 交易列表 */}\n      <div className=\"space-y-2\">\n        {sortedTransactions.length === 0 ? (\n          <div className=\"space-y-6\">\n            {/* 空狀態提示 */}\n            <div className=\"text-center py-8 text-morandi-secondary\">\n              <Calendar size={48} className=\"mx-auto mb-4 opacity-50\" />\n              <p className=\"text-lg font-medium text-morandi-primary mb-2\">沒有找到相符的交易記錄</p>\n              <p className=\"text-sm text-morandi-secondary\">\n                {searchText || filterType !== 'all' || dateRange !== 'all'\n                  ? '嘗試調整篩選條件或新增交易記錄'\n                  : '開始新增收入、支出或轉帳記錄'}\n              </p>\n            </div>\n\n            {/* 示例交易記錄 */}\n            <div className=\"border-t border-border pt-6\">\n              <h3 className=\"text-lg font-medium text-morandi-primary mb-4\">預覽：交易記錄樣式</h3>\n              <div className=\"space-y-2\">\n                {[\n                  {\n                    type: 'income',\n                    categoryName: '薪資收入',\n                    accountName: '台幣現金',\n                    description: '2024年1月薪水',\n                    amount: 45000,\n                    date: new Date().toLocaleDateString('zh-TW')\n                  },\n                  {\n                    type: 'expense',\n                    categoryName: '餐費',\n                    accountName: '信用卡',\n                    description: '午餐 - 便當',\n                    amount: 120,\n                    date: new Date().toLocaleDateString('zh-TW')\n                  },\n                  {\n                    type: 'transfer',\n                    categoryName: '轉帳',\n                    accountName: '銀行帳戶',\n                    toAccountName: '投資帳戶',\n                    description: '定期投資',\n                    amount: 10000,\n                    date: new Date().toLocaleDateString('zh-TW')\n                  },\n                  {\n                    type: 'expense',\n                    categoryName: '交通',\n                    accountName: '悠遊卡',\n                    description: '捷運通勤',\n                    amount: 30,\n                    date: new Date().toLocaleDateString('zh-TW')\n                  }\n                ].map((transaction, index) => {\n                  const Icon = transactionTypeIcons[transaction.type as keyof typeof transactionTypeIcons];\n                  const isIncome = transaction.type === 'income';\n                  const isExpense = transaction.type === 'expense';\n\n                  return (\n                    <div\n                      key={index}\n                      className=\"flex items-center justify-between p-4 border border-border rounded-lg opacity-60\"\n                    >\n                      <div className=\"flex items-center space-x-4\">\n                        <div className={cn(\n                          \"w-10 h-10 rounded-full flex items-center justify-center\",\n                          isIncome && \"bg-morandi-green/10\",\n                          isExpense && \"bg-morandi-red/10\",\n                          transaction.type === 'transfer' && \"bg-morandi-blue/10\"\n                        )}>\n                          <Icon className={cn(\n                            \"w-5 h-5\",\n                            isIncome && \"text-morandi-green\",\n                            isExpense && \"text-morandi-red\",\n                            transaction.type === 'transfer' && \"text-morandi-blue\"\n                          )} />\n                        </div>\n\n                        <div className=\"space-y-1\">\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"font-medium text-morandi-primary\">\n                              {transaction.categoryName}\n                            </span>\n                            <span className=\"text-sm text-morandi-secondary\">\n                              • {transaction.accountName}\n                            </span>\n                          </div>\n                          <div className=\"text-sm text-morandi-secondary\">\n                            {transaction.description || '無備註'}\n                          </div>\n                          <div className=\"text-xs text-morandi-secondary\">\n                            {transaction.date}\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"text-right\">\n                        <div className={cn(\n                          \"text-lg font-semibold\",\n                          isIncome && \"text-morandi-green\",\n                          isExpense && \"text-morandi-red\",\n                          transaction.type === 'transfer' && \"text-morandi-blue\"\n                        )}>\n                          {isIncome && '+'}\n                          {isExpense && '-'}\n                          {transaction.type === 'transfer' && ''}\n                          NT$ {transaction.amount.toLocaleString()}\n                        </div>\n                        {transaction.type === 'transfer' && transaction.toAccountName && (\n                          <div className=\"text-xs text-morandi-secondary\">\n                            轉至 {transaction.toAccountName}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n\n              <div className=\"mt-6 p-4 bg-morandi-container/10 rounded-lg text-center\">\n                <p className=\"text-sm text-morandi-secondary\">\n                  💡 以上為交易記錄樣式預覽，實際資料建立後將顯示真實內容\n                </p>\n              </div>\n            </div>\n          </div>\n        ) : (\n          sortedTransactions.map((transaction) => {\n            const Icon = transactionTypeIcons[transaction.type];\n            const isIncome = transaction.type === 'income';\n            const isExpense = transaction.type === 'expense';\n\n            return (\n              <div\n                key={transaction.id}\n                className=\"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-morandi-container/20 transition-colors group\"\n              >\n                <div className=\"flex items-center space-x-4 flex-1\">\n                  <div className={cn(\n                    \"w-10 h-10 rounded-full flex items-center justify-center\",\n                    isIncome && \"bg-morandi-green/10\",\n                    isExpense && \"bg-morandi-red/10\",\n                    transaction.type === 'transfer' && \"bg-morandi-blue/10\"\n                  )}>\n                    <Icon className={cn(\n                      \"w-5 h-5\",\n                      isIncome && \"text-morandi-green\",\n                      isExpense && \"text-morandi-red\",\n                      transaction.type === 'transfer' && \"text-morandi-blue\"\n                    )} />\n                  </div>\n\n                  <div className=\"space-y-1\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"font-medium text-morandi-primary\">\n                        {transaction.categoryName}\n                      </span>\n                      <span className=\"text-sm text-morandi-secondary\">\n                        • {transaction.accountName}\n                      </span>\n                    </div>\n                    <div className=\"text-sm text-morandi-secondary\">\n                      {transaction.description || '無備註'}\n                    </div>\n                    <div className=\"text-xs text-morandi-secondary\">\n                      {new Date(transaction.date).toLocaleDateString('zh-TW')}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"text-right\">\n                    <div className={cn(\n                      \"text-lg font-semibold\",\n                      isIncome && \"text-morandi-green\",\n                      isExpense && \"text-morandi-red\",\n                      transaction.type === 'transfer' && \"text-morandi-blue\"\n                    )}>\n                      {isIncome && '+'}\n                      {isExpense && '-'}\n                      {transaction.type === 'transfer' && ''}\n                      NT$ {transaction.amount.toLocaleString()}\n                    </div>\n                    {transaction.type === 'transfer' && transaction.toAccountName && (\n                      <div className=\"text-xs text-morandi-secondary\">\n                        轉至 {transaction.toAccountName}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* 刪除按鈕 - 懸停顯示 */}\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => handleDeleteTransaction(transaction.id, transaction.description || '', transaction.amount)}\n                    className=\"h-8 w-8 p-0 text-morandi-red hover:bg-morandi-red/10 opacity-0 group-hover:opacity-100 transition-opacity\"\n                    title=\"刪除交易\"\n                  >\n                    <Trash2 size={14} />\n                  </Button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      {/* 載入更多按鈕 */}\n      {sortedTransactions.length > 0 && (\n        <div className=\"text-center\">\n          <Button variant=\"outline\" size=\"sm\">\n            載入更多交易\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n});"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1438, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/accounting/accounts-management.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useAccountingStore } from '@/stores/accounting-store';\nimport { Button } from '@/components/ui/button';\nimport {\n  Wallet,\n  CreditCard,\n  PiggyBank,\n  TrendingUp,\n  MoreHorizontal,\n  Edit,\n  Trash2,\n  Eye,\n  EyeOff\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nconst accountTypeIcons = {\n  cash: Wallet,\n  bank: CreditCard,\n  credit: CreditCard,\n  investment: TrendingUp,\n  other: PiggyBank,\n};\n\nconst accountTypeLabels = {\n  cash: '現金',\n  bank: '銀行帳戶',\n  credit: '信用卡',\n  investment: '投資帳戶',\n  other: '其他帳戶',\n};\n\nexport const AccountsManagement = React.memo(function AccountsManagement() {\n  const { accounts, updateAccount, deleteAccount } = useAccountingStore();\n  const [expandedAccount, setExpandedAccount] = useState<string | null>(null);\n\n  const handleToggleActive = (accountId: string, isActive: boolean) => {\n    updateAccount(accountId, { isActive: !isActive });\n  };\n\n  const handleDeleteAccount = (accountId: string, accountName: string) => {\n    if (confirm(`確定要刪除帳戶「${accountName}」嗎？這個操作無法復原。`)) {\n      deleteAccount(accountId);\n    }\n  };\n\n  // 按帳戶類型分組\n  const accountsByType = accounts.reduce((groups, account) => {\n    if (!groups[account.type]) {\n      groups[account.type] = [];\n    }\n    groups[account.type].push(account);\n    return groups;\n  }, {} as Record<string, typeof accounts>);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-xl font-semibold text-morandi-primary\">帳戶管理</h3>\n        <div className=\"text-sm text-morandi-secondary\">\n          共 {accounts.length} 個帳戶 • 活躍 {accounts.filter(a => a.isActive).length} 個\n        </div>\n      </div>\n\n      {/* 帳戶列表 */}\n      <div className=\"space-y-8\">\n        {Object.entries(accountsByType).map(([type, accountsOfType]) => {\n          const Icon = accountTypeIcons[type as keyof typeof accountTypeIcons] || Wallet;\n          const typeLabel = accountTypeLabels[type as keyof typeof accountTypeLabels] || type;\n          const totalBalance = accountsOfType.reduce((sum, acc) => sum + acc.balance, 0);\n\n          return (\n            <div key={type} className=\"space-y-4\">\n              {/* 類型標題 */}\n              <div className=\"flex items-center justify-between p-4 bg-morandi-container/20 rounded-lg\">\n                <div className=\"flex items-center space-x-3\">\n                  <Icon size={24} className=\"text-morandi-secondary\" />\n                  <div>\n                    <div className=\"font-semibold text-morandi-primary\">{typeLabel}</div>\n                    <div className=\"text-sm text-morandi-secondary\">{accountsOfType.length} 個帳戶</div>\n                  </div>\n                </div>\n                <div className={cn(\n                  \"text-xl font-bold\",\n                  totalBalance >= 0 ? \"text-morandi-green\" : \"text-morandi-red\"\n                )}>\n                  {totalBalance >= 0 ? '+' : ''}NT$ {totalBalance.toLocaleString()}\n                </div>\n              </div>\n\n              {/* 該類型的帳戶卡片 */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {accountsOfType.map((account) => (\n                  <div\n                    key={account.id}\n                    className={cn(\n                      \"border rounded-xl p-6 transition-all duration-200 hover:shadow-lg\",\n                      account.isActive\n                        ? \"border-border bg-white hover:border-morandi-gold/50\"\n                        : \"border-morandi-container bg-morandi-container/30 opacity-75\"\n                    )}\n                  >\n                    {/* 帳戶標題 */}\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div\n                          className=\"w-4 h-4 rounded-full flex-shrink-0\"\n                          style={{ backgroundColor: account.color }}\n                        />\n                        <div>\n                          <div className=\"font-semibold text-morandi-primary\">{account.name}</div>\n                          {account.description && (\n                            <div className=\"text-sm text-morandi-secondary\">{account.description}</div>\n                          )}\n                        </div>\n                      </div>\n\n                      {/* 狀態指標 */}\n                      <div className=\"flex items-center space-x-1\">\n                        {account.isActive ? (\n                          <Eye size={16} className=\"text-morandi-green\" />\n                        ) : (\n                          <EyeOff size={16} className=\"text-morandi-secondary\" />\n                        )}\n                      </div>\n                    </div>\n\n                    {/* 餘額顯示 */}\n                    <div className=\"mb-4\">\n                      <div className=\"text-sm text-morandi-secondary mb-1\">\n                        {account.type === 'credit' ? '目前欠款' : '帳戶餘額'}\n                      </div>\n                      <div className={cn(\n                        \"text-2xl font-bold\",\n                        account.balance >= 0 ? \"text-morandi-green\" : \"text-morandi-red\"\n                      )}>\n                        {account.balance >= 0 ? '+' : ''}NT$ {Math.abs(account.balance).toLocaleString()}\n                      </div>\n                    </div>\n\n                    {/* 信用卡額度資訊 */}\n                    {account.type === 'credit' && account.creditLimit && (\n                      <div className=\"mb-4 p-3 bg-morandi-container/20 rounded-lg\">\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <span className=\"text-sm text-morandi-secondary\">信用額度</span>\n                          <span className=\"text-sm font-medium text-morandi-primary\">\n                            NT$ {account.creditLimit.toLocaleString()}\n                          </span>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm text-morandi-secondary\">可用額度</span>\n                          <span className=\"text-sm font-semibold text-morandi-blue\">\n                            NT$ {((account.creditLimit || 0) + account.balance).toLocaleString()}\n                          </span>\n                        </div>\n                        {/* 額度使用率條 */}\n                        <div className=\"mt-3\">\n                          <div className=\"flex justify-between text-xs text-morandi-secondary mb-1\">\n                            <span>使用率</span>\n                            <span>{(((Math.abs(account.balance) / (account.creditLimit || 1)) * 100)).toFixed(1)}%</span>\n                          </div>\n                          <div className=\"w-full bg-morandi-container/30 rounded-full h-2\">\n                            <div\n                              className={cn(\n                                \"h-2 rounded-full transition-all duration-300\",\n                                Math.abs(account.balance) / (account.creditLimit || 1) > 0.8\n                                  ? \"bg-morandi-red\"\n                                  : Math.abs(account.balance) / (account.creditLimit || 1) > 0.5\n                                  ? \"bg-morandi-gold\"\n                                  : \"bg-morandi-green\"\n                              )}\n                              style={{\n                                width: `${Math.min(((Math.abs(account.balance) / (account.creditLimit || 1)) * 100), 100)}%`\n                              }}\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* 操作按鈕 */}\n                    <div className=\"flex items-center justify-between pt-4 border-t border-morandi-container\">\n                      <div className=\"flex space-x-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleToggleActive(account.id, account.isActive)}\n                          className={cn(\n                            \"text-xs\",\n                            account.isActive\n                              ? \"text-morandi-secondary hover:text-morandi-red\"\n                              : \"text-morandi-secondary hover:text-morandi-green\"\n                          )}\n                        >\n                          {account.isActive ? (\n                            <>\n                              <EyeOff size={12} className=\"mr-1\" />\n                              隱藏\n                            </>\n                          ) : (\n                            <>\n                              <Eye size={12} className=\"mr-1\" />\n                              顯示\n                            </>\n                          )}\n                        </Button>\n                      </div>\n\n                      <div className=\"flex space-x-1\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"text-xs text-morandi-secondary hover:text-morandi-primary\"\n                        >\n                          <Edit size={12} className=\"mr-1\" />\n                          編輯\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleDeleteAccount(account.id, account.name)}\n                          className=\"text-xs text-morandi-secondary hover:text-morandi-red\"\n                        >\n                          <Trash2 size={12} className=\"mr-1\" />\n                          刪除\n                        </Button>\n                      </div>\n                    </div>\n\n                    {/* 建立日期 */}\n                    <div className=\"mt-3 text-xs text-morandi-secondary\">\n                      建立於 {new Date(account.createdAt).toLocaleDateString('zh-TW')}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n\n        {accounts.length === 0 && (\n          <div className=\"text-center py-12 text-morandi-secondary\">\n            <Wallet size={24} className=\"mx-auto mb-4 opacity-50\" />\n            <p className=\"text-lg mb-2\">還沒有任何帳戶</p>\n            <p className=\"text-sm\">點擊右上角的「新增帳戶」開始建立你的第一個錢包吧！</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2011, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2151, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/hooks/useEnterSubmit.ts"],"sourcesContent":["import { KeyboardEvent } from 'react';\n\n/**\n * 統一的 Enter 鍵提交處理 Hook\n *\n * 使用方式：\n * const handleKeyDown = useEnterSubmit(handleSubmit);\n * <Input onKeyDown={handleKeyDown} />\n */\nexport function useEnterSubmit(onSubmit: () => void) {\n  return (e: KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      onSubmit();\n    }\n  };\n}\n\n/**\n * 支援 Shift+Enter 換行的版本 (用於 Textarea)\n *\n * 使用方式：\n * const handleKeyDown = useEnterSubmitWithShift(handleSubmit);\n * <Textarea onKeyDown={handleKeyDown} />\n */\nexport function useEnterSubmitWithShift(onSubmit: () => void) {\n  return (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    // Shift+Enter = 換行，Enter = 提交\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      onSubmit();\n    }\n  };\n}\n"],"names":[],"mappings":";;;;;;AASO,SAAS,eAAe,QAAoB;IACjD,OAAO,CAAC;QACN,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;AACF;AASO,SAAS,wBAAwB,QAAoB;IAC1D,OAAO,CAAC;QACN,8BAA8B;QAC9B,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 2178, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/components/accounting/add-account-dialog.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useAccountingStore } from '@/stores/accounting-store';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  Wallet,\n  CreditCard,\n  PiggyBank,\n  TrendingUp,\n  Building2\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { useEnterSubmit } from '@/hooks/useEnterSubmit';\n\ninterface AddAccountDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst accountTypes = [\n  { id: 'cash', label: '現金', icon: Wallet, color: '#10B981', description: '現金錢包、零錢' },\n  { id: 'bank', label: '銀行帳戶', icon: Building2, color: '#3B82F6', description: '儲蓄帳戶、活期存款' },\n  { id: 'credit', label: '信用卡', icon: CreditCard, color: '#EF4444', description: '信用卡、信貸額度' },\n  { id: 'investment', label: '投資帳戶', icon: TrendingUp, color: '#8B5CF6', description: '股票、基金、投資' },\n  { id: 'other', label: '其他帳戶', icon: PiggyBank, color: '#F59E0B', description: '數位錢包、其他資產' },\n];\n\nconst predefinedColors = [\n  '#10B981', // 綠色\n  '#3B82F6', // 藍色\n  '#EF4444', // 紅色\n  '#8B5CF6', // 紫色\n  '#F59E0B', // 橘色\n  '#EC4899', // 粉紅\n  '#6B7280', // 灰色\n  '#84CC16', // 萊姆綠\n];\n\nexport function AddAccountDialog({ isOpen, onClose }: AddAccountDialogProps) {\n  const { addAccount } = useAccountingStore();\n  const [formData, setFormData] = useState({\n    name: '',\n    type: 'cash' as const,\n    balance: '',\n    creditLimit: '', // 信用額度\n    color: '#10B981',\n    description: '',\n  });\n\n  const handleSubmit = () => {\n    if (!formData.name.trim()) return;\n\n    const selectedType = accountTypes.find(t => t.id === formData.type);\n\n    const accountData = {\n      name: formData.name.trim(),\n      type: formData.type,\n      balance: parseFloat(formData.balance) || 0,\n      currency: 'TWD',\n      icon: selectedType?.icon.name || 'Wallet',\n      color: formData.color,\n      isActive: true,\n      description: formData.description.trim(),\n      // 信用卡相關欄位\n      ...(formData.type === 'credit' && {\n        creditLimit: parseFloat(formData.creditLimit) || 0,\n        availableCredit: (parseFloat(formData.creditLimit) || 0) + (parseFloat(formData.balance) || 0),\n      }),\n    };\n\n    addAccount(accountData);\n    resetForm();\n    onClose();\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      type: 'cash',\n      balance: '',\n      creditLimit: '',\n      color: '#10B981',\n      description: '',\n    });\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const selectedAccountType = accountTypes.find(t => t.id === formData.type);\n  const handleKeyDown = useEnterSubmit(handleSubmit);\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>新增帳戶</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* 帳戶類型選擇 */}\n          <div>\n            <label className=\"text-sm font-medium text-morandi-primary mb-3 block\">帳戶類型</label>\n            <div className=\"grid grid-cols-1 gap-3\">\n              {accountTypes.map((type) => {\n                const Icon = type.icon;\n                const isSelected = formData.type === type.id;\n                return (\n                  <button\n                    key={type.id}\n                    onClick={() => setFormData(prev => ({\n                      ...prev,\n                      type: type.id as any,\n                      color: type.color\n                    }))}\n                    className={cn(\n                      'p-4 rounded-lg border-2 transition-all flex items-center space-x-4 text-left',\n                      isSelected\n                        ? 'border-morandi-gold bg-morandi-gold/5'\n                        : 'border-morandi-container hover:border-morandi-container-hover'\n                    )}\n                  >\n                    <div\n                      className=\"w-10 h-10 rounded-lg flex items-center justify-center text-white\"\n                      style={{ backgroundColor: type.color }}\n                    >\n                      <Icon size={20} />\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"font-medium text-morandi-primary\">{type.label}</div>\n                      <div className=\"text-sm text-morandi-secondary\">{type.description}</div>\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* 帳戶名稱 */}\n          <div>\n            <label className=\"text-sm font-medium text-morandi-primary\">帳戶名稱</label>\n            <Input\n              value={formData.name}\n              onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n              onKeyDown={handleKeyDown}\n              placeholder={`輸入${selectedAccountType?.label}名稱`}\n              className=\"mt-1\"\n            />\n          </div>\n\n          {/* 初始餘額 */}\n          <div>\n            <label className=\"text-sm font-medium text-morandi-primary\">\n              {formData.type === 'credit' ? '目前欠款金額' : '初始餘額'}\n            </label>\n            <div className=\"mt-1 relative\">\n              <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-morandi-secondary\">NT$</span>\n              <Input\n                type=\"number\"\n                value={formData.balance}\n                onChange={(e) => setFormData(prev => ({ ...prev, balance: e.target.value }))}\n                onKeyDown={handleKeyDown}\n                placeholder=\"0\"\n                className=\"pl-12\"\n                step=\"1\"\n              />\n            </div>\n            {formData.type === 'credit' && (\n              <div className=\"text-xs text-morandi-secondary mt-1\">\n                💡 信用卡請輸入負數（如：-5000 表示欠款5000元）\n              </div>\n            )}\n          </div>\n\n          {/* 信用卡額度 */}\n          {formData.type === 'credit' && (\n            <div>\n              <label className=\"text-sm font-medium text-morandi-primary\">信用額度</label>\n              <div className=\"mt-1 relative\">\n                <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-morandi-secondary\">NT$</span>\n                <Input\n                  type=\"number\"\n                  value={formData.creditLimit}\n                  onChange={(e) => setFormData(prev => ({ ...prev, creditLimit: e.target.value }))}\n                  onKeyDown={handleKeyDown}\n                  placeholder=\"50000\"\n                  className=\"pl-12\"\n                  min=\"0\"\n                  step=\"1000\"\n                />\n              </div>\n              <div className=\"text-xs text-morandi-secondary mt-1\">\n                設定這張信用卡的總額度限制\n              </div>\n            </div>\n          )}\n\n          {/* 顏色選擇 */}\n          <div>\n            <label className=\"text-sm font-medium text-morandi-primary\">顏色標識</label>\n            <div className=\"mt-2 flex flex-wrap gap-3\">\n              {predefinedColors.map((color) => (\n                <button\n                  key={color}\n                  onClick={() => setFormData(prev => ({ ...prev, color }))}\n                  className={cn(\n                    'w-8 h-8 rounded-full border-2 transition-all',\n                    formData.color === color\n                      ? 'border-morandi-primary scale-110'\n                      : 'border-morandi-container hover:border-morandi-container-hover'\n                  )}\n                  style={{ backgroundColor: color }}\n                />\n              ))}\n            </div>\n          </div>\n\n          {/* 描述 */}\n          <div>\n            <label className=\"text-sm font-medium text-morandi-primary\">備註說明</label>\n            <Input\n              value={formData.description}\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n              onKeyDown={handleKeyDown}\n              placeholder=\"輸入帳戶備註（選填）\"\n              className=\"mt-1\"\n            />\n          </div>\n\n          {/* 預覽卡片 */}\n          {formData.name && (\n            <div className=\"p-4 bg-morandi-container/10 rounded-lg\">\n              <div className=\"text-sm font-medium text-morandi-secondary mb-2\">預覽</div>\n              <div className=\"flex items-center space-x-3\">\n                <div\n                  className=\"w-4 h-4 rounded-full\"\n                  style={{ backgroundColor: formData.color }}\n                />\n                <div className=\"flex-1\">\n                  <div className=\"font-medium text-morandi-primary\">{formData.name}</div>\n                  {formData.description && (\n                    <div className=\"text-sm text-morandi-secondary\">{formData.description}</div>\n                  )}\n                </div>\n                <div className={cn(\n                  \"font-semibold\",\n                  parseFloat(formData.balance) >= 0 ? \"text-morandi-green\" : \"text-morandi-red\"\n                )}>\n                  {parseFloat(formData.balance) >= 0 ? '+' : ''}\n                  NT$ {Math.abs(parseFloat(formData.balance) || 0).toLocaleString()}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* 按鈕 */}\n          <div className=\"flex justify-end space-x-3 pt-4\">\n            <Button variant=\"outline\" onClick={handleClose}>\n              取消\n            </Button>\n            <Button\n              onClick={handleSubmit}\n              disabled={!formData.name.trim()}\n              className=\"bg-morandi-gold hover:bg-morandi-gold-hover text-white\"\n            >\n              建立帳戶\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2740, "column": 0}, "map": {"version":3,"sources":["file:///Users/williamchien/Desktop/Venturo/venturo-new/src/app/accounting/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useMemo, useCallback } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useAccountingStore } from '@/stores/accounting-store';\nimport {\n  Wallet,\n  CreditCard,\n  Plus,\n  TrendingUp,\n  TrendingDown,\n  DollarSign,\n  PieChart,\n  ArrowUpDown,\n  Calendar,\n  BarChart3,\n  Settings,\n  Zap,\n  UtensilsCrossed,\n  Car,\n  ShoppingBag,\n  Gamepad2,\n  Package,\n  Edit3,\n  MoreHorizontal\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { AccountsOverview } from '@/components/accounting/accounts-overview';\nimport { TransactionList } from '@/components/accounting/transaction-list';\nimport { AccountsManagement } from '@/components/accounting/accounts-management';\nimport { AddAccountDialog } from '@/components/accounting/add-account-dialog';\n\nexport default function AccountingPage() {\n  const { accounts, stats, categories, transactions, addTransaction } = useAccountingStore();\n  const [activeTab, setActiveTab] = useState<'overview' | 'transactions' | 'accounts' | 'settings'>('overview');\n  const [isAddAccountOpen, setIsAddAccountOpen] = useState(false);\n  const [theme, setTheme] = useState<'morandi' | 'moneypro'>('morandi');\n\n  // 快速記帳狀態\n  const [quickAmount, setQuickAmount] = useState('');\n  const [quickCategory, setQuickCategory] = useState('4'); // 預設餐費\n  const [quickAccount, setQuickAccount] = useState(accounts.length > 0 ? accounts[0].id : '');\n  const [showToast, setShowToast] = useState(false);\n  const amountInputRef = useRef<HTMLInputElement>(null);\n  const categorySelectRef = useRef<HTMLButtonElement>(null);\n  const addButtonRef = useRef<HTMLButtonElement>(null);\n\n  const tabs = [\n    { id: 'overview', label: '總覽', icon: BarChart3 },\n    { id: 'transactions', label: '交易', icon: ArrowUpDown },\n    { id: 'accounts', label: '帳戶', icon: Wallet },\n    { id: 'settings', label: '設定', icon: Settings },\n  ];\n\n  // 常用分類配置\n  const quickCategories = [\n    { id: '4', name: '餐費', icon: 'Food', color: '#F97316' },\n    { id: '5', name: '交通', icon: 'Transport', color: '#8B5CF6' },\n    { id: '6', name: '購物', icon: 'Shopping', color: '#EC4899' },\n    { id: '7', name: '娛樂', icon: 'Game', color: '#6366F1' },\n    { id: '8', name: '其他', icon: 'Other', color: '#6B7280' },\n  ];\n\n  // 今日交易\n  const today = new Date().toISOString().split('T')[0];\n  const todayTransactions = useMemo(() =>\n    transactions\n      .filter(t => t.date === today)\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n      .slice(0, 3)\n  , [transactions, today]);\n\n  // 快速記帳處理\n  const handleQuickTransaction = useCallback(async () => {\n    if (!quickAmount || !quickCategory || !quickAccount) return;\n\n    const categoryData = categories.find(c => c.id === quickCategory);\n    const accountData = accounts.find(a => a.id === quickAccount);\n\n    if (!categoryData || !accountData) return;\n\n    const transactionData = {\n      accountId: quickAccount,\n      accountName: accountData.name,\n      categoryId: quickCategory,\n      categoryName: categoryData.name,\n      type: 'expense' as const,\n      amount: parseFloat(quickAmount),\n      currency: 'TWD',\n      description: '',\n      date: today,\n    };\n\n    addTransaction(transactionData);\n\n    // 清空表單並顯示成功動畫\n    setQuickAmount('');\n    setShowToast(true);\n    setTimeout(() => setShowToast(false), 2000);\n\n    // 重新聚焦到金額輸入\n    setTimeout(() => {\n      amountInputRef.current?.focus();\n    }, 100);\n  }, [quickAmount, quickCategory, quickAccount, categories, accounts, today, addTransaction]);\n\n  // 分類快速選擇\n  const handleQuickCategorySelect = useCallback((categoryId: string) => {\n    setQuickCategory(categoryId);\n    setTimeout(() => {\n      addButtonRef.current?.focus();\n    }, 100);\n  }, []);\n\n  // 金額輸入完成\n  const handleAmountComplete = useCallback(() => {\n    if (quickAmount) {\n      categorySelectRef.current?.focus();\n    }\n  }, [quickAmount]);\n\n  // 計算本月與上月差異\n  const currentMonth = new Date().getMonth();\n  const currentYear = new Date().getFullYear();\n  const lastMonth = currentMonth === 0 ? 11 : currentMonth - 1;\n  const lastMonthYear = currentMonth === 0 ? currentYear - 1 : currentYear;\n\n  const lastMonthExpense = useMemo(() =>\n    transactions\n      .filter(t => {\n        const transactionDate = new Date(t.date);\n        return t.type === 'expense' &&\n               transactionDate.getMonth() === lastMonth &&\n               transactionDate.getFullYear() === lastMonthYear;\n      })\n      .reduce((sum, t) => sum + t.amount, 0)\n  , [transactions, lastMonth, lastMonthYear]);\n\n  const expenseDifference = lastMonthExpense - stats.monthlyExpense;\n  const daysToEndOfMonth = new Date(currentYear, currentMonth + 1, 0).getDate() - new Date().getDate();\n\n  // 主題配置\n  const themeConfig = {\n    morandi: {\n      bg: 'bg-gradient-to-br from-[#F8F5F0] to-[#E6DDD4]',\n      headerBg: 'bg-gradient-to-r from-[#6B5B73] to-[#B5986A]',\n      cardBg: 'bg-gradient-to-br from-white to-[#F8F5F0]',\n      primary: 'text-[#6B5B73]',\n      secondary: 'text-[#6B5B73]/60',\n      accent: 'bg-gradient-to-r from-[#B5986A] to-[#D4C4A8]',\n      border: 'border-[#E6DDD4]'\n    },\n    moneypro: {\n      bg: 'bg-gradient-to-b from-slate-700 to-slate-800',\n      headerBg: 'bg-gradient-to-r from-slate-800 to-slate-700',\n      cardBg: 'bg-slate-600',\n      primary: 'text-white',\n      secondary: 'text-slate-300',\n      accent: 'bg-gradient-to-r from-blue-600 to-blue-700',\n      border: 'border-slate-500'\n    }\n  };\n\n  const currentTheme = themeConfig[theme];\n\n  return (\n    <div className={cn(\"min-h-screen pb-20\", currentTheme.bg)}>\n      {/* APP風格頂部區域 */}\n      <div className={cn(\"text-white p-4 sm:p-6 mx-4 mt-4 rounded-3xl shadow-lg\", currentTheme.headerBg)}>\n        <div className=\"flex justify-between items-center mb-4\">\n          <h1 className=\"text-xl sm:text-2xl font-bold\">記帳助手</h1>\n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setTheme(theme === 'morandi' ? 'moneypro' : 'morandi')}\n              className=\"text-white hover:bg-white/20 rounded-full p-2 text-xs\"\n            >\n              {theme === 'morandi' ? 'Dark' : 'Light'}\n            </Button>\n          </div>\n        </div>\n\n        {/* 本月支出主卡片 */}\n        <div className=\"bg-white/15 backdrop-blur-sm rounded-2xl p-4 sm:p-6 mb-4\">\n          <div className=\"text-center\">\n            <div className=\"text-white/80 text-sm mb-1\">本月支出</div>\n            <div className=\"text-3xl sm:text-4xl font-bold text-white mb-2\">\n              NT$ {stats.monthlyExpense.toLocaleString()}\n            </div>\n            <div className=\"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-4 text-sm text-white/80\">\n              <div className=\"flex items-center space-x-1\">\n                <TrendingUp size={14} />\n                <span>收入: NT$ {stats.monthlyIncome.toLocaleString()}</span>\n              </div>\n              {expenseDifference > 0 && (\n                <div className=\"flex items-center space-x-1 text-green-300\">\n                  <span>比上月省了 NT$ {expenseDifference.toLocaleString()}</span>\n                </div>\n              )}\n            </div>\n            <div className=\"text-xs text-white/60 mt-2\">\n              距離月底還有 {daysToEndOfMonth} 天\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-4 mt-4 space-y-6\">\n        {/* 快速記帳區域 */}\n        <div className={cn(\"rounded-2xl p-6 shadow-lg border\", currentTheme.cardBg, currentTheme.border)}>\n          <div className=\"flex items-center space-x-2 mb-6\">\n            <Zap className={cn(\"w-5 h-5\", theme === 'morandi' ? 'text-[#B5986A]' : 'text-blue-400')} />\n            <h2 className={cn(\"text-lg font-semibold\", currentTheme.primary)}>快速記帳</h2>\n          </div>\n\n          {/* 三按鈕區域 - 響應式設計 */}\n          <div className=\"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-3 sm:gap-3 mb-6\">\n            {/* 金額輸入 */}\n            <div className=\"sm:col-span-1\">\n              <div className={cn(\"rounded-xl border-2 p-4 h-20 transition-colors\",\n                theme === 'morandi' ? 'bg-white border-[#E6DDD4] focus-within:border-[#B5986A]' : 'bg-slate-700 border-slate-500 focus-within:border-blue-400'\n              )}>\n                <div className={cn(\"text-xs mb-1\", currentTheme.secondary)}>金額</div>\n                <input\n                  ref={amountInputRef}\n                  type=\"number\"\n                  value={quickAmount}\n                  onChange={(e) => setQuickAmount(e.target.value)}\n                  onKeyDown={(e) => e.key === 'Enter' && handleAmountComplete()}\n                  placeholder=\"0\"\n                  className={cn(\"w-full text-xl font-bold bg-transparent border-0 focus:outline-none\",\n                    currentTheme.primary,\n                    theme === 'morandi' ? 'placeholder-[#6B5B73]/30' : 'placeholder-slate-400'\n                  )}\n                />\n              </div>\n            </div>\n\n            {/* 分類選擇 */}\n            <div className=\"sm:col-span-1\">\n              <Select value={quickCategory} onValueChange={setQuickCategory}>\n                <SelectTrigger\n                  ref={categorySelectRef}\n                  className={cn(\"h-20 border-2 rounded-xl text-center\",\n                    theme === 'morandi'\n                      ? 'bg-white border-[#E6DDD4] text-[#6B5B73] focus:border-[#B5986A]'\n                      : 'bg-slate-700 border-slate-500 text-white focus:border-blue-400'\n                  )}\n                >\n                  <SelectValue>\n                    <div className=\"flex items-center justify-center space-x-2\">\n                      <span className=\"font-semibold\">\n                        {quickCategories.find(c => c.id === quickCategory)?.name || '餐費'}\n                      </span>\n                    </div>\n                  </SelectValue>\n                </SelectTrigger>\n                <SelectContent>\n                  {quickCategories.map((category) => (\n                    <SelectItem key={category.id} value={category.id}>\n                      <span>{category.name}</span>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            {/* 記帳按鈕 */}\n            <div className=\"sm:col-span-1\">\n              <Button\n                ref={addButtonRef}\n                onClick={handleQuickTransaction}\n                disabled={!quickAmount || !quickCategory}\n                className={cn(\"w-full h-20 text-white font-semibold rounded-xl border-0 shadow-lg transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:active:scale-100 text-base\",\n                  currentTheme.accent\n                )}\n              >\n                <Plus size={20} className=\"mr-2\" />\n                記帳\n              </Button>\n            </div>\n          </div>\n\n          {/* 常用分類快速選擇 */}\n          <div className=\"space-y-3\">\n            <div className={cn(\"text-sm\", currentTheme.secondary)}>常用分類</div>\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2\">\n              {quickCategories.map((category) => (\n                <button\n                  key={category.id}\n                  onClick={() => handleQuickCategorySelect(category.id)}\n                  className={cn(\n                    \"flex items-center justify-center px-3 py-3 sm:px-4 rounded-full transition-all duration-200 active:scale-95 text-sm sm:text-base\",\n                    quickCategory === category.id\n                      ? (theme === 'morandi' ? \"bg-[#B5986A] text-white shadow-lg\" : \"bg-blue-600 text-white shadow-lg\")\n                      : (theme === 'morandi' ? \"bg-white/80 text-[#6B5B73] hover:bg-white border border-[#E6DDD4]\" : \"bg-slate-700 text-slate-300 hover:bg-slate-600 border border-slate-500\")\n                  )}\n                >\n                  <span className=\"font-medium\">{category.name}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* 今日交易簡化列表 */}\n        <div className={cn(\"rounded-2xl p-6 shadow-lg border\", currentTheme.cardBg, currentTheme.border)}>\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className={cn(\"text-lg font-semibold\", currentTheme.primary)}>今日交易</h3>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setActiveTab('transactions')}\n              className={cn(\"rounded-full text-sm\",\n                theme === 'morandi' ? 'text-[#B5986A] hover:bg-[#B5986A]/10' : 'text-blue-400 hover:bg-blue-400/10'\n              )}\n            >\n              查看全部\n            </Button>\n          </div>\n\n          {todayTransactions.length > 0 ? (\n            <div className=\"space-y-3\">\n              {todayTransactions.map((transaction) => {\n                const category = quickCategories.find(c => c.id === transaction.categoryId);\n                return (\n                  <div key={transaction.id} className={cn(\"flex items-center justify-between p-3 sm:p-4 rounded-xl border\",\n                    theme === 'morandi' ? 'bg-white/60 border-[#E6DDD4]/50' : 'bg-slate-700 border-slate-600'\n                  )}>\n                    <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\n                      <div className=\"min-w-0 flex-1\">\n                        <div className={cn(\"font-medium truncate\", currentTheme.primary)}>{transaction.categoryName}</div>\n                        <div className={cn(\"text-sm\", currentTheme.secondary)}>\n                          {new Date(transaction.createdAt).toLocaleTimeString('zh-TW', {\n                            hour: '2-digit',\n                            minute: '2-digit'\n                          })}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2 flex-shrink-0\">\n                      <div className=\"text-right\">\n                        <span className={cn(\n                          \"font-bold text-base sm:text-lg\",\n                          transaction.type === 'expense'\n                            ? (theme === 'morandi' ? \"text-[#D2691E]\" : \"text-red-400\")\n                            : (theme === 'morandi' ? \"text-[#228B22]\" : \"text-green-400\")\n                        )}>\n                          {transaction.type === 'expense' ? '-' : '+'}NT$ {transaction.amount.toLocaleString()}\n                        </span>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className={cn(\"p-1 sm:p-2\",\n                          theme === 'morandi' ? 'text-[#6B5B73]/40 hover:text-[#6B5B73]' : 'text-slate-400 hover:text-slate-300'\n                        )}\n                      >\n                        <Edit3 size={14} />\n                      </Button>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <div className={cn(\"text-center py-8\", currentTheme.secondary)}>\n              <Package size={40} className={cn(\"mx-auto mb-3 sm:w-12 sm:h-12\",\n                theme === 'morandi' ? 'text-[#B5986A]/40' : 'text-blue-400/40'\n              )} />\n              <p className=\"text-base sm:text-lg\">今日還沒有交易紀錄</p>\n              <p className=\"text-sm\">使用上方快速記帳開始吧</p>\n            </div>\n          )}\n        </div>\n\n        {/* 其他分頁內容 */}\n        {activeTab !== 'overview' && (\n          <div className={cn(\"rounded-2xl shadow-lg border\", currentTheme.cardBg, currentTheme.border)}>\n            {activeTab === 'transactions' && (\n              <div className=\"p-6\">\n                <TransactionList />\n              </div>\n            )}\n\n            {activeTab === 'accounts' && (\n              <div className=\"p-6\">\n                <AccountsManagement />\n              </div>\n            )}\n\n            {activeTab === 'settings' && (\n              <div className=\"p-6\">\n                <div className=\"text-center py-8\">\n                  <Settings size={48} className=\"mx-auto mb-3 text-[#B5986A]\" />\n                  <h3 className=\"text-lg font-semibold text-[#6B5B73] mb-2\">設定功能</h3>\n                  <p className=\"text-[#6B5B73]/60\">即將推出更多設定選項</p>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* APP風格底部導航 */}\n      <div className={cn(\"fixed bottom-0 left-0 right-0 backdrop-blur-lg border-t px-2 sm:px-4 py-2 sm:py-3 safe-area-bottom\",\n        theme === 'morandi'\n          ? 'bg-gradient-to-r from-white/95 to-[#F8F5F0]/95 border-[#E6DDD4]/50'\n          : 'bg-slate-800/95 border-slate-600'\n      )}>\n        <div className=\"flex items-center justify-around max-w-lg mx-auto\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            const isActive = activeTab === tab.id;\n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id as any)}\n                className={cn(\n                  'flex flex-col items-center space-y-1 p-2 sm:p-3 rounded-xl transition-all duration-200 min-w-0 flex-1',\n                  isActive\n                    ? (theme === 'morandi' ? 'text-[#B5986A] bg-[#B5986A]/10 scale-110' : 'text-blue-400 bg-blue-400/10 scale-110')\n                    : (theme === 'morandi' ? 'text-[#6B5B73]/60 hover:text-[#6B5B73] hover:bg-[#6B5B73]/5' : 'text-slate-400 hover:text-slate-300 hover:bg-slate-700')\n                )}\n              >\n                <Icon size={20} className=\"sm:w-6 sm:h-6\" />\n                <span className=\"text-xs font-medium truncate\">{tab.label}</span>\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n\n      {/* 成功提示Toast */}\n      {showToast && (\n        <div className=\"fixed top-4 left-1/2 transform -translate-x-1/2 z-50\">\n          <div className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-full shadow-lg flex items-center space-x-2 animate-pulse\">\n            <div className=\"w-2 h-2 bg-white rounded-full animate-ping\" />\n            <span className=\"font-medium\">記帳成功！</span>\n          </div>\n        </div>\n      )}\n\n\n      {/* 新增帳戶對話框 */}\n      <AddAccountDialog\n        isOpen={isAddAccountOpen}\n        onClose={() => setIsAddAccountOpen(false)}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}